{"level":"info","time":"2025-05-07T10:32:38.602Z","socketId":"euKpbaWWjeASxx9NAAAT","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:32:38.683Z","socketId":"euKpbaWWjeASxx9NAAAT","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:33:01.551Z","handler":"disconnect","socketId":"euKpbaWWjeASxx9NAAAT","reason":"transport close","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1db153627f0020e0616d","msg":"Client disconnected."}
{"level":"info","time":"2025-05-07T10:33:06.990Z","middleware":"socketAuth","socketId":"Cdvjz8tQfLeCwiy3AAAV","hasToken":true,"msg":"Authentication attempt"}
{"level":"info","time":"2025-05-07T10:33:06.993Z","middleware":"socketAuth","socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"Token signature validated successfully."}
{"level":"info","time":"2025-05-07T10:33:06.994Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"[SERVER GLOBAL] New connection. Socket ID: Cdvjz8tQfLeCwiy3AAAV. Initial socket.data.userId: null"}
{"level":"info","time":"2025-05-07T10:33:06.994Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","hasToken":true,"msg":"Client connected, processing authentication."}
{"level":"info","time":"2025-05-07T10:33:06.995Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"Attempting to fetch user info using token..."}
{"level":"info","time":"2025-05-07T10:33:07.678Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","email":"loicute5fps@gmail.com","msg":"User info fetched successfully."}
{"level":"info","time":"2025-05-07T10:33:07.679Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers NOW."}
{"level":"info","time":"2025-05-07T10:33:07.679Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers for connection."}
{"level":"info","time":"2025-05-07T10:33:07.680Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","msg":"Core event handlers successfully registered."}
{"level":"info","time":"2025-05-07T10:33:07.680Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:33:07.680Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Authenticated user session ready. Emitting connection_ready."}
{"level":"info","time":"2025-05-07T10:33:07.680Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Fetching initial conversation list..."}
{"level":"info","time":"2025-05-07T10:33:07.760Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","count":3,"msg":"Sent initial conversation list."}
{"level":"info","time":"2025-05-07T10:33:07.761Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:33:07.761Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Emitted \"server_ready\" to client."}
{"level":"info","time":"2025-05-07T10:33:07.780Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET Cdvjz8tQfLeCwiy3AAAV - ON ANY]"}
{"level":"info","time":"2025-05-07T10:33:07.785Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:33:07.788Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:33:07.864Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:33:23.221Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","eventName":"load_conversation","args":[{"conversationId":"681b1dd653627f0020e06176"}],"msg":"[SERVER SOCKET Cdvjz8tQfLeCwiy3AAAV - ON ANY]"}
{"level":"info","time":"2025-05-07T10:33:23.224Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1dd653627f0020e06176"},"socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:33:23.225Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:33:23.297Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:33:25.614Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","eventName":"load_conversation","args":[{"conversationId":"681b1de453627f0020e06183"}],"msg":"[SERVER SOCKET Cdvjz8tQfLeCwiy3AAAV - ON ANY]"}
{"level":"info","time":"2025-05-07T10:33:25.618Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1de453627f0020e06183"},"socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:33:25.619Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1de453627f0020e06183","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:33:25.693Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1de453627f0020e06183","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:33:26.433Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET Cdvjz8tQfLeCwiy3AAAV - ON ANY]"}
{"level":"info","time":"2025-05-07T10:33:26.440Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"Cdvjz8tQfLeCwiy3AAAV","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:33:26.441Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:33:26.512Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:33:29.606Z","handler":"connection","socketId":"Cdvjz8tQfLeCwiy3AAAV","eventName":"send_message","args":[{"userInput":"Hello","isStreaming":true,"language":"vi"}],"msg":"[SERVER SOCKET Cdvjz8tQfLeCwiy3AAAV - ON ANY]"}
{"level":"info","time":"2025-05-07T10:33:29.608Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"send_message","handlerId":"Msg-Cdvj-1746614009608","userInputPreview":"Hello","isStreaming":true,"language":"vi","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1db153627f0020e0616d","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:33:30.098Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"send_message","handlerId":"Msg-Cdvj-1746614009608","convId":"681b1db153627f0020e0616d","historyCount":0,"msg":"Fetched current history."}
{"level":"info","time":"2025-05-07T10:33:32.138Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"send_message","handlerId":"Msg-Cdvj-1746614009608","convId":"681b1db153627f0020e0616d","newHistorySize":2,"msg":"Intent handler returned updated history. Attempting save."}
{"level":"info","time":"2025-05-07T10:33:32.248Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"send_message","handlerId":"Msg-Cdvj-1746614009608","convId":"681b1db153627f0020e0616d","msg":"Successfully updated history in DB."}
{"level":"info","time":"2025-05-07T10:33:32.326Z","socketId":"Cdvjz8tQfLeCwiy3AAAV","handler":"coreHandlers","event":"send_message","handlerId":"Msg-Cdvj-1746614009608","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","reason":"message saved","count":3,"msg":"Emitted updated conversation list."}
{"level":"info","time":"2025-05-07T10:33:38.613Z","handler":"disconnect","socketId":"Cdvjz8tQfLeCwiy3AAAV","reason":"transport close","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1db153627f0020e0616d","msg":"Client disconnected."}
{"level":"info","time":"2025-05-07T10:33:41.074Z","middleware":"socketAuth","socketId":"iJPxVIhc7Ts4J112AAAX","hasToken":true,"msg":"Authentication attempt"}
{"level":"info","time":"2025-05-07T10:33:41.076Z","middleware":"socketAuth","socketId":"iJPxVIhc7Ts4J112AAAX","msg":"Token signature validated successfully."}
{"level":"info","time":"2025-05-07T10:33:41.077Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","msg":"[SERVER GLOBAL] New connection. Socket ID: iJPxVIhc7Ts4J112AAAX. Initial socket.data.userId: null"}
{"level":"info","time":"2025-05-07T10:33:41.078Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","hasToken":true,"msg":"Client connected, processing authentication."}
{"level":"info","time":"2025-05-07T10:33:41.078Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","msg":"Attempting to fetch user info using token..."}
{"level":"info","time":"2025-05-07T10:33:41.857Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","email":"loicute5fps@gmail.com","msg":"User info fetched successfully."}
{"level":"info","time":"2025-05-07T10:33:41.857Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers NOW."}
{"level":"info","time":"2025-05-07T10:33:41.858Z","socketId":"iJPxVIhc7Ts4J112AAAX","handler":"coreHandlers","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers for connection."}
{"level":"info","time":"2025-05-07T10:33:41.858Z","socketId":"iJPxVIhc7Ts4J112AAAX","handler":"coreHandlers","msg":"Core event handlers successfully registered."}
{"level":"info","time":"2025-05-07T10:33:41.859Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:33:41.859Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Authenticated user session ready. Emitting connection_ready."}
{"level":"info","time":"2025-05-07T10:33:41.860Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Fetching initial conversation list..."}
{"level":"info","time":"2025-05-07T10:33:41.888Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET iJPxVIhc7Ts4J112AAAX - ON ANY]"}
{"level":"info","time":"2025-05-07T10:33:41.900Z","socketId":"iJPxVIhc7Ts4J112AAAX","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"iJPxVIhc7Ts4J112AAAX","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:33:41.903Z","socketId":"iJPxVIhc7Ts4J112AAAX","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:33:41.936Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","count":3,"msg":"Sent initial conversation list."}
{"level":"info","time":"2025-05-07T10:33:41.937Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:33:41.937Z","handler":"connection","socketId":"iJPxVIhc7Ts4J112AAAX","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Emitted \"server_ready\" to client."}
{"level":"info","time":"2025-05-07T10:33:42.490Z","socketId":"iJPxVIhc7Ts4J112AAAX","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:36:43.653Z","handler":"disconnect","socketId":"iJPxVIhc7Ts4J112AAAX","reason":"transport close","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1db153627f0020e0616d","msg":"Client disconnected."}
{"level":"info","time":"2025-05-07T10:36:46.737Z","middleware":"socketAuth","socketId":"m1mmGMToDxFAsqXmAAAZ","hasToken":true,"msg":"Authentication attempt"}
{"level":"info","time":"2025-05-07T10:36:46.740Z","middleware":"socketAuth","socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Token signature validated successfully."}
{"level":"info","time":"2025-05-07T10:36:46.741Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"[SERVER GLOBAL] New connection. Socket ID: m1mmGMToDxFAsqXmAAAZ. Initial socket.data.userId: null"}
{"level":"info","time":"2025-05-07T10:36:46.742Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","hasToken":true,"msg":"Client connected, processing authentication."}
{"level":"info","time":"2025-05-07T10:36:46.742Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Attempting to fetch user info using token..."}
{"level":"info","time":"2025-05-07T10:36:47.467Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","email":"loicute5fps@gmail.com","msg":"User info fetched successfully."}
{"level":"info","time":"2025-05-07T10:36:47.467Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers NOW."}
{"level":"info","time":"2025-05-07T10:36:47.468Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers for connection."}
{"level":"info","time":"2025-05-07T10:36:47.468Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","msg":"Core event handlers successfully registered."}
{"level":"info","time":"2025-05-07T10:36:47.468Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:36:47.468Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Authenticated user session ready. Emitting connection_ready."}
{"level":"info","time":"2025-05-07T10:36:47.469Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Fetching initial conversation list..."}
{"level":"info","time":"2025-05-07T10:36:47.501Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:36:47.504Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:36:47.505Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:36:47.547Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","count":3,"msg":"Sent initial conversation list."}
{"level":"info","time":"2025-05-07T10:36:47.548Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:36:47.548Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Emitted \"server_ready\" to client."}
{"level":"info","time":"2025-05-07T10:36:47.574Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:38:23.262Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1de453627f0020e06183"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:23.265Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1de453627f0020e06183"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:38:23.265Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1de453627f0020e06183","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:23.340Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1de453627f0020e06183","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:38:24.943Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1dd653627f0020e06176"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:24.946Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1dd653627f0020e06176"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:38:24.946Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:25.025Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:38:31.935Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"send_message","args":[{"userInput":"Hello","isStreaming":true,"language":"vi"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:31.935Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614311935","userInputPreview":"Hello","isStreaming":true,"language":"vi","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1dd653627f0020e06176","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:32.007Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614311935","convId":"681b1dd653627f0020e06176","historyCount":0,"msg":"Fetched current history."}
{"level":"info","time":"2025-05-07T10:38:33.108Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614311935","convId":"681b1dd653627f0020e06176","newHistorySize":2,"msg":"Intent handler returned updated history. Attempting save."}
{"level":"info","time":"2025-05-07T10:38:33.186Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614311935","convId":"681b1dd653627f0020e06176","msg":"Successfully updated history in DB."}
{"level":"info","time":"2025-05-07T10:38:33.262Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614311935","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","reason":"message saved","count":3,"msg":"Emitted updated conversation list."}
{"level":"info","time":"2025-05-07T10:38:43.628Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"pin_conversation","args":[{"conversationId":"681b1db153627f0020e0616d","isPinned":false}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:43.629Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"pin_conversation","conversationId":"681b1db153627f0020e0616d","isPinned":false,"userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:43.732Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"pin_conversation","conversationId":"681b1db153627f0020e0616d","isPinned":false,"msg":"Successfully updated pin status."}
{"level":"info","time":"2025-05-07T10:38:43.820Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"pin_conversation","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","reason":"pinned/unpinned conv 681b1db153627f0020e0616d","count":3,"msg":"Emitted updated conversation list."}
{"level":"info","time":"2025-05-07T10:38:53.331Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:53.334Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:38:53.334Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:53.402Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:38:54.750Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1dd653627f0020e06176"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:54.754Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1dd653627f0020e06176"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:38:54.755Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:54.826Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:38:58.561Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"send_message","args":[{"userInput":"oke","isStreaming":true,"language":"vi"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:38:58.562Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614338562","userInputPreview":"oke","isStreaming":true,"language":"vi","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1dd653627f0020e06176","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:38:58.656Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614338562","convId":"681b1dd653627f0020e06176","historyCount":2,"msg":"Fetched current history."}
{"level":"info","time":"2025-05-07T10:39:01.219Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614338562","convId":"681b1dd653627f0020e06176","newHistorySize":4,"msg":"Intent handler returned updated history. Attempting save."}
{"level":"info","time":"2025-05-07T10:39:01.312Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614338562","convId":"681b1dd653627f0020e06176","msg":"Successfully updated history in DB."}
{"level":"info","time":"2025-05-07T10:39:01.383Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"send_message","handlerId":"Msg-m1mm-1746614338562","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","reason":"message saved","count":3,"msg":"Emitted updated conversation list."}
{"level":"info","time":"2025-05-07T10:39:23.929Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:39:23.932Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:39:23.932Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:39:24.000Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:39:24.521Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1dd653627f0020e06176"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:39:24.525Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1dd653627f0020e06176"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:39:24.526Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:39:24.593Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","messageCount":4,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:40:11.971Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"clear_conversation","args":[{"conversationId":"681b1dd653627f0020e06176"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:40:11.972Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"clear_conversation","conversationId":"681b1dd653627f0020e06176","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:40:12.065Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"clear_conversation","conversationId":"681b1dd653627f0020e06176","msg":"Successfully processed message clearing."}
{"level":"info","time":"2025-05-07T10:40:12.066Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"clear_conversation","conversationId":"681b1dd653627f0020e06176","msg":"Cleared conversation was active. Emitting empty history."}
{"level":"info","time":"2025-05-07T10:40:12.169Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"clear_conversation","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","reason":"cleared conversation 681b1dd653627f0020e06176","count":3,"msg":"Emitted updated conversation list."}
{"level":"info","time":"2025-05-07T10:40:14.559Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:40:14.561Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:40:14.562Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:40:14.639Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:40:17.227Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1de453627f0020e06183"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:40:17.230Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1de453627f0020e06183"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:40:17.231Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1de453627f0020e06183","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:40:17.324Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1de453627f0020e06183","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:40:18.813Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1dd653627f0020e06176"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:40:18.818Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1dd653627f0020e06176"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:40:18.819Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:40:18.894Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1dd653627f0020e06176","messageCount":0,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:40:19.743Z","handler":"connection","socketId":"m1mmGMToDxFAsqXmAAAZ","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET m1mmGMToDxFAsqXmAAAZ - ON ANY]"}
{"level":"info","time":"2025-05-07T10:40:19.746Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"m1mmGMToDxFAsqXmAAAZ","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:40:19.747Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:40:19.821Z","socketId":"m1mmGMToDxFAsqXmAAAZ","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","messageCount":2,"msg":"Sent history. Set as active conversation."}
{"level":"info","time":"2025-05-07T10:40:23.554Z","handler":"disconnect","socketId":"m1mmGMToDxFAsqXmAAAZ","reason":"transport close","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","activeConvId":"681b1db153627f0020e0616d","msg":"Client disconnected."}
{"level":"info","time":"2025-05-07T10:40:25.950Z","middleware":"socketAuth","socketId":"8rdMN-pCaDDLb5UMAAAb","hasToken":true,"msg":"Authentication attempt"}
{"level":"info","time":"2025-05-07T10:40:25.953Z","middleware":"socketAuth","socketId":"8rdMN-pCaDDLb5UMAAAb","msg":"Token signature validated successfully."}
{"level":"info","time":"2025-05-07T10:40:25.954Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","msg":"[SERVER GLOBAL] New connection. Socket ID: 8rdMN-pCaDDLb5UMAAAb. Initial socket.data.userId: null"}
{"level":"info","time":"2025-05-07T10:40:25.955Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","hasToken":true,"msg":"Client connected, processing authentication."}
{"level":"info","time":"2025-05-07T10:40:25.955Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","msg":"Attempting to fetch user info using token..."}
{"level":"info","time":"2025-05-07T10:40:26.697Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","email":"loicute5fps@gmail.com","msg":"User info fetched successfully."}
{"level":"info","time":"2025-05-07T10:40:26.697Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers NOW."}
{"level":"info","time":"2025-05-07T10:40:26.698Z","socketId":"8rdMN-pCaDDLb5UMAAAb","handler":"coreHandlers","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Registering core event handlers for connection."}
{"level":"info","time":"2025-05-07T10:40:26.698Z","socketId":"8rdMN-pCaDDLb5UMAAAb","handler":"coreHandlers","msg":"Core event handlers successfully registered."}
{"level":"info","time":"2025-05-07T10:40:26.699Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Core event handlers registered successfully after user auth."}
{"level":"info","time":"2025-05-07T10:40:26.699Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Authenticated user session ready. Emitting connection_ready."}
{"level":"info","time":"2025-05-07T10:40:26.700Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Fetching initial conversation list..."}
{"level":"info","time":"2025-05-07T10:40:26.728Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","eventName":"load_conversation","args":[{"conversationId":"681b1db153627f0020e0616d"}],"msg":"[SERVER SOCKET 8rdMN-pCaDDLb5UMAAAb - ON ANY]"}
{"level":"info","time":"2025-05-07T10:40:26.731Z","socketId":"8rdMN-pCaDDLb5UMAAAb","handler":"coreHandlers","eventRaw":"load_conversation","dataReceived":{"conversationId":"681b1db153627f0020e0616d"},"socketId":"8rdMN-pCaDDLb5UMAAAb","msg":"Raw 'load_conversation' event received by specific handler."}
{"level":"info","time":"2025-05-07T10:40:26.732Z","socketId":"8rdMN-pCaDDLb5UMAAAb","handler":"coreHandlers","event":"load_conversation","conversationId":"681b1db153627f0020e0616d","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","msg":"Request received."}
{"level":"info","time":"2025-05-07T10:40:26.779Z","handler":"connection","socketId":"8rdMN-pCaDDLb5UMAAAb","userId":"772f98c9-8a52-46c1-ba2d-a51c8fc3c851","count":3,"msg":"Sent initial conversation list."}
