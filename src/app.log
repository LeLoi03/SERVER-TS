[2025-05-11T09:38:08.518Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T09:38:08.519Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T09:38:08.941Z] [MainLoader] Starting application loading process...
[2025-05-11T09:38:08.942Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T09:38:08.942Z] [Database] Attempting MongoDB connection...
[2025-05-11T09:38:09.813Z] [Database] MongoDB Connected Successfully.
[2025-05-11T09:38:09.813Z] [DatabaseLoader] Database connection successful.
[2025-05-11T09:38:09.814Z] [MainLoader] Database loaded.
[2025-05-11T09:38:09.814Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T09:38:09.815Z] [ExpressLoader] Configuring Express app...
[2025-05-11T09:38:09.820Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T09:38:09.823Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T09:38:09.823Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T09:38:09.824Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T09:38:09.824Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T09:38:09.825Z] [MainLoader] Express loaded.
[2025-05-11T09:38:09.826Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T09:38:09.830Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T09:38:09.830Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T09:38:09.830Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T09:38:09.831Z] [MainLoader] Socket.IO loaded.
[2025-05-11T09:38:09.831Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T09:38:09.867Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T09:38:09.868Z] [MainLoader] Jobs scheduled.
[2025-05-11T09:38:09.868Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T09:38:09.899Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T09:38:09.899Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T09:39:49.440Z] [socketAuth][KyieYvzWO0VnHxOJAAAB] Authentication attempt. Has token: true
[2025-05-11T09:39:49.460Z] [WARNING] [socketAuth][KyieYvzWO0VnHxOJAAAB] Token validation failed. Reason: jwt expired
[2025-05-11T09:41:32.479Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T09:41:32.480Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T09:41:32.925Z] [MainLoader] Starting application loading process...
[2025-05-11T09:41:32.927Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T09:41:32.929Z] [Database] Attempting MongoDB connection...
[2025-05-11T09:41:43.479Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T09:41:43.480Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T09:41:44.298Z] [MainLoader] Starting application loading process...
[2025-05-11T09:41:44.301Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T09:41:44.304Z] [Database] Attempting MongoDB connection...
[2025-05-11T09:41:45.341Z] [Database] MongoDB Connected Successfully.
[2025-05-11T09:41:45.341Z] [DatabaseLoader] Database connection successful.
[2025-05-11T09:41:45.342Z] [MainLoader] Database loaded.
[2025-05-11T09:41:45.342Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T09:41:45.343Z] [ExpressLoader] Configuring Express app...
[2025-05-11T09:41:45.350Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T09:41:45.354Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T09:41:45.355Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T09:41:45.355Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T09:41:45.355Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T09:41:45.356Z] [MainLoader] Express loaded.
[2025-05-11T09:41:45.357Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T09:41:45.363Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T09:41:45.363Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T09:41:45.363Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T09:41:45.364Z] [MainLoader] Socket.IO loaded.
[2025-05-11T09:41:45.364Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T09:41:45.404Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T09:41:45.404Z] [MainLoader] Jobs scheduled.
[2025-05-11T09:41:45.405Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T09:41:45.465Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T09:41:45.469Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T09:42:40.310Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T09:42:40.311Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T09:42:40.756Z] [MainLoader] Starting application loading process...
[2025-05-11T09:42:40.757Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T09:42:40.758Z] [Database] Attempting MongoDB connection...
[2025-05-11T09:42:41.875Z] [Database] MongoDB Connected Successfully.
[2025-05-11T09:42:41.876Z] [DatabaseLoader] Database connection successful.
[2025-05-11T09:42:41.876Z] [MainLoader] Database loaded.
[2025-05-11T09:42:41.876Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T09:42:41.877Z] [ExpressLoader] Configuring Express app...
[2025-05-11T09:42:41.883Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T09:42:41.887Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T09:42:41.887Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T09:42:41.887Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T09:42:41.887Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T09:42:41.889Z] [MainLoader] Express loaded.
[2025-05-11T09:42:41.889Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T09:42:41.893Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T09:42:41.893Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T09:42:41.893Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T09:42:41.894Z] [MainLoader] Socket.IO loaded.
[2025-05-11T09:42:41.894Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T09:42:41.946Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T09:42:41.949Z] [MainLoader] Jobs scheduled.
[2025-05-11T09:42:41.956Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T09:42:42.066Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T09:42:42.068Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T09:43:20.407Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T09:43:20.408Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T09:43:20.828Z] [MainLoader] Starting application loading process...
[2025-05-11T09:43:20.830Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T09:43:20.831Z] [Database] Attempting MongoDB connection...
[2025-05-11T09:43:21.853Z] [Database] MongoDB Connected Successfully.
[2025-05-11T09:43:21.853Z] [DatabaseLoader] Database connection successful.
[2025-05-11T09:43:21.854Z] [MainLoader] Database loaded.
[2025-05-11T09:43:21.854Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T09:43:21.855Z] [ExpressLoader] Configuring Express app...
[2025-05-11T09:43:21.860Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T09:43:21.863Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T09:43:21.863Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T09:43:21.864Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T09:43:21.864Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T09:43:21.865Z] [MainLoader] Express loaded.
[2025-05-11T09:43:21.866Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T09:43:21.872Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T09:43:21.873Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T09:43:21.873Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T09:43:21.873Z] [MainLoader] Socket.IO loaded.
[2025-05-11T09:43:21.874Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T09:43:21.920Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T09:43:21.920Z] [MainLoader] Jobs scheduled.
[2025-05-11T09:43:21.921Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T09:43:21.979Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T09:43:21.980Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T09:43:56.713Z] [socketAuth][DKxdzgtWrsSzFTCKAAAB] Authentication attempt. Has token: true
[2025-05-11T09:43:56.720Z] [socketAuth][DKxdzgtWrsSzFTCKAAAB] Token signature validated successfully.
[2025-05-11T09:43:56.722Z] [HistoryService] Initialized.
[2025-05-11T09:43:56.723Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB] New connection. Socket ID: DKxdzgtWrsSzFTCKAAAB. Initial socket.data.userId: null
[2025-05-11T09:43:56.723Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T09:43:56.723Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB] Attempting to fetch user info using token...
[2025-05-11T09:43:56.723Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T09:43:57.522Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T09:43:57.523Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T09:43:57.523Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T09:43:57.525Z] [HistoryService] Initialized.
[2025-05-11T09:43:57.525Z] [coreHandlers][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T09:43:57.525Z] [INFO] Core event handlers successfully registered.
[2025-05-11T09:43:57.526Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:43:57.526Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T09:43:57.527Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T09:43:57.528Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T09:43:57.614Z] [SERVER SOCKET DKxdzgtWrsSzFTCKAAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T09:43:58.033Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T09:43:58.035Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T09:43:58.035Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:43:58.035Z] [SERVER GLOBAL][connection][DKxdzgtWrsSzFTCKAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T09:44:26.081Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:44:26.126Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 45ms
[2025-05-11T09:44:26.140Z] [socketAuth][LpzmUNa4iwiK1JpLAAAD] Authentication attempt. Has token: true
[2025-05-11T09:44:26.143Z] [socketAuth][LpzmUNa4iwiK1JpLAAAD] Token signature validated successfully.
[2025-05-11T09:44:26.144Z] [HistoryService] Initialized.
[2025-05-11T09:44:26.145Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD] New connection. Socket ID: LpzmUNa4iwiK1JpLAAAD. Initial socket.data.userId: null
[2025-05-11T09:44:26.145Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T09:44:26.145Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD] Attempting to fetch user info using token...
[2025-05-11T09:44:26.145Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T09:44:26.867Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T09:44:26.868Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T09:44:26.868Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T09:44:26.868Z] [HistoryService] Initialized.
[2025-05-11T09:44:26.868Z] [coreHandlers][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T09:44:26.868Z] [INFO] Core event handlers successfully registered.
[2025-05-11T09:44:26.869Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:44:26.869Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T09:44:26.870Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T09:44:26.871Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T09:44:27.186Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T09:44:27.188Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T09:44:27.188Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:44:27.189Z] [SERVER GLOBAL][connection][LpzmUNa4iwiK1JpLAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T09:44:42.809Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:44:42.817Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 8ms
[2025-05-11T09:46:03.048Z] [requestLogger][POST /api/v1/crawl-conferences?dataSource=client] Request received. IP: ::1, UserAgent: "axios/1.7.9"
[2025-05-11T09:46:08.012Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:46:08.028Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 16ms
[2025-05-11T09:46:16.084Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:46:16.103Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 19ms
[2025-05-11T09:46:23.607Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:46:23.631Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 24ms
[2025-05-11T09:46:44.734Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:46:44.765Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 31ms
[2025-05-11T09:46:45.609Z] [INFO] [requestLogger][POST /api/v1/crawl-conferences?dataSource=client] Request finished. Status: 200, Duration: 42561ms
[2025-05-11T09:46:58.922Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:46:58.964Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 42ms
[2025-05-11T09:48:20.717Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:48:20.756Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 39ms
[2025-05-11T09:49:13.257Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:49:13.311Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 56ms
[2025-05-11T09:49:13.613Z] [WARNING] [errorHandler][GET /favicon.ico] Handled operational error. Status: 404, Message: "Not Found - /favicon.ico"
[2025-05-11T09:57:50.703Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T09:57:50.704Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T09:57:51.110Z] [MainLoader] Starting application loading process...
[2025-05-11T09:57:51.110Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T09:57:51.111Z] [Database] Attempting MongoDB connection...
[2025-05-11T09:57:52.029Z] [Database] MongoDB Connected Successfully.
[2025-05-11T09:57:52.030Z] [DatabaseLoader] Database connection successful.
[2025-05-11T09:57:52.030Z] [MainLoader] Database loaded.
[2025-05-11T09:57:52.030Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T09:57:52.031Z] [ExpressLoader] Configuring Express app...
[2025-05-11T09:57:52.036Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T09:57:52.039Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T09:57:52.039Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T09:57:52.040Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T09:57:52.040Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T09:57:52.041Z] [MainLoader] Express loaded.
[2025-05-11T09:57:52.041Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T09:57:52.046Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T09:57:52.047Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T09:57:52.047Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T09:57:52.047Z] [MainLoader] Socket.IO loaded.
[2025-05-11T09:57:52.048Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T09:57:52.090Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T09:57:52.091Z] [MainLoader] Jobs scheduled.
[2025-05-11T09:57:52.091Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T09:57:52.136Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T09:57:52.137Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T09:57:52.302Z] [socketAuth][e-Ur1hX454LS6rzbAAAB] Authentication attempt. Has token: true
[2025-05-11T09:57:52.306Z] [socketAuth][e-Ur1hX454LS6rzbAAAB] Token signature validated successfully.
[2025-05-11T09:57:52.308Z] [HistoryService] Initialized.
[2025-05-11T09:57:52.309Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB] New connection. Socket ID: e-Ur1hX454LS6rzbAAAB. Initial socket.data.userId: null
[2025-05-11T09:57:52.309Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T09:57:52.309Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB] Attempting to fetch user info using token...
[2025-05-11T09:57:52.310Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T09:57:52.962Z] [socketAuth][A9cUuIQwL7WfX6i-AAAD] Authentication attempt. Has token: true
[2025-05-11T09:57:52.965Z] [socketAuth][A9cUuIQwL7WfX6i-AAAD] Token signature validated successfully.
[2025-05-11T09:57:52.966Z] [HistoryService] Initialized.
[2025-05-11T09:57:52.967Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD] New connection. Socket ID: A9cUuIQwL7WfX6i-AAAD. Initial socket.data.userId: null
[2025-05-11T09:57:52.967Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD] Client connected, processing authentication. Has token: true
[2025-05-11T09:57:52.967Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD] Attempting to fetch user info using token...
[2025-05-11T09:57:52.967Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T09:57:52.994Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T09:57:52.994Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T09:57:52.995Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T09:57:52.999Z] [HistoryService] Initialized.
[2025-05-11T09:57:53.001Z] [coreHandlers][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T09:57:53.003Z] [INFO] Core event handlers successfully registered.
[2025-05-11T09:57:53.004Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:57:53.009Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T09:57:53.012Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T09:57:53.014Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T09:57:53.048Z] [SERVER SOCKET e-Ur1hX454LS6rzbAAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T09:57:53.331Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T09:57:53.332Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T09:57:53.332Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:57:53.333Z] [SERVER GLOBAL][connection][e-Ur1hX454LS6rzbAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T09:57:53.598Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T09:57:53.599Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T09:57:53.599Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T09:57:53.599Z] [HistoryService] Initialized.
[2025-05-11T09:57:53.600Z] [coreHandlers][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T09:57:53.600Z] [INFO] Core event handlers successfully registered.
[2025-05-11T09:57:53.600Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:57:53.600Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T09:57:53.602Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T09:57:53.603Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T09:57:53.769Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T09:57:53.770Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T09:57:53.771Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T09:57:53.772Z] [SERVER GLOBAL][connection][A9cUuIQwL7WfX6i-AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T09:58:10.566Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T09:58:10.609Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 43ms
[2025-05-11T10:09:15.908Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:09:15.942Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 34ms
[2025-05-11T10:10:43.535Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:10:43.566Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 31ms
[2025-05-11T10:12:52.000Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T10:12:52.000Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T10:12:52.368Z] [MainLoader] Starting application loading process...
[2025-05-11T10:12:52.369Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T10:12:52.371Z] [Database] Attempting MongoDB connection...
[2025-05-11T10:12:53.343Z] [Database] MongoDB Connected Successfully.
[2025-05-11T10:12:53.343Z] [DatabaseLoader] Database connection successful.
[2025-05-11T10:12:53.343Z] [MainLoader] Database loaded.
[2025-05-11T10:12:53.344Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T10:12:53.344Z] [ExpressLoader] Configuring Express app...
[2025-05-11T10:12:53.350Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T10:12:53.353Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T10:12:53.354Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T10:12:53.354Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T10:12:53.354Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T10:12:53.356Z] [MainLoader] Express loaded.
[2025-05-11T10:12:53.356Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T10:12:53.361Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T10:12:53.361Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T10:12:53.362Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T10:12:53.362Z] [MainLoader] Socket.IO loaded.
[2025-05-11T10:12:53.362Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T10:12:53.397Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T10:12:53.398Z] [MainLoader] Jobs scheduled.
[2025-05-11T10:12:53.398Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T10:12:53.465Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T10:12:53.465Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T10:12:53.920Z] [socketAuth][RgnewcRI7YDnvG7VAAAB] Authentication attempt. Has token: true
[2025-05-11T10:12:53.925Z] [socketAuth][RgnewcRI7YDnvG7VAAAB] Token signature validated successfully.
[2025-05-11T10:12:53.928Z] [HistoryService] Initialized.
[2025-05-11T10:12:53.928Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB] New connection. Socket ID: RgnewcRI7YDnvG7VAAAB. Initial socket.data.userId: null
[2025-05-11T10:12:53.929Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T10:12:53.929Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB] Attempting to fetch user info using token...
[2025-05-11T10:12:53.930Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:12:53.949Z] [socketAuth][bPxKhcWwLcEbon_3AAAD] Authentication attempt. Has token: true
[2025-05-11T10:12:53.952Z] [socketAuth][bPxKhcWwLcEbon_3AAAD] Token signature validated successfully.
[2025-05-11T10:12:53.952Z] [HistoryService] Initialized.
[2025-05-11T10:12:53.953Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD] New connection. Socket ID: bPxKhcWwLcEbon_3AAAD. Initial socket.data.userId: null
[2025-05-11T10:12:53.953Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD] Client connected, processing authentication. Has token: true
[2025-05-11T10:12:53.953Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD] Attempting to fetch user info using token...
[2025-05-11T10:12:53.953Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:12:54.605Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:12:54.606Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:12:54.606Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:12:54.608Z] [HistoryService] Initialized.
[2025-05-11T10:12:54.608Z] [coreHandlers][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:12:54.608Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:12:54.608Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:12:54.609Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:12:54.610Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:12:54.611Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:12:54.630Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:12:54.630Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:12:54.630Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:12:54.631Z] [HistoryService] Initialized.
[2025-05-11T10:12:54.631Z] [coreHandlers][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:12:54.631Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:12:54.632Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:12:54.632Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:12:54.633Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:12:54.633Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:12:54.638Z] [SERVER SOCKET RgnewcRI7YDnvG7VAAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T10:12:54.898Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:12:54.899Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:12:54.899Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:12:54.900Z] [SERVER GLOBAL][connection][bPxKhcWwLcEbon_3AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:12:55.300Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:12:55.301Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:12:55.302Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:12:55.302Z] [SERVER GLOBAL][connection][RgnewcRI7YDnvG7VAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:12:56.880Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:12:56.929Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 49ms
[2025-05-11T10:12:59.443Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:12:59.478Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 35ms
[2025-05-11T10:14:29.194Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T10:14:29.195Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T10:14:29.582Z] [MainLoader] Starting application loading process...
[2025-05-11T10:14:29.582Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T10:14:29.584Z] [Database] Attempting MongoDB connection...
[2025-05-11T10:14:30.580Z] [Database] MongoDB Connected Successfully.
[2025-05-11T10:14:30.581Z] [DatabaseLoader] Database connection successful.
[2025-05-11T10:14:30.581Z] [MainLoader] Database loaded.
[2025-05-11T10:14:30.582Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T10:14:30.583Z] [ExpressLoader] Configuring Express app...
[2025-05-11T10:14:30.588Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T10:14:30.592Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T10:14:30.593Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T10:14:30.593Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T10:14:30.593Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T10:14:30.594Z] [MainLoader] Express loaded.
[2025-05-11T10:14:30.595Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T10:14:30.601Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T10:14:30.601Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T10:14:30.602Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T10:14:30.602Z] [MainLoader] Socket.IO loaded.
[2025-05-11T10:14:30.603Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T10:14:30.648Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T10:14:30.649Z] [MainLoader] Jobs scheduled.
[2025-05-11T10:14:30.649Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T10:14:30.701Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T10:14:30.702Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T10:14:31.269Z] [socketAuth][UUgEY_rQW-tm2V8IAAAB] Authentication attempt. Has token: true
[2025-05-11T10:14:31.277Z] [socketAuth][UUgEY_rQW-tm2V8IAAAB] Token signature validated successfully.
[2025-05-11T10:14:31.281Z] [HistoryService] Initialized.
[2025-05-11T10:14:31.282Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB] New connection. Socket ID: UUgEY_rQW-tm2V8IAAAB. Initial socket.data.userId: null
[2025-05-11T10:14:31.282Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T10:14:31.282Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB] Attempting to fetch user info using token...
[2025-05-11T10:14:31.283Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:14:32.038Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:14:32.039Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:14:32.039Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:14:32.042Z] [HistoryService] Initialized.
[2025-05-11T10:14:32.042Z] [coreHandlers][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:14:32.042Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:14:32.042Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:14:32.042Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:14:32.044Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:14:32.044Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:14:32.404Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:14:32.405Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:14:32.405Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:14:32.406Z] [SERVER GLOBAL][connection][UUgEY_rQW-tm2V8IAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:14:32.879Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:14:32.922Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 44ms
[2025-05-11T10:14:33.259Z] [socketAuth][hA7DIGgYitQbG8HUAAAD] Authentication attempt. Has token: true
[2025-05-11T10:14:33.261Z] [socketAuth][hA7DIGgYitQbG8HUAAAD] Token signature validated successfully.
[2025-05-11T10:14:33.262Z] [HistoryService] Initialized.
[2025-05-11T10:14:33.262Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD] New connection. Socket ID: hA7DIGgYitQbG8HUAAAD. Initial socket.data.userId: null
[2025-05-11T10:14:33.263Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T10:14:33.263Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD] Attempting to fetch user info using token...
[2025-05-11T10:14:33.263Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:14:33.473Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:14:33.473Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:14:33.473Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:14:33.473Z] [HistoryService] Initialized.
[2025-05-11T10:14:33.474Z] [coreHandlers][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:14:33.474Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:14:33.474Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:14:33.474Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:14:33.475Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:14:33.475Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:14:33.479Z] [SERVER SOCKET hA7DIGgYitQbG8HUAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T10:14:33.805Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:14:33.806Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:14:33.807Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:14:33.807Z] [SERVER GLOBAL][connection][hA7DIGgYitQbG8HUAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:14:40.887Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:14:40.917Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 30ms
[2025-05-11T10:14:53.319Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:14:53.354Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 35ms
[2025-05-11T10:26:03.833Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T10:26:03.834Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T10:26:04.170Z] [MainLoader] Starting application loading process...
[2025-05-11T10:26:04.171Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T10:26:04.171Z] [Database] Attempting MongoDB connection...
[2025-05-11T10:26:05.061Z] [Database] MongoDB Connected Successfully.
[2025-05-11T10:26:05.062Z] [DatabaseLoader] Database connection successful.
[2025-05-11T10:26:05.062Z] [MainLoader] Database loaded.
[2025-05-11T10:26:05.062Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T10:26:05.063Z] [ExpressLoader] Configuring Express app...
[2025-05-11T10:26:05.068Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T10:26:05.072Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T10:26:05.072Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T10:26:05.072Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T10:26:05.072Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T10:26:05.074Z] [MainLoader] Express loaded.
[2025-05-11T10:26:05.074Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T10:26:05.080Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T10:26:05.080Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T10:26:05.081Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T10:26:05.081Z] [MainLoader] Socket.IO loaded.
[2025-05-11T10:26:05.081Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T10:26:05.121Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T10:26:05.121Z] [MainLoader] Jobs scheduled.
[2025-05-11T10:26:05.121Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T10:26:05.162Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T10:26:05.163Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T10:26:06.293Z] [socketAuth][bW6JjwaqEeJCHCaBAAAB] Authentication attempt. Has token: true
[2025-05-11T10:26:06.300Z] [socketAuth][bW6JjwaqEeJCHCaBAAAB] Token signature validated successfully.
[2025-05-11T10:26:06.306Z] [HistoryService] Initialized.
[2025-05-11T10:26:06.307Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB] New connection. Socket ID: bW6JjwaqEeJCHCaBAAAB. Initial socket.data.userId: null
[2025-05-11T10:26:06.307Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T10:26:06.307Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB] Attempting to fetch user info using token...
[2025-05-11T10:26:06.310Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:26:07.001Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:26:07.002Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:26:07.002Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:26:07.004Z] [HistoryService] Initialized.
[2025-05-11T10:26:07.004Z] [coreHandlers][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:26:07.004Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:26:07.004Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:26:07.004Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:26:07.006Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:26:07.006Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:26:07.281Z] [socketAuth][ztSdYSJFZkE4sAGkAAAD] Authentication attempt. Has token: true
[2025-05-11T10:26:07.284Z] [socketAuth][ztSdYSJFZkE4sAGkAAAD] Token signature validated successfully.
[2025-05-11T10:26:07.285Z] [HistoryService] Initialized.
[2025-05-11T10:26:07.285Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD] New connection. Socket ID: ztSdYSJFZkE4sAGkAAAD. Initial socket.data.userId: null
[2025-05-11T10:26:07.285Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T10:26:07.286Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD] Attempting to fetch user info using token...
[2025-05-11T10:26:07.286Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:26:07.301Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:26:07.302Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:26:07.303Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:26:07.303Z] [SERVER GLOBAL][connection][bW6JjwaqEeJCHCaBAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:26:07.491Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:26:07.491Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:26:07.492Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:26:07.492Z] [HistoryService] Initialized.
[2025-05-11T10:26:07.492Z] [coreHandlers][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:26:07.493Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:26:07.493Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:26:07.493Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:26:07.494Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:26:07.495Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:26:07.499Z] [SERVER SOCKET ztSdYSJFZkE4sAGkAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T10:26:07.645Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:26:07.647Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:26:07.647Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:26:07.648Z] [SERVER GLOBAL][connection][ztSdYSJFZkE4sAGkAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:26:09.172Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T10:26:09.225Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 54ms
[2025-05-11T10:34:55.064Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T10:34:55.064Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T10:34:55.398Z] [MainLoader] Starting application loading process...
[2025-05-11T10:34:55.399Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T10:34:55.400Z] [Database] Attempting MongoDB connection...
[2025-05-11T10:34:56.325Z] [Database] MongoDB Connected Successfully.
[2025-05-11T10:34:56.325Z] [DatabaseLoader] Database connection successful.
[2025-05-11T10:34:56.326Z] [MainLoader] Database loaded.
[2025-05-11T10:34:56.326Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T10:34:56.326Z] [ExpressLoader] Configuring Express app...
[2025-05-11T10:34:56.332Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T10:34:56.335Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T10:34:56.335Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T10:34:56.335Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T10:34:56.335Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T10:34:56.336Z] [MainLoader] Express loaded.
[2025-05-11T10:34:56.337Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T10:34:56.341Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T10:34:56.342Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T10:34:56.342Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T10:34:56.342Z] [MainLoader] Socket.IO loaded.
[2025-05-11T10:34:56.343Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T10:34:56.377Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T10:34:56.378Z] [MainLoader] Jobs scheduled.
[2025-05-11T10:34:56.378Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T10:34:56.411Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T10:34:56.411Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T10:34:56.600Z] [socketAuth][7qdgz-TKZ2shU7RzAAAB] Authentication attempt. Has token: true
[2025-05-11T10:34:56.605Z] [socketAuth][7qdgz-TKZ2shU7RzAAAB] Token signature validated successfully.
[2025-05-11T10:34:56.608Z] [HistoryService] Initialized.
[2025-05-11T10:34:56.609Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB] New connection. Socket ID: 7qdgz-TKZ2shU7RzAAAB. Initial socket.data.userId: null
[2025-05-11T10:34:56.609Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T10:34:56.610Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB] Attempting to fetch user info using token...
[2025-05-11T10:34:56.610Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:34:57.281Z] [socketAuth][ECTXAJLVno4ZQNp_AAAD] Authentication attempt. Has token: true
[2025-05-11T10:34:57.284Z] [socketAuth][ECTXAJLVno4ZQNp_AAAD] Token signature validated successfully.
[2025-05-11T10:34:57.284Z] [HistoryService] Initialized.
[2025-05-11T10:34:57.285Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD] New connection. Socket ID: ECTXAJLVno4ZQNp_AAAD. Initial socket.data.userId: null
[2025-05-11T10:34:57.285Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD] Client connected, processing authentication. Has token: true
[2025-05-11T10:34:57.285Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD] Attempting to fetch user info using token...
[2025-05-11T10:34:57.285Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:34:57.310Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:34:57.311Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:34:57.311Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:34:57.313Z] [HistoryService] Initialized.
[2025-05-11T10:34:57.313Z] [coreHandlers][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:34:57.313Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:34:57.313Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:34:57.314Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:34:57.315Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:34:57.316Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:34:57.661Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:34:57.662Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:34:57.663Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:34:57.663Z] [SERVER GLOBAL][connection][7qdgz-TKZ2shU7RzAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:34:57.894Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:34:57.895Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:34:57.895Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:34:57.895Z] [HistoryService] Initialized.
[2025-05-11T10:34:57.895Z] [coreHandlers][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:34:57.895Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:34:57.896Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:34:57.896Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:34:57.896Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:34:57.897Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:34:57.900Z] [SERVER SOCKET ECTXAJLVno4ZQNp_AAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T10:34:58.038Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:34:58.040Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:34:58.040Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:34:58.041Z] [SERVER GLOBAL][connection][ECTXAJLVno4ZQNp_AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:59:28.865Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T10:59:28.865Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T10:59:29.304Z] [MainLoader] Starting application loading process...
[2025-05-11T10:59:29.306Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T10:59:29.307Z] [Database] Attempting MongoDB connection...
[2025-05-11T10:59:30.560Z] [Database] MongoDB Connected Successfully.
[2025-05-11T10:59:30.561Z] [DatabaseLoader] Database connection successful.
[2025-05-11T10:59:30.561Z] [MainLoader] Database loaded.
[2025-05-11T10:59:30.561Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T10:59:30.562Z] [ExpressLoader] Configuring Express app...
[2025-05-11T10:59:30.568Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T10:59:30.572Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T10:59:30.572Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T10:59:30.573Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T10:59:30.573Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T10:59:30.574Z] [MainLoader] Express loaded.
[2025-05-11T10:59:30.574Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T10:59:30.579Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T10:59:30.580Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T10:59:30.580Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T10:59:30.581Z] [MainLoader] Socket.IO loaded.
[2025-05-11T10:59:30.581Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T10:59:30.627Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T10:59:30.627Z] [MainLoader] Jobs scheduled.
[2025-05-11T10:59:30.628Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T10:59:30.708Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T10:59:30.708Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T10:59:34.291Z] [socketAuth][3jwZ5fwf562KDSxNAAAB] Authentication attempt. Has token: true
[2025-05-11T10:59:34.296Z] [socketAuth][3jwZ5fwf562KDSxNAAAB] Token signature validated successfully.
[2025-05-11T10:59:34.299Z] [HistoryService] Initialized.
[2025-05-11T10:59:34.300Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB] New connection. Socket ID: 3jwZ5fwf562KDSxNAAAB. Initial socket.data.userId: null
[2025-05-11T10:59:34.300Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T10:59:34.300Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB] Attempting to fetch user info using token...
[2025-05-11T10:59:34.301Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:59:34.988Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:59:34.988Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:59:34.989Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:59:34.990Z] [HistoryService] Initialized.
[2025-05-11T10:59:34.991Z] [coreHandlers][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:59:34.991Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:59:34.991Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:59:34.991Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:59:34.993Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:59:34.993Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:59:35.325Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:59:35.326Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:59:35.327Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:59:35.327Z] [SERVER GLOBAL][connection][3jwZ5fwf562KDSxNAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T10:59:36.273Z] [socketAuth][cNqWSeEz_RpkVThYAAAD] Authentication attempt. Has token: true
[2025-05-11T10:59:36.277Z] [socketAuth][cNqWSeEz_RpkVThYAAAD] Token signature validated successfully.
[2025-05-11T10:59:36.278Z] [HistoryService] Initialized.
[2025-05-11T10:59:36.278Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD] New connection. Socket ID: cNqWSeEz_RpkVThYAAAD. Initial socket.data.userId: null
[2025-05-11T10:59:36.278Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T10:59:36.278Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD] Attempting to fetch user info using token...
[2025-05-11T10:59:36.279Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T10:59:36.486Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T10:59:36.487Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T10:59:36.487Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T10:59:36.487Z] [HistoryService] Initialized.
[2025-05-11T10:59:36.487Z] [coreHandlers][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T10:59:36.488Z] [INFO] Core event handlers successfully registered.
[2025-05-11T10:59:36.488Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:59:36.488Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T10:59:36.489Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T10:59:36.489Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T10:59:36.493Z] [SERVER SOCKET cNqWSeEz_RpkVThYAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T10:59:36.788Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T10:59:36.789Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T10:59:36.789Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T10:59:36.790Z] [SERVER GLOBAL][connection][cNqWSeEz_RpkVThYAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:00:34.513Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:00:34.514Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:00:34.837Z] [MainLoader] Starting application loading process...
[2025-05-11T11:00:34.837Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:00:34.837Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:00:35.751Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:00:35.752Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:00:35.752Z] [MainLoader] Database loaded.
[2025-05-11T11:00:35.752Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:00:35.753Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:00:35.761Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:00:35.765Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:00:35.765Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:00:35.765Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:00:35.770Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:00:35.777Z] [MainLoader] Express loaded.
[2025-05-11T11:00:35.780Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:00:35.787Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:00:35.791Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:00:35.817Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:00:35.818Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:00:35.819Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:00:35.914Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:00:35.914Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:00:35.915Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:00:35.973Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:00:35.974Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:00:36.136Z] [socketAuth][IXD8nlU58z9NdcQ7AAAB] Authentication attempt. Has token: true
[2025-05-11T11:00:36.142Z] [socketAuth][IXD8nlU58z9NdcQ7AAAB] Token signature validated successfully.
[2025-05-11T11:00:36.144Z] [HistoryService] Initialized.
[2025-05-11T11:00:36.145Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB] New connection. Socket ID: IXD8nlU58z9NdcQ7AAAB. Initial socket.data.userId: null
[2025-05-11T11:00:36.145Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:00:36.145Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB] Attempting to fetch user info using token...
[2025-05-11T11:00:36.146Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:00:36.259Z] [socketAuth][LfcvhSU_UsJMa_lDAAAD] Authentication attempt. Has token: true
[2025-05-11T11:00:36.262Z] [socketAuth][LfcvhSU_UsJMa_lDAAAD] Token signature validated successfully.
[2025-05-11T11:00:36.262Z] [HistoryService] Initialized.
[2025-05-11T11:00:36.263Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD] New connection. Socket ID: LfcvhSU_UsJMa_lDAAAD. Initial socket.data.userId: null
[2025-05-11T11:00:36.263Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:00:36.263Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD] Attempting to fetch user info using token...
[2025-05-11T11:00:36.263Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:00:36.843Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:00:36.844Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:00:36.844Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:00:36.845Z] [HistoryService] Initialized.
[2025-05-11T11:00:36.846Z] [coreHandlers][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:00:36.846Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:00:36.846Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:00:36.846Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:00:36.848Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:00:36.848Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:00:36.880Z] [SERVER SOCKET IXD8nlU58z9NdcQ7AAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:00:36.899Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:00:36.899Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:00:36.900Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:00:36.900Z] [HistoryService] Initialized.
[2025-05-11T11:00:36.900Z] [coreHandlers][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:00:36.900Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:00:36.900Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:00:36.901Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:00:36.902Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:00:36.902Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:00:37.211Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:00:37.212Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:00:37.212Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:00:37.213Z] [SERVER GLOBAL][connection][IXD8nlU58z9NdcQ7AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:00:37.614Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:00:37.616Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:00:37.616Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:00:37.618Z] [SERVER GLOBAL][connection][LfcvhSU_UsJMa_lDAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:00:41.216Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:00:41.254Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 38ms
[2025-05-11T11:00:48.665Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:00:48.713Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 49ms
[2025-05-11T11:01:14.450Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:01:14.486Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 36ms
[2025-05-11T11:02:25.710Z] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746356545672&filterEndTime=1746961345672] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:02:25.752Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746356545672&filterEndTime=1746961345672] Request finished. Status: 200, Duration: 42ms
[2025-05-11T11:02:27.116Z] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746957747094&filterEndTime=1746961347094] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:02:27.143Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746957747094&filterEndTime=1746961347094] Request finished. Status: 200, Duration: 27ms
[2025-05-11T11:02:31.949Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:02:31.986Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 37ms
[2025-05-11T11:02:34.391Z] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746939754345&filterEndTime=1746961354345] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:02:34.426Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746939754345&filterEndTime=1746961354345] Request finished. Status: 200, Duration: 35ms
[2025-05-11T11:02:35.961Z] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746957755939&filterEndTime=1746961355939] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:02:35.986Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest?filterStartTime=1746957755939&filterEndTime=1746961355939] Request finished. Status: 200, Duration: 25ms
[2025-05-11T11:02:37.497Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:02:37.529Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 32ms
[2025-05-11T11:04:19.156Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:04:19.157Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:04:19.488Z] [MainLoader] Starting application loading process...
[2025-05-11T11:04:19.489Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:04:19.489Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:04:20.412Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:04:20.413Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:04:20.413Z] [MainLoader] Database loaded.
[2025-05-11T11:04:20.413Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:04:20.414Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:04:20.419Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:04:20.422Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:04:20.422Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:04:20.423Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:04:20.423Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:04:20.424Z] [MainLoader] Express loaded.
[2025-05-11T11:04:20.424Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:04:20.429Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:04:20.429Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:04:20.429Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:04:20.430Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:04:20.430Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:04:20.464Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:04:20.464Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:04:20.464Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:04:20.499Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:04:20.500Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:04:20.672Z] [socketAuth][Zpb_PyEgGhc4UsC5AAAB] Authentication attempt. Has token: true
[2025-05-11T11:04:20.677Z] [socketAuth][Zpb_PyEgGhc4UsC5AAAB] Token signature validated successfully.
[2025-05-11T11:04:20.680Z] [HistoryService] Initialized.
[2025-05-11T11:04:20.681Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB] New connection. Socket ID: Zpb_PyEgGhc4UsC5AAAB. Initial socket.data.userId: null
[2025-05-11T11:04:20.681Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:04:20.681Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB] Attempting to fetch user info using token...
[2025-05-11T11:04:20.682Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:04:21.376Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:04:21.376Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:04:21.376Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:04:21.378Z] [HistoryService] Initialized.
[2025-05-11T11:04:21.378Z] [coreHandlers][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:04:21.379Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:04:21.379Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:04:21.379Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:04:21.380Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:04:21.381Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:04:21.690Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:04:21.691Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:04:21.692Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:04:21.692Z] [SERVER GLOBAL][connection][Zpb_PyEgGhc4UsC5AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:04:24.622Z] [socketAuth][MALdzgHP9capUwedAAAD] Authentication attempt. Has token: true
[2025-05-11T11:04:24.628Z] [socketAuth][MALdzgHP9capUwedAAAD] Token signature validated successfully.
[2025-05-11T11:04:24.629Z] [HistoryService] Initialized.
[2025-05-11T11:04:24.630Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD] New connection. Socket ID: MALdzgHP9capUwedAAAD. Initial socket.data.userId: null
[2025-05-11T11:04:24.630Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:04:24.630Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD] Attempting to fetch user info using token...
[2025-05-11T11:04:24.630Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:04:24.835Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:04:24.836Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:04:24.836Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:04:24.836Z] [HistoryService] Initialized.
[2025-05-11T11:04:24.836Z] [coreHandlers][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:04:24.836Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:04:24.837Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:04:24.837Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:04:24.838Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:04:24.839Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:04:24.843Z] [SERVER SOCKET MALdzgHP9capUwedAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:04:25.098Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:04:25.100Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:04:25.100Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:04:25.100Z] [SERVER GLOBAL][connection][MALdzgHP9capUwedAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:04:27.401Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:04:27.443Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 43ms
[2025-05-11T11:04:36.798Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:04:36.843Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 46ms
[2025-05-11T11:04:37.629Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:04:37.666Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 37ms
[2025-05-11T11:17:50.933Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:17:50.933Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:17:51.706Z] [MainLoader] Starting application loading process...
[2025-05-11T11:17:51.708Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:17:51.709Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:17:52.929Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:17:52.929Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:17:52.929Z] [MainLoader] Database loaded.
[2025-05-11T11:17:52.930Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:17:52.930Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:17:52.937Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:17:52.940Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:17:52.940Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:17:52.941Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:17:52.941Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:17:52.942Z] [MainLoader] Express loaded.
[2025-05-11T11:17:52.942Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:17:52.948Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:17:52.948Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:17:52.948Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:17:52.949Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:17:52.949Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:17:53.029Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:17:53.030Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:17:53.030Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:17:53.118Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:17:53.121Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:17:56.287Z] [socketAuth][QTNC_nA0pM1Pjoa3AAAB] Authentication attempt. Has token: true
[2025-05-11T11:17:56.291Z] [socketAuth][QTNC_nA0pM1Pjoa3AAAB] Token signature validated successfully.
[2025-05-11T11:17:56.294Z] [HistoryService] Initialized.
[2025-05-11T11:17:56.295Z] [SERVER GLOBAL][connection][QTNC_nA0pM1Pjoa3AAAB] New connection. Socket ID: QTNC_nA0pM1Pjoa3AAAB. Initial socket.data.userId: null
[2025-05-11T11:17:56.295Z] [SERVER GLOBAL][connection][QTNC_nA0pM1Pjoa3AAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:17:56.295Z] [SERVER GLOBAL][connection][QTNC_nA0pM1Pjoa3AAAB] Attempting to fetch user info using token...
[2025-05-11T11:17:56.296Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:17:57.041Z] [API Client] Error fetching user info. Status: 502, Data: "<html>\r\n<head><title>502 Bad Gateway</title></head>\r\n<body>\r\n<center><h1>502 Bad Gateway</h1></center>\r\n<hr><center>nginx/1.18.0 (Ubuntu)</center>\r\n</body>\r\n</html>\r\n"
[2025-05-11T11:17:57.042Z] [SERVER GLOBAL][connection][QTNC_nA0pM1Pjoa3AAAB] WARNING: Failed to fetch user info from API /me. Disconnecting.
[2025-05-11T11:17:58.299Z] [socketAuth][CrIGbsgTWOxVzpIEAAAD] Authentication attempt. Has token: true
[2025-05-11T11:17:58.303Z] [socketAuth][CrIGbsgTWOxVzpIEAAAD] Token signature validated successfully.
[2025-05-11T11:17:58.305Z] [HistoryService] Initialized.
[2025-05-11T11:17:58.305Z] [SERVER GLOBAL][connection][CrIGbsgTWOxVzpIEAAAD] New connection. Socket ID: CrIGbsgTWOxVzpIEAAAD. Initial socket.data.userId: null
[2025-05-11T11:17:58.305Z] [SERVER GLOBAL][connection][CrIGbsgTWOxVzpIEAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:17:58.306Z] [SERVER GLOBAL][connection][CrIGbsgTWOxVzpIEAAAD] Attempting to fetch user info using token...
[2025-05-11T11:17:58.306Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:17:58.507Z] [API Client] Error fetching user info. Status: 502, Data: "<html>\r\n<head><title>502 Bad Gateway</title></head>\r\n<body>\r\n<center><h1>502 Bad Gateway</h1></center>\r\n<hr><center>nginx/1.18.0 (Ubuntu)</center>\r\n</body>\r\n</html>\r\n"
[2025-05-11T11:17:58.507Z] [SERVER GLOBAL][connection][CrIGbsgTWOxVzpIEAAAD] WARNING: Failed to fetch user info from API /me. Disconnecting.
[2025-05-11T11:19:00.130Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:19:00.174Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 45ms
[2025-05-11T11:19:10.015Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:19:10.048Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 33ms
[2025-05-11T11:20:15.613Z] [socketAuth][EVQu8e9VXdh6YxJSAAAF] Authentication attempt. Has token: true
[2025-05-11T11:20:15.617Z] [socketAuth][EVQu8e9VXdh6YxJSAAAF] Token signature validated successfully.
[2025-05-11T11:20:15.618Z] [HistoryService] Initialized.
[2025-05-11T11:20:15.618Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF] New connection. Socket ID: EVQu8e9VXdh6YxJSAAAF. Initial socket.data.userId: null
[2025-05-11T11:20:15.618Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF] Client connected, processing authentication. Has token: true
[2025-05-11T11:20:15.619Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF] Attempting to fetch user info using token...
[2025-05-11T11:20:15.619Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:20:16.342Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:20:16.343Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:20:16.343Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:20:16.345Z] [HistoryService] Initialized.
[2025-05-11T11:20:16.345Z] [coreHandlers][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:20:16.345Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:20:16.346Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:20:16.346Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:20:16.347Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:20:16.347Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:20:16.429Z] [SERVER SOCKET EVQu8e9VXdh6YxJSAAAF - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:20:16.673Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:20:16.674Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:20:16.674Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:20:16.675Z] [SERVER GLOBAL][connection][EVQu8e9VXdh6YxJSAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:20:23.988Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:20:23.992Z] [socketAuth][AAZ88t9iCjbgKw5YAAAH] Authentication attempt. Has token: true
[2025-05-11T11:20:23.994Z] [socketAuth][AAZ88t9iCjbgKw5YAAAH] Token signature validated successfully.
[2025-05-11T11:20:23.995Z] [HistoryService] Initialized.
[2025-05-11T11:20:23.996Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH] New connection. Socket ID: AAZ88t9iCjbgKw5YAAAH. Initial socket.data.userId: null
[2025-05-11T11:20:23.996Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH] Client connected, processing authentication. Has token: true
[2025-05-11T11:20:23.996Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH] Attempting to fetch user info using token...
[2025-05-11T11:20:23.996Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:20:24.027Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 39ms
[2025-05-11T11:20:24.621Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:20:24.622Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:20:24.622Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:20:24.624Z] [HistoryService] Initialized.
[2025-05-11T11:20:24.624Z] [coreHandlers][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:20:24.625Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:20:24.625Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:20:24.626Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:20:24.626Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:20:24.627Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:20:24.913Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:20:24.914Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:20:24.914Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:20:24.914Z] [SERVER GLOBAL][connection][AAZ88t9iCjbgKw5YAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:21:31.419Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:21:31.446Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 27ms
[2025-05-11T11:22:09.876Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:22:09.914Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 38ms
[2025-05-11T11:22:10.091Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:22:10.127Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 36ms
[2025-05-11T11:22:10.233Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:22:10.268Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 35ms
[2025-05-11T11:22:16.331Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:22:16.394Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 63ms
[2025-05-11T11:28:34.931Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:28:34.932Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:28:35.353Z] [MainLoader] Starting application loading process...
[2025-05-11T11:28:35.356Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:28:35.357Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:28:36.217Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:28:36.218Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:28:36.218Z] [MainLoader] Database loaded.
[2025-05-11T11:28:36.219Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:28:36.219Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:28:36.227Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:28:36.230Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:28:36.231Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:28:36.231Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:28:36.231Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:28:36.232Z] [MainLoader] Express loaded.
[2025-05-11T11:28:36.233Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:28:36.238Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:28:36.239Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:28:36.239Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:28:36.240Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:28:36.240Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:28:36.286Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:28:36.286Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:28:36.286Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:28:36.442Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:28:36.443Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:28:36.514Z] [socketAuth][P7wn1FpfGTpO21b9AAAB] Authentication attempt. Has token: true
[2025-05-11T11:28:36.520Z] [socketAuth][P7wn1FpfGTpO21b9AAAB] Token signature validated successfully.
[2025-05-11T11:28:36.525Z] [HistoryService] Initialized.
[2025-05-11T11:28:36.525Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB] New connection. Socket ID: P7wn1FpfGTpO21b9AAAB. Initial socket.data.userId: null
[2025-05-11T11:28:36.525Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:28:36.526Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB] Attempting to fetch user info using token...
[2025-05-11T11:28:36.526Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:28:37.247Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:28:37.248Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:28:37.248Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:28:37.250Z] [HistoryService] Initialized.
[2025-05-11T11:28:37.250Z] [coreHandlers][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:28:37.250Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:28:37.250Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:28:37.251Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:28:37.252Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:28:37.252Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:28:37.280Z] [SERVER SOCKET P7wn1FpfGTpO21b9AAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:28:37.543Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:28:37.545Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:28:37.545Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:28:37.545Z] [SERVER GLOBAL][connection][P7wn1FpfGTpO21b9AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:28:39.285Z] [socketAuth][LmqPmHSJD5E3FTQJAAAD] Authentication attempt. Has token: true
[2025-05-11T11:28:39.288Z] [socketAuth][LmqPmHSJD5E3FTQJAAAD] Token signature validated successfully.
[2025-05-11T11:28:39.289Z] [HistoryService] Initialized.
[2025-05-11T11:28:39.290Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD] New connection. Socket ID: LmqPmHSJD5E3FTQJAAAD. Initial socket.data.userId: null
[2025-05-11T11:28:39.290Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:28:39.290Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD] Attempting to fetch user info using token...
[2025-05-11T11:28:39.290Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:28:39.492Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:28:39.493Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:28:39.493Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:28:39.493Z] [HistoryService] Initialized.
[2025-05-11T11:28:39.493Z] [coreHandlers][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:28:39.494Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:28:39.494Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:28:39.494Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:28:39.495Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:28:39.495Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:28:39.756Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:28:39.757Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:28:39.758Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:28:39.758Z] [SERVER GLOBAL][connection][LmqPmHSJD5E3FTQJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:28:40.280Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:28:40.320Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 40ms
[2025-05-11T11:36:07.669Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:36:07.713Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 44ms
[2025-05-11T11:47:32.852Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:47:32.852Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:47:33.413Z] [MainLoader] Starting application loading process...
[2025-05-11T11:47:33.419Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:47:33.423Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:47:34.516Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:47:34.516Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:47:34.517Z] [MainLoader] Database loaded.
[2025-05-11T11:47:34.517Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:47:34.518Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:47:34.524Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:47:34.527Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:47:34.528Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:47:34.528Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:47:34.528Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:47:34.529Z] [MainLoader] Express loaded.
[2025-05-11T11:47:34.530Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:47:34.536Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:47:34.551Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:47:34.551Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:47:34.552Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:47:34.552Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:47:34.635Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:47:34.635Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:47:34.635Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:47:34.750Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:47:34.751Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:47:35.102Z] [socketAuth][we-9J65d6lS46L8SAAAB] Authentication attempt. Has token: true
[2025-05-11T11:47:35.108Z] [socketAuth][we-9J65d6lS46L8SAAAB] Token signature validated successfully.
[2025-05-11T11:47:35.111Z] [HistoryService] Initialized.
[2025-05-11T11:47:35.111Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB] New connection. Socket ID: we-9J65d6lS46L8SAAAB. Initial socket.data.userId: null
[2025-05-11T11:47:35.111Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:47:35.112Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB] Attempting to fetch user info using token...
[2025-05-11T11:47:35.112Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:47:35.781Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:47:35.781Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:47:35.782Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:47:35.784Z] [HistoryService] Initialized.
[2025-05-11T11:47:35.784Z] [coreHandlers][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:47:35.784Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:47:35.785Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:47:35.785Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:47:35.786Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:47:35.787Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:47:35.818Z] [SERVER SOCKET we-9J65d6lS46L8SAAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:47:36.090Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:47:36.091Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:47:36.091Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:47:36.092Z] [SERVER GLOBAL][connection][we-9J65d6lS46L8SAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:47:40.284Z] [socketAuth][eRuS7vWsxa6SRlxZAAAD] Authentication attempt. Has token: true
[2025-05-11T11:47:40.287Z] [socketAuth][eRuS7vWsxa6SRlxZAAAD] Token signature validated successfully.
[2025-05-11T11:47:40.288Z] [HistoryService] Initialized.
[2025-05-11T11:47:40.288Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD] New connection. Socket ID: eRuS7vWsxa6SRlxZAAAD. Initial socket.data.userId: null
[2025-05-11T11:47:40.288Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:47:40.289Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD] Attempting to fetch user info using token...
[2025-05-11T11:47:40.289Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:47:40.500Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:47:40.500Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:47:40.501Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:47:40.501Z] [HistoryService] Initialized.
[2025-05-11T11:47:40.501Z] [coreHandlers][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:47:40.501Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:47:40.502Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:47:40.502Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:47:40.503Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:47:40.503Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:47:40.792Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:47:40.793Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:47:40.793Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:47:40.794Z] [SERVER GLOBAL][connection][eRuS7vWsxa6SRlxZAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:47:58.972Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:47:58.973Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:47:59.282Z] [MainLoader] Starting application loading process...
[2025-05-11T11:47:59.283Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:47:59.283Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:48:00.198Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:48:00.199Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:48:00.199Z] [MainLoader] Database loaded.
[2025-05-11T11:48:00.200Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:48:00.200Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:48:00.205Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:48:00.208Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:48:00.208Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:48:00.208Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:48:00.209Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:48:00.210Z] [MainLoader] Express loaded.
[2025-05-11T11:48:00.210Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:48:00.216Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:48:00.216Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:48:00.216Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:48:00.216Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:48:00.217Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:48:00.258Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:48:00.258Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:48:00.259Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:48:00.295Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:48:00.297Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:48:00.611Z] [socketAuth][48RzVmcP9lcvDhVVAAAB] Authentication attempt. Has token: true
[2025-05-11T11:48:00.617Z] [socketAuth][48RzVmcP9lcvDhVVAAAB] Token signature validated successfully.
[2025-05-11T11:48:00.619Z] [HistoryService] Initialized.
[2025-05-11T11:48:00.620Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB] New connection. Socket ID: 48RzVmcP9lcvDhVVAAAB. Initial socket.data.userId: null
[2025-05-11T11:48:00.620Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:48:00.620Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB] Attempting to fetch user info using token...
[2025-05-11T11:48:00.621Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:48:01.272Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:48:01.272Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:48:01.272Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:48:01.274Z] [HistoryService] Initialized.
[2025-05-11T11:48:01.274Z] [coreHandlers][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:48:01.274Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:48:01.274Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:48:01.275Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:48:01.276Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:48:01.277Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:48:01.305Z] [SERVER SOCKET 48RzVmcP9lcvDhVVAAAB - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:48:01.616Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:48:01.617Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:48:01.618Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:48:01.618Z] [SERVER GLOBAL][connection][48RzVmcP9lcvDhVVAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:48:01.831Z] [socketAuth][LxEIgNUSWQCgseKJAAAD] Authentication attempt. Has token: true
[2025-05-11T11:48:01.833Z] [socketAuth][LxEIgNUSWQCgseKJAAAD] Token signature validated successfully.
[2025-05-11T11:48:01.834Z] [HistoryService] Initialized.
[2025-05-11T11:48:01.834Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD] New connection. Socket ID: LxEIgNUSWQCgseKJAAAD. Initial socket.data.userId: null
[2025-05-11T11:48:01.835Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:48:01.835Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD] Attempting to fetch user info using token...
[2025-05-11T11:48:01.835Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:48:02.040Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:48:02.040Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:48:02.041Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:48:02.041Z] [HistoryService] Initialized.
[2025-05-11T11:48:02.041Z] [coreHandlers][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:48:02.041Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:48:02.041Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:48:02.041Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:48:02.042Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:48:02.042Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:48:02.194Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:48:02.196Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:48:02.196Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:48:02.197Z] [SERVER GLOBAL][connection][LxEIgNUSWQCgseKJAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:48:09.735Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:48:09.782Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 47ms
[2025-05-11T11:52:02.313Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:52:02.313Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:52:02.638Z] [MainLoader] Starting application loading process...
[2025-05-11T11:52:02.639Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:52:02.639Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:52:03.530Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:52:03.531Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:52:03.531Z] [MainLoader] Database loaded.
[2025-05-11T11:52:03.531Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:52:03.532Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:52:03.538Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:52:03.541Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:52:03.541Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:52:03.541Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:52:03.541Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:52:03.543Z] [MainLoader] Express loaded.
[2025-05-11T11:52:03.543Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:52:03.548Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:52:03.549Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:52:03.549Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:52:03.550Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:52:03.550Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:52:03.585Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:52:03.585Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:52:03.585Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:52:03.624Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:52:03.625Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:52:03.730Z] [socketAuth][E_tYwnzomRFyh754AAAB] Authentication attempt. Has token: true
[2025-05-11T11:52:03.734Z] [socketAuth][E_tYwnzomRFyh754AAAB] Token signature validated successfully.
[2025-05-11T11:52:03.737Z] [HistoryService] Initialized.
[2025-05-11T11:52:03.737Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB] New connection. Socket ID: E_tYwnzomRFyh754AAAB. Initial socket.data.userId: null
[2025-05-11T11:52:03.737Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:52:03.737Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB] Attempting to fetch user info using token...
[2025-05-11T11:52:03.738Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:52:04.428Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:52:04.428Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:52:04.428Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:52:04.430Z] [HistoryService] Initialized.
[2025-05-11T11:52:04.430Z] [coreHandlers][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:52:04.431Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:52:04.431Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:52:04.431Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:52:04.432Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:52:04.433Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:52:04.724Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:52:04.725Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:52:04.726Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:52:04.726Z] [SERVER GLOBAL][connection][E_tYwnzomRFyh754AAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:52:06.368Z] [socketAuth][gZZawJxclsmrfLseAAAD] Authentication attempt. Has token: true
[2025-05-11T11:52:06.370Z] [socketAuth][gZZawJxclsmrfLseAAAD] Token signature validated successfully.
[2025-05-11T11:52:06.371Z] [HistoryService] Initialized.
[2025-05-11T11:52:06.372Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD] New connection. Socket ID: gZZawJxclsmrfLseAAAD. Initial socket.data.userId: null
[2025-05-11T11:52:06.372Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:52:06.372Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD] Attempting to fetch user info using token...
[2025-05-11T11:52:06.372Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:52:06.581Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:52:06.581Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:52:06.581Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:52:06.581Z] [HistoryService] Initialized.
[2025-05-11T11:52:06.582Z] [coreHandlers][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:52:06.582Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:52:06.582Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:52:06.582Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:52:06.583Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:52:06.583Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:52:06.587Z] [SERVER SOCKET gZZawJxclsmrfLseAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:52:06.852Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:52:06.854Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:52:06.854Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:52:06.854Z] [SERVER GLOBAL][connection][gZZawJxclsmrfLseAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:52:34.211Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T11:52:34.259Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 48ms
[2025-05-11T11:58:01.321Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T11:58:01.322Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T11:58:01.963Z] [MainLoader] Starting application loading process...
[2025-05-11T11:58:01.964Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T11:58:01.965Z] [Database] Attempting MongoDB connection...
[2025-05-11T11:58:02.958Z] [Database] MongoDB Connected Successfully.
[2025-05-11T11:58:02.959Z] [DatabaseLoader] Database connection successful.
[2025-05-11T11:58:02.959Z] [MainLoader] Database loaded.
[2025-05-11T11:58:02.959Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T11:58:02.960Z] [ExpressLoader] Configuring Express app...
[2025-05-11T11:58:02.965Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T11:58:02.968Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T11:58:02.968Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T11:58:02.969Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T11:58:02.969Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T11:58:02.970Z] [MainLoader] Express loaded.
[2025-05-11T11:58:02.971Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T11:58:02.975Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T11:58:02.975Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T11:58:02.975Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T11:58:02.976Z] [MainLoader] Socket.IO loaded.
[2025-05-11T11:58:02.976Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T11:58:03.011Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T11:58:03.011Z] [MainLoader] Jobs scheduled.
[2025-05-11T11:58:03.012Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T11:58:03.052Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T11:58:03.053Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T11:58:03.091Z] [socketAuth][dqnp0NpOZ824C3ngAAAB] Authentication attempt. Has token: true
[2025-05-11T11:58:03.096Z] [socketAuth][dqnp0NpOZ824C3ngAAAB] Token signature validated successfully.
[2025-05-11T11:58:03.098Z] [HistoryService] Initialized.
[2025-05-11T11:58:03.099Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB] New connection. Socket ID: dqnp0NpOZ824C3ngAAAB. Initial socket.data.userId: null
[2025-05-11T11:58:03.099Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T11:58:03.099Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB] Attempting to fetch user info using token...
[2025-05-11T11:58:03.100Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:58:03.759Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:58:03.759Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:58:03.759Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:58:03.761Z] [HistoryService] Initialized.
[2025-05-11T11:58:03.761Z] [coreHandlers][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:58:03.762Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:58:03.762Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:58:03.762Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:58:03.763Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:58:03.764Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:58:04.052Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:58:04.053Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:58:04.054Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:58:04.054Z] [SERVER GLOBAL][connection][dqnp0NpOZ824C3ngAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T11:58:06.263Z] [socketAuth][yZwbzonX50U50VZCAAAD] Authentication attempt. Has token: true
[2025-05-11T11:58:06.266Z] [socketAuth][yZwbzonX50U50VZCAAAD] Token signature validated successfully.
[2025-05-11T11:58:06.267Z] [HistoryService] Initialized.
[2025-05-11T11:58:06.267Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD] New connection. Socket ID: yZwbzonX50U50VZCAAAD. Initial socket.data.userId: null
[2025-05-11T11:58:06.267Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T11:58:06.267Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD] Attempting to fetch user info using token...
[2025-05-11T11:58:06.268Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T11:58:06.481Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T11:58:06.481Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T11:58:06.481Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T11:58:06.482Z] [HistoryService] Initialized.
[2025-05-11T11:58:06.482Z] [coreHandlers][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T11:58:06.482Z] [INFO] Core event handlers successfully registered.
[2025-05-11T11:58:06.482Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:58:06.483Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T11:58:06.483Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T11:58:06.483Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T11:58:06.489Z] [SERVER SOCKET yZwbzonX50U50VZCAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T11:58:06.770Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T11:58:06.771Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T11:58:06.771Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T11:58:06.772Z] [SERVER GLOBAL][connection][yZwbzonX50U50VZCAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:05:26.847Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T12:05:26.848Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:05:27.184Z] [MainLoader] Starting application loading process...
[2025-05-11T12:05:27.185Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T12:05:27.188Z] [Database] Attempting MongoDB connection...
[2025-05-11T12:05:28.112Z] [Database] MongoDB Connected Successfully.
[2025-05-11T12:05:28.113Z] [DatabaseLoader] Database connection successful.
[2025-05-11T12:05:28.113Z] [MainLoader] Database loaded.
[2025-05-11T12:05:28.113Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T12:05:28.114Z] [ExpressLoader] Configuring Express app...
[2025-05-11T12:05:28.121Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T12:05:28.124Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T12:05:28.124Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T12:05:28.124Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T12:05:28.125Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T12:05:28.126Z] [MainLoader] Express loaded.
[2025-05-11T12:05:28.126Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T12:05:28.130Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T12:05:28.131Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T12:05:28.131Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T12:05:28.131Z] [MainLoader] Socket.IO loaded.
[2025-05-11T12:05:28.132Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T12:05:28.166Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T12:05:28.167Z] [MainLoader] Jobs scheduled.
[2025-05-11T12:05:28.167Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T12:05:28.205Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T12:05:28.205Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T12:05:28.354Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T12:05:28.398Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 44ms
[2025-05-11T12:05:28.593Z] [socketAuth][kbdl4-txtdHTUOHJAAAB] Authentication attempt. Has token: true
[2025-05-11T12:05:28.597Z] [socketAuth][kbdl4-txtdHTUOHJAAAB] Token signature validated successfully.
[2025-05-11T12:05:28.600Z] [HistoryService] Initialized.
[2025-05-11T12:05:28.600Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB] New connection. Socket ID: kbdl4-txtdHTUOHJAAAB. Initial socket.data.userId: null
[2025-05-11T12:05:28.600Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T12:05:28.600Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB] Attempting to fetch user info using token...
[2025-05-11T12:05:28.601Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:05:29.309Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:05:29.310Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:05:29.310Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:05:29.312Z] [HistoryService] Initialized.
[2025-05-11T12:05:29.312Z] [coreHandlers][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:05:29.312Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:05:29.312Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:05:29.313Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:05:29.314Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:05:29.314Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:05:29.635Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:05:29.636Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:05:29.636Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:05:29.637Z] [SERVER GLOBAL][connection][kbdl4-txtdHTUOHJAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:05:30.626Z] [socketAuth][66vHfTwp4Ug1wWGBAAAD] Authentication attempt. Has token: true
[2025-05-11T12:05:30.628Z] [socketAuth][66vHfTwp4Ug1wWGBAAAD] Token signature validated successfully.
[2025-05-11T12:05:30.629Z] [HistoryService] Initialized.
[2025-05-11T12:05:30.629Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD] New connection. Socket ID: 66vHfTwp4Ug1wWGBAAAD. Initial socket.data.userId: null
[2025-05-11T12:05:30.630Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T12:05:30.630Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD] Attempting to fetch user info using token...
[2025-05-11T12:05:30.630Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:05:30.840Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:05:30.840Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:05:30.841Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:05:30.841Z] [HistoryService] Initialized.
[2025-05-11T12:05:30.841Z] [coreHandlers][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:05:30.841Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:05:30.841Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:05:30.842Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:05:30.842Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:05:30.843Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:05:30.847Z] [SERVER SOCKET 66vHfTwp4Ug1wWGBAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T12:05:31.160Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:05:31.161Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:05:31.161Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:05:31.162Z] [SERVER GLOBAL][connection][66vHfTwp4Ug1wWGBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:05:34.800Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T12:05:34.840Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 40ms
[2025-05-11T12:06:45.027Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T12:06:45.028Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:06:45.317Z] [MainLoader] Starting application loading process...
[2025-05-11T12:06:45.319Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T12:06:45.320Z] [Database] Attempting MongoDB connection...
[2025-05-11T12:06:46.230Z] [Database] MongoDB Connected Successfully.
[2025-05-11T12:06:46.230Z] [DatabaseLoader] Database connection successful.
[2025-05-11T12:06:46.230Z] [MainLoader] Database loaded.
[2025-05-11T12:06:46.231Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T12:06:46.231Z] [ExpressLoader] Configuring Express app...
[2025-05-11T12:06:46.237Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T12:06:46.240Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T12:06:46.240Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T12:06:46.241Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T12:06:46.241Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T12:06:46.242Z] [MainLoader] Express loaded.
[2025-05-11T12:06:46.243Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T12:06:46.247Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T12:06:46.250Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T12:06:46.250Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T12:06:46.251Z] [MainLoader] Socket.IO loaded.
[2025-05-11T12:06:46.252Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T12:06:46.288Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T12:06:46.288Z] [MainLoader] Jobs scheduled.
[2025-05-11T12:06:46.289Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T12:06:46.332Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T12:06:46.333Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T12:06:46.496Z] [socketAuth][k5Py7nDFSWxANmBLAAAB] Authentication attempt. Has token: true
[2025-05-11T12:06:46.503Z] [socketAuth][k5Py7nDFSWxANmBLAAAB] Token signature validated successfully.
[2025-05-11T12:06:46.506Z] [HistoryService] Initialized.
[2025-05-11T12:06:46.506Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB] New connection. Socket ID: k5Py7nDFSWxANmBLAAAB. Initial socket.data.userId: null
[2025-05-11T12:06:46.506Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T12:06:46.507Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB] Attempting to fetch user info using token...
[2025-05-11T12:06:46.507Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:06:47.207Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:06:47.208Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:06:47.208Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:06:47.209Z] [HistoryService] Initialized.
[2025-05-11T12:06:47.210Z] [coreHandlers][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:06:47.210Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:06:47.210Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:06:47.210Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:06:47.212Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:06:47.212Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:06:47.593Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:06:47.594Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:06:47.594Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:06:47.594Z] [SERVER GLOBAL][connection][k5Py7nDFSWxANmBLAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:06:47.657Z] [requestLogger][GET /api/v1/logs/analysis/latest] Request received. IP: ::1, UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 Edg/136.0.0.0"
[2025-05-11T12:06:47.695Z] [INFO] [requestLogger][GET /api/v1/logs/analysis/latest] Request finished. Status: 200, Duration: 38ms
[2025-05-11T12:06:47.730Z] [socketAuth][OTZ0AUA5KLwI7hZBAAAD] Authentication attempt. Has token: true
[2025-05-11T12:06:47.734Z] [socketAuth][OTZ0AUA5KLwI7hZBAAAD] Token signature validated successfully.
[2025-05-11T12:06:47.735Z] [HistoryService] Initialized.
[2025-05-11T12:06:47.735Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD] New connection. Socket ID: OTZ0AUA5KLwI7hZBAAAD. Initial socket.data.userId: null
[2025-05-11T12:06:47.736Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD] Client connected, processing authentication. Has token: true
[2025-05-11T12:06:47.736Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD] Attempting to fetch user info using token...
[2025-05-11T12:06:47.736Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:06:47.949Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:06:47.950Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:06:47.950Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:06:47.950Z] [HistoryService] Initialized.
[2025-05-11T12:06:47.951Z] [coreHandlers][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:06:47.951Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:06:47.951Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:06:47.951Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:06:47.952Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:06:47.953Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:06:47.957Z] [SERVER SOCKET OTZ0AUA5KLwI7hZBAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T12:06:48.107Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:06:48.109Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:06:48.109Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:06:48.109Z] [SERVER GLOBAL][connection][OTZ0AUA5KLwI7hZBAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:09:24.278Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-11T12:09:24.279Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:09:25.466Z] [MainLoader] Starting application loading process...
[2025-05-11T12:09:25.468Z] [DatabaseLoader] Attempting database connection...
[2025-05-11T12:09:25.470Z] [Database] Attempting MongoDB connection...
[2025-05-11T12:09:26.777Z] [Database] MongoDB Connected Successfully.
[2025-05-11T12:09:26.777Z] [DatabaseLoader] Database connection successful.
[2025-05-11T12:09:26.778Z] [MainLoader] Database loaded.
[2025-05-11T12:09:26.778Z] [MainLoader] Services will be managed by DI container.
[2025-05-11T12:09:26.779Z] [ExpressLoader] Configuring Express app...
[2025-05-11T12:09:26.787Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-11T12:09:26.791Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-11T12:09:26.792Z] [ExpressLoader] Registered Not Found handler.
[2025-05-11T12:09:26.792Z] [ExpressLoader] Registered Global Error handler.
[2025-05-11T12:09:26.792Z] [ExpressLoader] Express app configured successfully.
[2025-05-11T12:09:26.794Z] [MainLoader] Express loaded.
[2025-05-11T12:09:26.794Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-11T12:09:26.801Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-11T12:09:26.802Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-11T12:09:26.803Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-11T12:09:26.804Z] [MainLoader] Socket.IO loaded.
[2025-05-11T12:09:26.805Z] [JobsLoader] Scheduling background jobs...
[2025-05-11T12:09:26.881Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-11T12:09:26.882Z] [MainLoader] Jobs scheduled.
[2025-05-11T12:09:26.883Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-11T12:09:26.976Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-11T12:09:26.977Z] [MainLoader] All basic loaders completed successfully.
[2025-05-11T12:09:28.323Z] [socketAuth][MmPfewQ8xMUYgzHrAAAB] Authentication attempt. Has token: true
[2025-05-11T12:09:28.330Z] [socketAuth][MmPfewQ8xMUYgzHrAAAB] Token signature validated successfully.
[2025-05-11T12:09:28.333Z] [HistoryService] Initialized.
[2025-05-11T12:09:28.334Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB] New connection. Socket ID: MmPfewQ8xMUYgzHrAAAB. Initial socket.data.userId: null
[2025-05-11T12:09:28.334Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB] Client connected, processing authentication. Has token: true
[2025-05-11T12:09:28.335Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB] Attempting to fetch user info using token...
[2025-05-11T12:09:28.339Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:09:29.043Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:09:29.043Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:09:29.043Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:09:29.045Z] [HistoryService] Initialized.
[2025-05-11T12:09:29.045Z] [coreHandlers][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:09:29.045Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:09:29.046Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:09:29.046Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:09:29.047Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:09:29.048Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:09:29.419Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:09:29.422Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:09:29.422Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:09:29.423Z] [SERVER GLOBAL][connection][MmPfewQ8xMUYgzHrAAAB][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:09:31.262Z] [socketAuth][Kgwf7XYYS8UTCO15AAAD] Authentication attempt. Has token: true
[2025-05-11T12:09:31.265Z] [socketAuth][Kgwf7XYYS8UTCO15AAAD] Token signature validated successfully.
[2025-05-11T12:09:31.267Z] [HistoryService] Initialized.
[2025-05-11T12:09:31.267Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD] New connection. Socket ID: Kgwf7XYYS8UTCO15AAAD. Initial socket.data.userId: null
[2025-05-11T12:09:31.267Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD] Client connected, processing authentication. Has token: true
[2025-05-11T12:09:31.267Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD] Attempting to fetch user info using token...
[2025-05-11T12:09:31.267Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:09:31.493Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:09:31.493Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:09:31.494Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:09:31.494Z] [HistoryService] Initialized.
[2025-05-11T12:09:31.494Z] [coreHandlers][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:09:31.494Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:09:31.495Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:09:31.495Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:09:31.495Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:09:31.496Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:09:31.543Z] [SERVER SOCKET Kgwf7XYYS8UTCO15AAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T12:09:31.812Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:09:31.814Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:09:31.814Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:09:31.814Z] [SERVER GLOBAL][connection][Kgwf7XYYS8UTCO15AAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:34:06.695Z] [SERVER GLOBAL][disconnect][MmPfewQ8xMUYgzHrAAAB] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-11T12:36:28.769Z] [socketAuth][qkVZOzIp7f3D0TKWAAAG] Authentication attempt. Has token: true
[2025-05-11T12:36:28.773Z] [socketAuth][qkVZOzIp7f3D0TKWAAAG] Token signature validated successfully.
[2025-05-11T12:36:28.774Z] [HistoryService] Initialized.
[2025-05-11T12:36:28.774Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG] New connection. Socket ID: qkVZOzIp7f3D0TKWAAAG. Initial socket.data.userId: null
[2025-05-11T12:36:28.774Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG] Client connected, processing authentication. Has token: true
[2025-05-11T12:36:28.774Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG] Attempting to fetch user info using token...
[2025-05-11T12:36:28.774Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-11T12:36:30.005Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-11T12:36:30.005Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-11T12:36:30.005Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-11T12:36:30.005Z] [HistoryService] Initialized.
[2025-05-11T12:36:30.006Z] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-11T12:36:30.006Z] [INFO] Core event handlers successfully registered.
[2025-05-11T12:36:30.006Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:36:30.006Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-11T12:36:30.007Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-11T12:36:30.007Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:36:30.044Z] [SERVER SOCKET qkVZOzIp7f3D0TKWAAAG - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-11T12:36:30.293Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 15 conversations.
[2025-05-11T12:36:30.294Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 15
[2025-05-11T12:36:30.294Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-11T12:36:30.295Z] [SERVER GLOBAL][connection][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-11T12:37:05.053Z] [SERVER SOCKET qkVZOzIp7f3D0TKWAAAG - ON ANY] Event: load_conversation, Args: [{"conversationId":"681f391e8ac65f3d51bf0c4e"}]
[2025-05-11T12:37:05.057Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Raw 'load_conversation' event received. Data: {"conversationId":"681f391e8ac65f3d51bf0c4e"}
[2025-05-11T12:37:05.058Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:681f391e8ac65f3d51bf0c4e] Request received.
[2025-05-11T12:37:05.155Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:681f391e8ac65f3d51bf0c4e] Sent history. Set as active conversation. Message Count: 2
[2025-05-11T12:37:06.759Z] [SERVER SOCKET qkVZOzIp7f3D0TKWAAAG - ON ANY] Event: start_new_conversation, Args: [{}]
[2025-05-11T12:37:06.760Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Request received.
[2025-05-11T12:37:06.953Z] [DEBUG] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:682099f27bc91c6bfad18f48] Emitting 'new_conversation_started'.
[2025-05-11T12:37:06.954Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:682099f27bc91c6bfad18f48] Started new conversation. Set as active.
[2025-05-11T12:37:06.955Z] [DEBUG] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Attempting to fetch and emit updated conversation list. Reason: new conversation started
[2025-05-11T12:37:06.955Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:37:07.276Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-11T12:37:07.277Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted updated conversation list. Reason: new conversation started, Count: 16
[2025-05-11T12:37:13.883Z] [SERVER SOCKET qkVZOzIp7f3D0TKWAAAG - ON ANY] Event: send_message, Args: [{"userInput":"HEllo","isStreaming":true,"language":"en","conversationId":"682099f27bc91c6bfad18f48"}]
[2025-05-11T12:37:13.885Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885] Request received. UserInput: "HEllo", Streaming: true, Language: en, PayloadConvId: 682099f27bc91c6bfad18f48, SocketDataConvId: 682099f27bc91c6bfad18f48
[2025-05-11T12:37:13.885Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Using conversationId from payload.
[2025-05-11T12:37:13.953Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Fetched current history. Count: 0
[2025-05-11T12:37:13.953Z] [DEBUG] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Calling streaming intent handler.
[2025-05-11T12:37:13.954Z] --- [qkVZ-1746967033885 Socket qkVZOzIp7f3D0TKWAAAG] Handling STREAMING input: "HEllo", Lang: en ---
[2025-05-11T12:37:13.955Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-11T12:37:13.956Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:13.956Z] --- [qkVZ-1746967033885 HostAgent Streaming Turn 1 Start - qkVZOzIp7f3D0TKWAAAG] ---
[2025-05-11T12:37:13.956Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:13.957Z] [qkVZ-1746967033885 History T1 Send - qkVZOzIp7f3D0TKWAAAG] Host History Size: 1
[2025-05-11T12:37:13.958Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-11T12:37:13.958Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-11T12:37:13.959Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-11T12:37:13.959Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-11T12:37:13.959Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:37:13.959Z] Tools provided: ["routeToAgent"]
[2025-05-11T12:37:13.960Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-11T12:37:13.960Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-11T12:37:13.960Z]   - No valid next turn added, sending only history.
[2025-05-11T12:37:15.800Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-11T12:37:15.801Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:15.801Z] [qkVZ-1746967033885 Stream Processing - qkVZOzIp7f3D0TKWAAAG] Starting...
[2025-05-11T12:37:15.802Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:15.803Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:15.847Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:15.883Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:15.892Z] [qkVZ-1746967033885 Stream Processing - qkVZOzIp7f3D0TKWAAAG] Finished. Length: 77
[2025-05-11T12:37:15.893Z] [qkVZ-1746967033885 qkVZOzIp7f3D0TKWAAAG] Emitting final streaming chat_result with 4 thoughts.
[2025-05-11T12:37:15.894Z] [qkVZ-1746967033885 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_result, Type: result, Agent: N/A
[2025-05-11T12:37:15.894Z] --- [qkVZ-1746967033885 qkVZOzIp7f3D0TKWAAAG Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-11T12:37:15.895Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Intent handler returned updated history. Attempting save. New size: 2
[2025-05-11T12:37:16.010Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Successfully updated history in DB.
[2025-05-11T12:37:16.010Z] [DEBUG] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-11T12:37:16.010Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:37:16.326Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-11T12:37:16.327Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967033885][Conv:682099f27bc91c6bfad18f48] Emitted updated conversation list. Reason: message saved, Count: 16
[2025-05-11T12:37:31.297Z] [SERVER SOCKET qkVZOzIp7f3D0TKWAAAG - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":true,"language":"en","conversationId":"682099f27bc91c6bfad18f48"}]
[2025-05-11T12:37:31.298Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298] Request received. UserInput: "List some AI conferences in As...", Streaming: true, Language: en, PayloadConvId: 682099f27bc91c6bfad18f48, SocketDataConvId: 682099f27bc91c6bfad18f48
[2025-05-11T12:37:31.298Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Using conversationId from payload.
[2025-05-11T12:37:31.369Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Fetched current history. Count: 2
[2025-05-11T12:37:31.369Z] [DEBUG] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Calling streaming intent handler.
[2025-05-11T12:37:31.369Z] --- [qkVZ-1746967051298 Socket qkVZOzIp7f3D0TKWAAAG] Handling STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-11T12:37:31.370Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-11T12:37:31.371Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:31.371Z] --- [qkVZ-1746967051298 HostAgent Streaming Turn 1 Start - qkVZOzIp7f3D0TKWAAAG] ---
[2025-05-11T12:37:31.372Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:31.373Z] [qkVZ-1746967051298 History T1 Send - qkVZOzIp7f3D0TKWAAAG] Host History Size: 3
[2025-05-11T12:37:31.373Z] [GeminiService] Received history with 3 items before mapping (for stream).
[2025-05-11T12:37:31.373Z] [GeminiService] Mapped history (SDK Content[]) with 3 items (for stream).
[2025-05-11T12:37:31.374Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-11T12:37:31.374Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-11T12:37:31.374Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:37:31.374Z] Tools provided: ["routeToAgent"]
[2025-05-11T12:37:31.374Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-11T12:37:31.375Z] [GeminiService Stream] Preparing stream request with 3 Content items.
[2025-05-11T12:37:31.376Z]   - No valid next turn added, sending only history.
[2025-05-11T12:37:32.131Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-11T12:37:32.131Z] [qkVZ-1746967051298 HostAgent Streaming T1 - qkVZOzIp7f3D0TKWAAAG] Requests function: routeToAgent
[2025-05-11T12:37:32.132Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:32.134Z] --- [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 Socket qkVZOzIp7f3D0TKWAAAG] Calling Sub Agent: ConferenceAgent, Task: eddc22f4-48de-44cf-897c-a54d670b6512 ---
[2025-05-11T12:37:32.134Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-11T12:37:32.135Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-11T12:37:32.135Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-11T12:37:32.136Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-11T12:37:32.137Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-11T12:37:32.138Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-11T12:37:32.138Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-11T12:37:32.139Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:37:32.139Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-11T12:37:32.140Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-11T12:37:32.140Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-11T12:37:32.140Z]   - No valid next turn added, sending only history.
[2025-05-11T12:37:33.885Z] Model Finish Reason: STOP
[2025-05-11T12:37:33.885Z] Model requested function call: getConferences
[2025-05-11T12:37:33.885Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-11T12:37:33.886Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-11T12:37:33.886Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134] ConferenceAgent requests function call: getConferences
[2025-05-11T12:37:33.888Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-11T12:37:33.889Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: function_call_received, Agent: ConferenceAgent
[2025-05-11T12:37:33.889Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-11T12:37:33.890Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-11T12:37:33.891Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-11T12:37:33.891Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-11T12:37:33.891Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-11T12:37:33.892Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-11T12:37:33.892Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-11T12:37:33.892Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-11T12:37:33.893Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-11T12:37:33.893Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-11T12:37:34.700Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-11T12:37:34.701Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-11T12:37:34.701Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-11T12:37:34.702Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-11T12:37:34.712Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-11T12:37:34.713Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-11T12:37:34.713Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-11T12:37:34.713Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: api_call_success, Agent: ConferenceAgent
[2025-05-11T12:37:34.714Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-11T12:37:34.714Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-11T12:37:34.714Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: data_found, Agent: ConferenceAgent
[2025-05-11T12:37:34.715Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-11T12:37:34.715Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-11T12:37:34.715Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-11T12:37:34.716Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-11T12:37:34.716Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 qkVZOzIp7f3D0TKWAAAG Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-11T12:37:34.716Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-11T12:37:34.716Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-11T12:37:34.717Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Thought Added - qkVZOzIp7f3D0TKWAAAG] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-11T12:37:34.717Z] [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134 SubAgent Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-11T12:37:34.718Z] --- [qkVZ-1746967051298-Sub-ConferenceAgent-1746967052134] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-11T12:37:34.718Z] [qkVZ-1746967051298 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-11T12:37:34.718Z] --- [qkVZ-1746967051298 HostAgent Streaming Turn 2 Start - qkVZOzIp7f3D0TKWAAAG] ---
[2025-05-11T12:37:34.718Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:34.719Z] [qkVZ-1746967051298 History T2 Send - qkVZOzIp7f3D0TKWAAAG] Host History Size: 5
[2025-05-11T12:37:34.719Z] [GeminiService] Received history with 5 items before mapping (for stream).
[2025-05-11T12:37:34.719Z] [GeminiService] Mapped history (SDK Content[]) with 5 items (for stream).
[2025-05-11T12:37:34.721Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-11T12:37:34.721Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-11T12:37:34.724Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-11T12:37:34.724Z] Tools provided: ["routeToAgent"]
[2025-05-11T12:37:34.726Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-11T12:37:34.726Z] [GeminiService Stream] Preparing stream request with 5 Content items.
[2025-05-11T12:37:34.727Z]   - No valid next turn added, sending only history.
[2025-05-11T12:37:35.361Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-11T12:37:35.362Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:35.362Z] [qkVZ-1746967051298 Stream Processing - qkVZOzIp7f3D0TKWAAAG] Starting...
[2025-05-11T12:37:35.362Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: status_update, Type: status, Agent: HostAgent
[2025-05-11T12:37:35.363Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:35.416Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:35.535Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:35.606Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:35.777Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:35.948Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:36.117Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-11T12:37:36.129Z] [qkVZ-1746967051298 Stream Processing - qkVZOzIp7f3D0TKWAAAG] Finished. Length: 625
[2025-05-11T12:37:36.129Z] [qkVZ-1746967051298 qkVZOzIp7f3D0TKWAAAG] Emitting final streaming chat_result with 15 thoughts.
[2025-05-11T12:37:36.130Z] [qkVZ-1746967051298 Streaming Emit Sent - qkVZOzIp7f3D0TKWAAAG] Event: chat_result, Type: result, Agent: N/A
[2025-05-11T12:37:36.130Z] --- [qkVZ-1746967051298 qkVZOzIp7f3D0TKWAAAG Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-11T12:37:36.131Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Intent handler returned updated history. Attempting save. New size: 6
[2025-05-11T12:37:36.224Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Successfully updated history in DB.
[2025-05-11T12:37:36.224Z] [DEBUG] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-11T12:37:36.225Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-11T12:37:36.516Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-11T12:37:36.517Z] [INFO] [coreHandlers][qkVZOzIp7f3D0TKWAAAG][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:qkVZ-1746967051298][Conv:682099f27bc91c6bfad18f48] Emitted updated conversation list. Reason: message saved, Count: 16
[2025-05-12T00:27:55.937Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-12T00:27:55.939Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:27:56.856Z] [MainLoader] Starting application loading process...
[2025-05-12T00:27:56.900Z] [DatabaseLoader] Attempting database connection...
[2025-05-12T00:27:56.905Z] [Database] Attempting MongoDB connection...
[2025-05-12T00:27:57.775Z] [Database] MongoDB Connected Successfully.
[2025-05-12T00:27:57.775Z] [DatabaseLoader] Database connection successful.
[2025-05-12T00:27:57.775Z] [MainLoader] Database loaded.
[2025-05-12T00:27:57.775Z] [MainLoader] Services will be managed by DI container.
[2025-05-12T00:27:57.776Z] [ExpressLoader] Configuring Express app...
[2025-05-12T00:27:57.781Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-12T00:27:57.784Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-12T00:27:57.785Z] [ExpressLoader] Registered Not Found handler.
[2025-05-12T00:27:57.785Z] [ExpressLoader] Registered Global Error handler.
[2025-05-12T00:27:57.786Z] [ExpressLoader] Express app configured successfully.
[2025-05-12T00:27:57.787Z] [MainLoader] Express loaded.
[2025-05-12T00:27:57.788Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-12T00:27:57.793Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-12T00:27:57.793Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-12T00:27:57.793Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-12T00:27:57.794Z] [MainLoader] Socket.IO loaded.
[2025-05-12T00:27:57.794Z] [JobsLoader] Scheduling background jobs...
[2025-05-12T00:27:57.845Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-12T00:27:57.845Z] [MainLoader] Jobs scheduled.
[2025-05-12T00:27:57.845Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-12T00:27:57.909Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-12T00:27:57.910Z] [MainLoader] All basic loaders completed successfully.
[2025-05-12T00:28:39.001Z] [socketAuth][1yYxvJfUdugs9whUAAAB] Authentication attempt. Has token: true
[2025-05-12T00:28:39.007Z] [WARNING] [socketAuth][1yYxvJfUdugs9whUAAAB] Token validation failed. Reason: jwt expired
[2025-05-12T00:30:08.471Z] [socketAuth][mSDaberGID1j3e0oAAAD] Authentication attempt. Has token: true
[2025-05-12T00:30:08.475Z] [socketAuth][mSDaberGID1j3e0oAAAD] Token signature validated successfully.
[2025-05-12T00:30:08.477Z] [HistoryService] Initialized.
[2025-05-12T00:30:08.477Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD] New connection. Socket ID: mSDaberGID1j3e0oAAAD. Initial socket.data.userId: null
[2025-05-12T00:30:08.478Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD] Client connected, processing authentication. Has token: true
[2025-05-12T00:30:08.478Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD] Attempting to fetch user info using token...
[2025-05-12T00:30:08.479Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T00:30:09.215Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T00:30:09.216Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T00:30:09.217Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T00:30:09.219Z] [HistoryService] Initialized.
[2025-05-12T00:30:09.219Z] [coreHandlers][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T00:30:09.219Z] [INFO] Core event handlers successfully registered.
[2025-05-12T00:30:09.220Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:30:09.220Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T00:30:09.221Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T00:30:09.222Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:30:09.285Z] [SERVER SOCKET mSDaberGID1j3e0oAAAD - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T00:30:09.536Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-12T00:30:09.538Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 16
[2025-05-12T00:30:09.538Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:30:09.539Z] [SERVER GLOBAL][connection][mSDaberGID1j3e0oAAAD][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T00:31:14.496Z] [socketAuth][0e-PK2el8lNX_ePgAAAF] Authentication attempt. Has token: true
[2025-05-12T00:31:14.498Z] [socketAuth][0e-PK2el8lNX_ePgAAAF] Token signature validated successfully.
[2025-05-12T00:31:14.499Z] [HistoryService] Initialized.
[2025-05-12T00:31:14.499Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF] New connection. Socket ID: 0e-PK2el8lNX_ePgAAAF. Initial socket.data.userId: null
[2025-05-12T00:31:14.500Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF] Client connected, processing authentication. Has token: true
[2025-05-12T00:31:14.500Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF] Attempting to fetch user info using token...
[2025-05-12T00:31:14.500Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T00:31:15.167Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T00:31:15.167Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T00:31:15.167Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T00:31:15.167Z] [HistoryService] Initialized.
[2025-05-12T00:31:15.168Z] [coreHandlers][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T00:31:15.168Z] [INFO] Core event handlers successfully registered.
[2025-05-12T00:31:15.168Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:31:15.168Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T00:31:15.169Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T00:31:15.170Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:31:15.174Z] [SERVER SOCKET 0e-PK2el8lNX_ePgAAAF - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T00:31:15.427Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-12T00:31:15.427Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 16
[2025-05-12T00:31:15.428Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:31:15.428Z] [SERVER GLOBAL][connection][0e-PK2el8lNX_ePgAAAF][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T00:31:59.921Z] [SERVER GLOBAL][disconnect][0e-PK2el8lNX_ePgAAAF] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T00:32:39.757Z] [socketAuth][bUYPQpRvGQCyAWGkAAAH] Authentication attempt. Has token: true
[2025-05-12T00:32:39.759Z] [socketAuth][bUYPQpRvGQCyAWGkAAAH] Token signature validated successfully.
[2025-05-12T00:32:39.760Z] [HistoryService] Initialized.
[2025-05-12T00:32:39.761Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH] New connection. Socket ID: bUYPQpRvGQCyAWGkAAAH. Initial socket.data.userId: null
[2025-05-12T00:32:39.761Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH] Client connected, processing authentication. Has token: true
[2025-05-12T00:32:39.761Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH] Attempting to fetch user info using token...
[2025-05-12T00:32:39.762Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T00:32:40.422Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T00:32:40.423Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T00:32:40.423Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T00:32:40.423Z] [HistoryService] Initialized.
[2025-05-12T00:32:40.424Z] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T00:32:40.424Z] [INFO] Core event handlers successfully registered.
[2025-05-12T00:32:40.425Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:32:40.425Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T00:32:40.428Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T00:32:40.429Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:32:40.560Z] [SERVER SOCKET bUYPQpRvGQCyAWGkAAAH - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T00:32:40.689Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-12T00:32:40.690Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 16
[2025-05-12T00:32:40.691Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:32:40.691Z] [SERVER GLOBAL][connection][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T00:54:45.395Z] [SERVER GLOBAL][disconnect][mSDaberGID1j3e0oAAAD] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T00:54:55.500Z] [socketAuth][hXDLVOuD5pCD49S5AAAJ] Authentication attempt. Has token: true
[2025-05-12T00:54:55.503Z] [socketAuth][hXDLVOuD5pCD49S5AAAJ] Token signature validated successfully.
[2025-05-12T00:54:55.504Z] [HistoryService] Initialized.
[2025-05-12T00:54:55.505Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ] New connection. Socket ID: hXDLVOuD5pCD49S5AAAJ. Initial socket.data.userId: null
[2025-05-12T00:54:55.505Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ] Client connected, processing authentication. Has token: true
[2025-05-12T00:54:55.505Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ] Attempting to fetch user info using token...
[2025-05-12T00:54:55.505Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T00:54:56.271Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T00:54:56.272Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T00:54:56.272Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T00:54:56.272Z] [HistoryService] Initialized.
[2025-05-12T00:54:56.273Z] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T00:54:56.273Z] [INFO] Core event handlers successfully registered.
[2025-05-12T00:54:56.274Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:54:56.274Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T00:54:56.274Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T00:54:56.275Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:54:56.293Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T00:54:56.551Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 16 conversations.
[2025-05-12T00:54:56.552Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 16
[2025-05-12T00:54:56.552Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T00:54:56.552Z] [SERVER GLOBAL][connection][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T00:55:16.248Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":false,"language":"en","conversationId":null}]
[2025-05-12T00:55:16.249Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249] Request received. UserInput: "List some AI conferences in As...", Streaming: false, Language: en, PayloadConvId: N/A, SocketDataConvId: N/A
[2025-05-12T00:55:16.250Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T00:55:16.437Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T00:55:16.438Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T00:55:16.438Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:55:16.711Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 17 conversations.
[2025-05-12T00:55:16.712Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Emitted updated conversation list. Reason: new conversation from send_message, Count: 17
[2025-05-12T00:55:16.778Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Fetched current history. Count: 0
[2025-05-12T00:55:16.778Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Calling non-streaming intent handler.
[2025-05-12T00:55:16.780Z] --- [hXDL-1747011316249 Socket hXDLVOuD5pCD49S5AAAJ] Handling NON-STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-12T00:55:16.781Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T00:55:16.782Z] [hXDL-1747011316249 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:55:16.782Z] --- [hXDL-1747011316249 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 1: Sending to Model (History size: 1) ---
[2025-05-12T00:55:16.782Z] [hXDL-1747011316249 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:55:16.784Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T00:55:16.784Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T00:55:16.784Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T00:55:16.784Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:55:16.785Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:55:16.785Z] Tools provided: ["routeToAgent"]
[2025-05-12T00:55:16.785Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:55:16.785Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T00:55:16.785Z]   - No valid next turn added, sending only history.
[2025-05-12T00:55:18.699Z] Model Finish Reason: STOP
[2025-05-12T00:55:18.699Z] Model requested function call: routeToAgent
[2025-05-12T00:55:18.699Z] Arguments: {"targetAgent":"ConferenceAgent","taskDescription":"List AI conferences in Asia."}
[2025-05-12T00:55:18.700Z] [hXDL-1747011316249 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 1: Requested function call: routeToAgent
[2025-05-12T00:55:18.700Z] [hXDL-1747011316249 History Check - Host FC Prep 1] Appended HostAgent FC request. History size: 2
[2025-05-12T00:55:18.700Z] [hXDL-1747011316249 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:55:18.702Z] --- [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: ConferenceAgent, Task: 400ca9bc-5f22-4bb7-8ef5-fe748463bcfe ---
[2025-05-12T00:55:18.703Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T00:55:18.703Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T00:55:18.704Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T00:55:18.704Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T00:55:18.704Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T00:55:18.704Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T00:55:18.704Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:55:18.705Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:55:18.705Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T00:55:18.705Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:55:18.705Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T00:55:18.705Z]   - No valid next turn added, sending only history.
[2025-05-12T00:55:19.538Z] Model Finish Reason: STOP
[2025-05-12T00:55:19.539Z] Model requested function call: getConferences
[2025-05-12T00:55:19.539Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T00:55:19.539Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T00:55:19.540Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702] ConferenceAgent requests function call: getConferences
[2025-05-12T00:55:19.540Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T00:55:19.542Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T00:55:19.543Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T00:55:19.543Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T00:55:19.544Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T00:55:19.545Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T00:55:19.545Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T00:55:19.546Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T00:55:19.546Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T00:55:19.547Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T00:55:19.548Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T00:55:19.549Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-12T00:55:20.424Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-12T00:55:20.425Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-12T00:55:20.425Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T00:55:20.426Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-12T00:55:20.435Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-12T00:55:20.436Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-12T00:55:20.436Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T00:55:20.436Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T00:55:20.437Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T00:55:20.438Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T00:55:20.438Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: data_found, Agent: ConferenceAgent
[2025-05-12T00:55:20.438Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T00:55:20.439Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T00:55:20.439Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T00:55:20.440Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T00:55:20.440Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T00:55:20.440Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T00:55:20.441Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T00:55:20.441Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T00:55:20.442Z] [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T00:55:20.442Z] --- [hXDL-1747011316249-Sub-ConferenceAgent-1747011318702] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T00:55:20.442Z] [hXDL-1747011316249 History Check - Host FC Done 1] Appended function/routing response. History size: 3
[2025-05-12T00:55:20.443Z] --- [hXDL-1747011316249 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 2: Sending to Model (History size: 3) ---
[2025-05-12T00:55:20.443Z] [hXDL-1747011316249 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:55:20.443Z] [GeminiService] Received history with 3 items before mapping.
[2025-05-12T00:55:20.444Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 3 items.
[2025-05-12T00:55:20.444Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T00:55:20.444Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:55:20.444Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:55:20.445Z] Tools provided: ["routeToAgent"]
[2025-05-12T00:55:20.445Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:55:20.445Z] [GeminiService] Sending total 3 Content items to API.
[2025-05-12T00:55:20.445Z]   - No valid next turn added, sending only history.
[2025-05-12T00:55:21.361Z] Model Finish Reason: STOP
[2025-05-12T00:55:21.362Z] Model generated final text response: Here are some AI conferences in Asia:

*   **SSBSE:** Seoul, South Korea
*   **TrustCom:** Sanya, China
*   **ICSOC:** Shenzhen, China
*   **COMAD:** Indian Institute of Science Education and Research (IISER), Pune
*   **GLOBECOM:** Taipei, Taiwan...
[2025-05-12T00:55:21.363Z] [hXDL-1747011316249 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 2: Received final_text.
[2025-05-12T00:55:21.363Z] [hXDL-1747011316249 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:55:21.364Z] [hXDL-1747011316249 History Check - Final] Appended final HostAgent response. History size: 4
[2025-05-12T00:55:21.364Z] [hXDL-1747011316249 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result
[2025-05-12T00:55:21.364Z] --- [hXDL-1747011316249 Socket hXDLVOuD5pCD49S5AAAJ Lang: en] NON-STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T00:55:21.365Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Intent handler returned updated history. Attempting save. New size: 4
[2025-05-12T00:55:21.471Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Successfully updated history in DB.
[2025-05-12T00:55:21.471Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T00:55:21.471Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:55:21.741Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 17 conversations.
[2025-05-12T00:55:21.742Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011316249][Conv:682146f4ebeeb6ccfc2334a1] Emitted updated conversation list. Reason: message saved, Count: 17
[2025-05-12T00:57:04.936Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":false,"language":"en","conversationId":null}]
[2025-05-12T00:57:04.936Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936] Request received. UserInput: "List some AI conferences in As...", Streaming: false, Language: en, PayloadConvId: N/A, SocketDataConvId: 682146f4ebeeb6ccfc2334a1
[2025-05-12T00:57:04.936Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T00:57:05.068Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T00:57:05.069Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T00:57:05.069Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:57:05.321Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T00:57:05.322Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: new conversation from send_message, Count: 18
[2025-05-12T00:57:05.392Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Fetched current history. Count: 0
[2025-05-12T00:57:05.392Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Calling non-streaming intent handler.
[2025-05-12T00:57:05.392Z] --- [hXDL-1747011424936 Socket hXDLVOuD5pCD49S5AAAJ] Handling NON-STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-12T00:57:05.393Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T00:57:05.394Z] [hXDL-1747011424936 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:57:05.394Z] --- [hXDL-1747011424936 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 1: Sending to Model (History size: 1) ---
[2025-05-12T00:57:05.394Z] [hXDL-1747011424936 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:57:05.394Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T00:57:05.394Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T00:57:05.395Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T00:57:05.395Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:57:05.395Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:57:05.395Z] Tools provided: ["routeToAgent"]
[2025-05-12T00:57:05.395Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:57:05.396Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T00:57:05.396Z]   - No valid next turn added, sending only history.
[2025-05-12T00:57:07.188Z] Model Finish Reason: STOP
[2025-05-12T00:57:07.188Z] Model requested function call: routeToAgent
[2025-05-12T00:57:07.188Z] Arguments: {"targetAgent":"ConferenceAgent","taskDescription":"List some AI conferences in Asia."}
[2025-05-12T00:57:07.189Z] [hXDL-1747011424936 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 1: Requested function call: routeToAgent
[2025-05-12T00:57:07.189Z] [hXDL-1747011424936 History Check - Host FC Prep 1] Appended HostAgent FC request. History size: 2
[2025-05-12T00:57:07.202Z] [hXDL-1747011424936 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:57:07.205Z] --- [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: ConferenceAgent, Task: 10afed3d-234a-4558-9d39-8396b74a1f6b ---
[2025-05-12T00:57:07.208Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T00:57:07.211Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T00:57:07.217Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T00:57:07.219Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T00:57:07.221Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T00:57:07.223Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T00:57:07.224Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:57:07.237Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:57:07.242Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T00:57:07.243Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:57:07.244Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T00:57:07.246Z]   - No valid next turn added, sending only history.
[2025-05-12T00:57:08.002Z] Model Finish Reason: STOP
[2025-05-12T00:57:08.002Z] Model requested function call: getConferences
[2025-05-12T00:57:08.003Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T00:57:08.004Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T00:57:08.008Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205] ConferenceAgent requests function call: getConferences
[2025-05-12T00:57:08.010Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T00:57:08.010Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T00:57:08.012Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T00:57:08.013Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T00:57:08.013Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T00:57:08.013Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T00:57:08.014Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T00:57:08.014Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T00:57:08.014Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T00:57:08.014Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T00:57:08.014Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T00:57:08.015Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-12T00:57:08.744Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-12T00:57:08.745Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-12T00:57:08.745Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T00:57:08.745Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-12T00:57:08.755Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-12T00:57:08.756Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-12T00:57:08.756Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T00:57:08.756Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T00:57:08.757Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T00:57:08.757Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T00:57:08.757Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: data_found, Agent: ConferenceAgent
[2025-05-12T00:57:08.758Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T00:57:08.758Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T00:57:08.758Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T00:57:08.759Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T00:57:08.759Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T00:57:08.760Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T00:57:08.760Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T00:57:08.761Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T00:57:08.761Z] [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T00:57:08.761Z] --- [hXDL-1747011424936-Sub-ConferenceAgent-1747011427205] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T00:57:08.761Z] [hXDL-1747011424936 History Check - Host FC Done 1] Appended function/routing response. History size: 3
[2025-05-12T00:57:08.762Z] --- [hXDL-1747011424936 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 2: Sending to Model (History size: 3) ---
[2025-05-12T00:57:08.762Z] [hXDL-1747011424936 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:57:08.762Z] [GeminiService] Received history with 3 items before mapping.
[2025-05-12T00:57:08.763Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 3 items.
[2025-05-12T00:57:08.763Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T00:57:08.763Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:57:08.763Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:57:08.763Z] Tools provided: ["routeToAgent"]
[2025-05-12T00:57:08.764Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:57:08.764Z] [GeminiService] Sending total 3 Content items to API.
[2025-05-12T00:57:08.764Z]   - No valid next turn added, sending only history.
[2025-05-12T00:57:10.153Z] Model Finish Reason: STOP
[2025-05-12T00:57:10.153Z] Model generated final text response: Here are some AI conferences in Asia:

*   **International Symposium on Search Based Software Engineering (SSBSE)** in Seoul, South Korea (November 16, 2025)
*   **International Conference on Trust, Security and Privacy in Computing and Communications (TrustCom)** in Sanya, China (December 17 - 21, 2024)
*   **International Conference on Service Oriented Computing (ICSOC)** in Shenzhen, China (December 1 - 4, 2025)
*   **International Conference on Management of Data (COMAD)** in Pune, India (December 17 - 20, 2025)
*   **IEEE Global Telecommunications Conference (GLOBECOM)** in Taipei, Taiwan (December 8 - 12, 2025)...
[2025-05-12T00:57:10.153Z] [hXDL-1747011424936 Socket hXDLVOuD5pCD49S5AAAJ] HostAgent Turn 2: Received final_text.
[2025-05-12T00:57:10.155Z] [hXDL-1747011424936 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status
[2025-05-12T00:57:10.155Z] [hXDL-1747011424936 History Check - Final] Appended final HostAgent response. History size: 4
[2025-05-12T00:57:10.156Z] [hXDL-1747011424936 Socket Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result
[2025-05-12T00:57:10.156Z] --- [hXDL-1747011424936 Socket hXDLVOuD5pCD49S5AAAJ Lang: en] NON-STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T00:57:10.156Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Intent handler returned updated history. Attempting save. New size: 4
[2025-05-12T00:57:10.235Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Successfully updated history in DB.
[2025-05-12T00:57:10.236Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T00:57:10.236Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:57:10.494Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T00:57:10.495Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011424936][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: message saved, Count: 18
[2025-05-12T00:57:29.126Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"Chi tiết về hội nghị cuối","isStreaming":true,"language":"en","conversationId":"68214760ebeeb6ccfc2334a8"}]
[2025-05-12T00:57:29.127Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127] Request received. UserInput: "Chi tiết về hội nghị cuối", Streaming: true, Language: en, PayloadConvId: 68214760ebeeb6ccfc2334a8, SocketDataConvId: 68214760ebeeb6ccfc2334a8
[2025-05-12T00:57:29.127Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Using conversationId from payload.
[2025-05-12T00:57:29.199Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Fetched current history. Count: 4
[2025-05-12T00:57:29.200Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Calling streaming intent handler.
[2025-05-12T00:57:29.201Z] --- [hXDL-1747011449127 Socket hXDLVOuD5pCD49S5AAAJ] Handling STREAMING input: "Chi tiết về hội nghị cuối", Lang: en ---
[2025-05-12T00:57:29.201Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T00:57:29.202Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T00:57:29.203Z] --- [hXDL-1747011449127 HostAgent Streaming Turn 1 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T00:57:29.203Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T00:57:29.204Z] [hXDL-1747011449127 History T1 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 5
[2025-05-12T00:57:29.205Z] [GeminiService] Received history with 5 items before mapping (for stream).
[2025-05-12T00:57:29.205Z] [GeminiService] Mapped history (SDK Content[]) with 5 items (for stream).
[2025-05-12T00:57:29.205Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T00:57:29.206Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:57:29.206Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:57:29.206Z] Tools provided: ["routeToAgent"]
[2025-05-12T00:57:29.207Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:57:29.207Z] [GeminiService Stream] Preparing stream request with 5 Content items.
[2025-05-12T00:57:29.207Z]   - No valid next turn added, sending only history.
[2025-05-12T00:57:31.409Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T00:57:31.410Z] [hXDL-1747011449127 HostAgent Streaming T1 - hXDLVOuD5pCD49S5AAAJ] Requests function: routeToAgent
[2025-05-12T00:57:31.410Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T00:57:31.411Z] --- [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: ConferenceAgent, Task: 105d5624-83ed-4282-83cd-03fc8b0a094d ---
[2025-05-12T00:57:31.411Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T00:57:31.411Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T00:57:31.412Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T00:57:31.412Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T00:57:31.412Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T00:57:31.412Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T00:57:31.412Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:57:31.412Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:57:31.413Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T00:57:31.413Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:57:31.413Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T00:57:31.413Z]   - No valid next turn added, sending only history.
[2025-05-12T00:57:33.304Z] Model Finish Reason: STOP
[2025-05-12T00:57:33.304Z] Model requested function call: getConferences
[2025-05-12T00:57:33.304Z] Arguments: {"searchQuery":"mode=detail&acronym=GLOBECOM&perPage=5&page=1"}
[2025-05-12T00:57:33.304Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T00:57:33.304Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411] ConferenceAgent requests function call: getConferences
[2025-05-12T00:57:33.305Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T00:57:33.305Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T00:57:33.305Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T00:57:33.306Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T00:57:33.306Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"mode=detail&acronym=GLOBECOM&perPage=5&page=1"}
[2025-05-12T00:57:33.306Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T00:57:33.306Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T00:57:33.307Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T00:57:33.308Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T00:57:33.308Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T00:57:33.308Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T00:57:33.308Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?mode=detail&acronym=GLOBECOM&perPage=5&page=1}
[2025-05-12T00:57:34.017Z] [BackendService] [conference] API Success (200). Data length: 8629. Attempting parsing...
[2025-05-12T00:57:34.017Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"7ae59de8-a3db-424b-9595-345e22b14c0a","title":"IEEE Global Telecommunications Conference","acronym":"GLOBECOM","creatorId":null,"adminId":"077f9da9-5570-4b2e-80e3-35e875c8f8b2","createdAt":"2025-05-04T06:50:42.899Z","updatedAt":"20...
[2025-05-12T00:57:34.018Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T00:57:34.018Z] Transforming conference data with Markdown. Search query: mode=detail&acronym=GLOBECOM&perPage=5&page=1
[2025-05-12T00:57:34.027Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 1
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** IEEE Global Telecommunications Conference
  - **Acronym:** GL...
[2025-05-12T00:57:34.028Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="mode=detail&acronym=GLOBECOM&perPage=5&page=1"
[2025-05-12T00:57:34.028Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T00:57:34.028Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T00:57:34.029Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T00:57:34.029Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T00:57:34.029Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: data_found, Agent: ConferenceAgent
[2025-05-12T00:57:34.030Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T00:57:34.030Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T00:57:34.030Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T00:57:34.030Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T00:57:34.031Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T00:57:34.031Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T00:57:34.031Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T00:57:34.032Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T00:57:34.032Z] [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T00:57:34.033Z] --- [hXDL-1747011449127-Sub-ConferenceAgent-1747011451411] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T00:57:34.033Z] [hXDL-1747011449127 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T00:57:34.034Z] --- [hXDL-1747011449127 HostAgent Streaming Turn 2 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T00:57:34.035Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T00:57:34.035Z] [hXDL-1747011449127 History T2 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 7
[2025-05-12T00:57:34.036Z] [GeminiService] Received history with 7 items before mapping (for stream).
[2025-05-12T00:57:34.036Z] [GeminiService] Mapped history (SDK Content[]) with 7 items (for stream).
[2025-05-12T00:57:34.036Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T00:57:34.036Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T00:57:34.036Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T00:57:34.037Z] Tools provided: ["routeToAgent"]
[2025-05-12T00:57:34.037Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T00:57:34.037Z] [GeminiService Stream] Preparing stream request with 7 Content items.
[2025-05-12T00:57:34.037Z]   - No valid next turn added, sending only history.
[2025-05-12T00:57:34.736Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T00:57:34.736Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T00:57:34.737Z] [hXDL-1747011449127 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Starting...
[2025-05-12T00:57:34.738Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T00:57:34.738Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:34.853Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:34.933Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:35.068Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:35.163Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:35.389Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:35.635Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:35.816Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T00:57:35.820Z] [hXDL-1747011449127 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Finished. Length: 917
[2025-05-12T00:57:35.820Z] [hXDL-1747011449127 hXDLVOuD5pCD49S5AAAJ] Emitting final streaming chat_result with 15 thoughts.
[2025-05-12T00:57:35.821Z] [hXDL-1747011449127 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T00:57:35.821Z] --- [hXDL-1747011449127 hXDLVOuD5pCD49S5AAAJ Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T00:57:35.822Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Intent handler returned updated history. Attempting save. New size: 8
[2025-05-12T00:57:35.907Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Successfully updated history in DB.
[2025-05-12T00:57:35.908Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T00:57:35.908Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:57:36.176Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T00:57:36.177Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747011449127][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: message saved, Count: 18
[2025-05-12T00:59:35.292Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: pin_conversation, Args: [{"conversationId":"68214760ebeeb6ccfc2334a8","isPinned":true}]
[2025-05-12T00:59:35.293Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:68214760ebeeb6ccfc2334a8] Request received. IsPinned: true
[2025-05-12T00:59:35.293Z] [HistoryService] [Pin Conv: 68214760ebeeb6ccfc2334a8, User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Status: true] Attempting to set pin status.
[2025-05-12T00:59:35.358Z] [HistoryService] [Pin Conv: 68214760ebeeb6ccfc2334a8, User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Status: true] Pin status updated. Modified: true
[2025-05-12T00:59:35.359Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:68214760ebeeb6ccfc2334a8] Successfully updated pin status. IsPinned: true
[2025-05-12T00:59:35.359Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Attempting to fetch and emit updated conversation list. Reason: pinned/unpinned conv 68214760ebeeb6ccfc2334a8
[2025-05-12T00:59:35.359Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T00:59:35.609Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T00:59:35.610Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted updated conversation list. Reason: pinned/unpinned conv 68214760ebeeb6ccfc2334a8, Count: 18
[2025-05-12T00:59:51.268Z] [SERVER SOCKET bUYPQpRvGQCyAWGkAAAH - ON ANY] Event: load_conversation, Args: [{"conversationId":"682099f27bc91c6bfad18f48"}]
[2025-05-12T00:59:51.272Z] [INFO] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Raw 'load_conversation' event received. Data: {"conversationId":"682099f27bc91c6bfad18f48"}
[2025-05-12T00:59:51.273Z] [INFO] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:682099f27bc91c6bfad18f48] Request received.
[2025-05-12T00:59:51.340Z] [INFO] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:682099f27bc91c6bfad18f48] Sent history. Set as active conversation. Message Count: 4
[2025-05-12T00:59:53.473Z] [SERVER SOCKET bUYPQpRvGQCyAWGkAAAH - ON ANY] Event: load_conversation, Args: [{"conversationId":"682099f27bc91c6bfad18f48"}]
[2025-05-12T00:59:53.479Z] [INFO] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Raw 'load_conversation' event received. Data: {"conversationId":"682099f27bc91c6bfad18f48"}
[2025-05-12T00:59:53.479Z] [INFO] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:682099f27bc91c6bfad18f48] Request received.
[2025-05-12T00:59:53.541Z] [INFO] [coreHandlers][bUYPQpRvGQCyAWGkAAAH][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Conv:682099f27bc91c6bfad18f48] Sent history. Set as active conversation. Message Count: 4
[2025-05-12T00:59:57.576Z] [SERVER GLOBAL][disconnect][bUYPQpRvGQCyAWGkAAAH] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: 682099f27bc91c6bfad18f48
[2025-05-12T00:59:59.908Z] [socketAuth][dZkB8Bnb_W7S5rqfAAAL] Authentication attempt. Has token: true
[2025-05-12T00:59:59.912Z] [socketAuth][dZkB8Bnb_W7S5rqfAAAL] Token signature validated successfully.
[2025-05-12T00:59:59.913Z] [HistoryService] Initialized.
[2025-05-12T00:59:59.913Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL] New connection. Socket ID: dZkB8Bnb_W7S5rqfAAAL. Initial socket.data.userId: null
[2025-05-12T00:59:59.914Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL] Client connected, processing authentication. Has token: true
[2025-05-12T00:59:59.914Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL] Attempting to fetch user info using token...
[2025-05-12T00:59:59.919Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:00:00.562Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:00:00.562Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:00:00.563Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:00:00.563Z] [HistoryService] Initialized.
[2025-05-12T01:00:00.563Z] [coreHandlers][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:00:00.564Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:00:00.564Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:00:00.564Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:00:00.564Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:00:00.565Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:00:00.571Z] [SERVER SOCKET dZkB8Bnb_W7S5rqfAAAL - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:00:00.812Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:00:00.813Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 18
[2025-05-12T01:00:00.813Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:00:00.814Z] [SERVER GLOBAL][connection][dZkB8Bnb_W7S5rqfAAAL][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:00:30.809Z] [SERVER GLOBAL][disconnect][dZkB8Bnb_W7S5rqfAAAL] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:03:25.914Z] [socketAuth][RZDG3f4vgBzfeSIDAAAN] Authentication attempt. Has token: true
[2025-05-12T01:03:25.920Z] [socketAuth][RZDG3f4vgBzfeSIDAAAN] Token signature validated successfully.
[2025-05-12T01:03:25.921Z] [HistoryService] Initialized.
[2025-05-12T01:03:25.921Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN] New connection. Socket ID: RZDG3f4vgBzfeSIDAAAN. Initial socket.data.userId: null
[2025-05-12T01:03:25.922Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN] Client connected, processing authentication. Has token: true
[2025-05-12T01:03:25.922Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN] Attempting to fetch user info using token...
[2025-05-12T01:03:25.922Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:03:26.806Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:03:26.807Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:03:26.807Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:03:26.807Z] [HistoryService] Initialized.
[2025-05-12T01:03:26.807Z] [coreHandlers][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:03:26.807Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:03:26.808Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:03:26.808Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:03:26.808Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:03:26.809Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:03:26.818Z] [SERVER SOCKET RZDG3f4vgBzfeSIDAAAN - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:03:27.063Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:03:27.064Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 18
[2025-05-12T01:03:27.064Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:03:27.064Z] [SERVER GLOBAL][connection][RZDG3f4vgBzfeSIDAAAN][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:07:45.117Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"chuyển hướng tôi tới trang web","isStreaming":true,"language":"en","conversationId":"68214760ebeeb6ccfc2334a8"}]
[2025-05-12T01:07:45.117Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117] Request received. UserInput: "chuyển hướng tôi tới trang web", Streaming: true, Language: en, PayloadConvId: 68214760ebeeb6ccfc2334a8, SocketDataConvId: 68214760ebeeb6ccfc2334a8
[2025-05-12T01:07:45.118Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Using conversationId from payload.
[2025-05-12T01:07:45.242Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Fetched current history. Count: 8
[2025-05-12T01:07:45.242Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Calling streaming intent handler.
[2025-05-12T01:07:45.242Z] --- [hXDL-1747012065117 Socket hXDLVOuD5pCD49S5AAAJ] Handling STREAMING input: "chuyển hướng tôi tới trang web", Lang: en ---
[2025-05-12T01:07:45.243Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:07:45.243Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:45.244Z] --- [hXDL-1747012065117 HostAgent Streaming Turn 1 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:07:45.244Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:45.244Z] [hXDL-1747012065117 History T1 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 9
[2025-05-12T01:07:45.245Z] [GeminiService] Received history with 9 items before mapping (for stream).
[2025-05-12T01:07:45.245Z] [GeminiService] Mapped history (SDK Content[]) with 9 items (for stream).
[2025-05-12T01:07:45.245Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:07:45.245Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:07:45.245Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:07:45.245Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:07:45.246Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:07:45.246Z] [GeminiService Stream] Preparing stream request with 9 Content items.
[2025-05-12T01:07:45.246Z]   - No valid next turn added, sending only history.
[2025-05-12T01:07:47.239Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:07:47.239Z] [hXDL-1747012065117 HostAgent Streaming T1 - hXDLVOuD5pCD49S5AAAJ] Requests function: routeToAgent
[2025-05-12T01:07:47.240Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:47.240Z] --- [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: ConferenceAgent, Task: 6e61a837-5624-4811-924f-fc2d57b98b3e ---
[2025-05-12T01:07:47.240Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T01:07:47.241Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T01:07:47.241Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T01:07:47.241Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:07:47.242Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:07:47.242Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:07:47.242Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:07:47.242Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:07:47.242Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T01:07:47.243Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:07:47.243Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:07:47.243Z]   - No valid next turn added, sending only history.
[2025-05-12T01:07:49.023Z] Model Finish Reason: STOP
[2025-05-12T01:07:49.024Z] Model requested function call: getConferences
[2025-05-12T01:07:49.024Z] Arguments: {"searchQuery":"acronym=GLOBECOM&perPage=5&page=1"}
[2025-05-12T01:07:49.024Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T01:07:49.024Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240] ConferenceAgent requests function call: getConferences
[2025-05-12T01:07:49.024Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T01:07:49.025Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T01:07:49.025Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T01:07:49.026Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T01:07:49.026Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"acronym=GLOBECOM&perPage=5&page=1"}
[2025-05-12T01:07:49.027Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:07:49.027Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:07:49.028Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T01:07:49.028Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:07:49.030Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:07:49.030Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T01:07:49.039Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?acronym=GLOBECOM&perPage=5&page=1}
[2025-05-12T01:07:49.704Z] [BackendService] [conference] API Success (200). Data length: 1150. Attempting parsing...
[2025-05-12T01:07:49.704Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"7ae59de8-a3db-424b-9595-345e22b14c0a","title":"IEEE Global Telecommunications Conference","acronym":"GLOBECOM","location":{"cityStateProvince":"Taipei","country":"Taiwan","address":"Taipei, Taiwan","continent":"Asia"},"rank":"B","s...
[2025-05-12T01:07:49.704Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T01:07:49.705Z] Transforming conference data with Markdown. Search query: acronym=GLOBECOM&perPage=5&page=1
[2025-05-12T01:07:49.707Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 1
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** IEEE Global Telecommunications Conference
  - **Acronym:** GL...
[2025-05-12T01:07:49.707Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="acronym=GLOBECOM&perPage=5&page=1"
[2025-05-12T01:07:49.708Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:07:49.708Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:07:49.708Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T01:07:49.709Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:07:49.709Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:07:49.709Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T01:07:49.710Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:07:49.710Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:07:49.710Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T01:07:49.710Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T01:07:49.710Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T01:07:49.711Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T01:07:49.711Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T01:07:49.711Z] [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T01:07:49.711Z] --- [hXDL-1747012065117-Sub-ConferenceAgent-1747012067240] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T01:07:49.712Z] [hXDL-1747012065117 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T01:07:49.712Z] --- [hXDL-1747012065117 HostAgent Streaming Turn 2 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:07:49.712Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:49.712Z] [hXDL-1747012065117 History T2 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 11
[2025-05-12T01:07:49.713Z] [GeminiService] Received history with 11 items before mapping (for stream).
[2025-05-12T01:07:49.713Z] [GeminiService] Mapped history (SDK Content[]) with 11 items (for stream).
[2025-05-12T01:07:49.713Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:07:49.713Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:07:49.713Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:07:49.713Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:07:49.714Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:07:49.714Z] [GeminiService Stream] Preparing stream request with 11 Content items.
[2025-05-12T01:07:49.714Z]   - No valid next turn added, sending only history.
[2025-05-12T01:07:50.594Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:07:50.595Z] [hXDL-1747012065117 HostAgent Streaming T2 - hXDLVOuD5pCD49S5AAAJ] Requests function: routeToAgent
[2025-05-12T01:07:50.595Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:50.596Z] --- [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: NavigationAgent, Task: 09ffd7a8-67ad-445c-912f-ddcee0935a5f ---
[2025-05-12T01:07:50.596Z] [Language Config] Using configuration for Agent: NavigationAgent, Language: en
[2025-05-12T01:07:50.597Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: NavigationAgent
[2025-05-12T01:07:50.597Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for NavigationAgent
[2025-05-12T01:07:50.597Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:07:50.597Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:07:50.598Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:07:50.598Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:07:50.598Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:07:50.598Z] Tools provided: ["navigation","openGoogleMap"]
[2025-05-12T01:07:50.598Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:07:50.598Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:07:50.599Z]   - No valid next turn added, sending only history.
[2025-05-12T01:07:51.274Z] Model Finish Reason: STOP
[2025-05-12T01:07:51.274Z] Model requested function call: navigation
[2025-05-12T01:07:51.275Z] Arguments: {"url":"https://globecom2025.ieee-globecom.org/"}
[2025-05-12T01:07:51.275Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596] LLM result from NavigationAgent: Status requires_function_call
[2025-05-12T01:07:51.275Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596] NavigationAgent requests function call: navigation
[2025-05-12T01:07:51.275Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 hXDLVOuD5pCD49S5AAAJ Agent:NavigationAgent FuncRegistry Func:navigation] Received request.
[2025-05-12T01:07:51.275Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: NavigationAgent
[2025-05-12T01:07:51.276Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for NavigationAgent
[2025-05-12T01:07:51.276Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 hXDLVOuD5pCD49S5AAAJ Agent:NavigationAgent FuncRegistry Func:navigation] Executing handler...
[2025-05-12T01:07:51.277Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 hXDLVOuD5pCD49S5AAAJ] Handler: Navigation, Args: {"url":"https://globecom2025.ieee-globecom.org/"}
[2025-05-12T01:07:51.278Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_navigation_url, Agent: NavigationAgent
[2025-05-12T01:07:51.278Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_navigation_url for NavigationAgent
[2025-05-12T01:07:51.278Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 hXDLVOuD5pCD49S5AAAJ] Navigation: Valid target URL: https://globecom2025.ieee-globecom.org/
[2025-05-12T01:07:51.278Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: navigation_action_prepared, Agent: NavigationAgent
[2025-05-12T01:07:51.279Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: navigation_action_prepared for NavigationAgent
[2025-05-12T01:07:51.279Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 hXDLVOuD5pCD49S5AAAJ Agent:NavigationAgent FuncRegistry Func:navigation] Handler execution finished. Result indicates error: false
[2025-05-12T01:07:51.279Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: NavigationAgent
[2025-05-12T01:07:51.279Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for NavigationAgent
[2025-05-12T01:07:51.280Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: NavigationAgent
[2025-05-12T01:07:51.280Z] [hXDL-1747012065117-Sub-NavigationAgent-1747012070596 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for NavigationAgent
[2025-05-12T01:07:51.280Z] --- [hXDL-1747012065117-Sub-NavigationAgent-1747012070596] Sub Agent NavigationAgent finished. Status: success, Thoughts collected: 6 ---
[2025-05-12T01:07:51.280Z] [hXDL-1747012065117 Streaming] Appended 6 thoughts from NavigationAgent. Total: 20
[2025-05-12T01:07:51.281Z] --- [hXDL-1747012065117 HostAgent Streaming Turn 3 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:07:51.281Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:51.281Z] [hXDL-1747012065117 History T3 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 13
[2025-05-12T01:07:51.281Z] [GeminiService] Received history with 13 items before mapping (for stream).
[2025-05-12T01:07:51.281Z] [GeminiService] Mapped history (SDK Content[]) with 13 items (for stream).
[2025-05-12T01:07:51.282Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:07:51.282Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:07:51.282Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:07:51.282Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:07:51.282Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:07:51.282Z] [GeminiService Stream] Preparing stream request with 13 Content items.
[2025-05-12T01:07:51.283Z]   - No valid next turn added, sending only history.
[2025-05-12T01:07:51.985Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:07:51.986Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:51.986Z] [hXDL-1747012065117 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Starting...
[2025-05-12T01:07:51.986Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:07:51.986Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:07:52.099Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:07:52.104Z] [hXDL-1747012065117 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Finished. Length: 65
[2025-05-12T01:07:52.104Z] [hXDL-1747012065117 hXDLVOuD5pCD49S5AAAJ] Emitting final streaming chat_result with 23 thoughts.
[2025-05-12T01:07:52.106Z] [hXDL-1747012065117 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:07:52.106Z] --- [hXDL-1747012065117 hXDLVOuD5pCD49S5AAAJ Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:07:52.106Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Intent handler returned updated history. Attempting save. New size: 14
[2025-05-12T01:07:52.188Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Successfully updated history in DB.
[2025-05-12T01:07:52.189Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:07:52.190Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:07:52.449Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:07:52.450Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012065117][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: message saved, Count: 18
[2025-05-12T01:08:18.550Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"opne google map","isStreaming":true,"language":"en","conversationId":"68214760ebeeb6ccfc2334a8"}]
[2025-05-12T01:08:18.550Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550] Request received. UserInput: "opne google map", Streaming: true, Language: en, PayloadConvId: 68214760ebeeb6ccfc2334a8, SocketDataConvId: 68214760ebeeb6ccfc2334a8
[2025-05-12T01:08:18.551Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Using conversationId from payload.
[2025-05-12T01:08:18.672Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Fetched current history. Count: 14
[2025-05-12T01:08:18.673Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Calling streaming intent handler.
[2025-05-12T01:08:18.673Z] --- [hXDL-1747012098550 Socket hXDLVOuD5pCD49S5AAAJ] Handling STREAMING input: "opne google map", Lang: en ---
[2025-05-12T01:08:18.674Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:08:18.675Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:18.675Z] --- [hXDL-1747012098550 HostAgent Streaming Turn 1 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:08:18.675Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:18.676Z] [hXDL-1747012098550 History T1 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 15
[2025-05-12T01:08:18.676Z] [GeminiService] Received history with 15 items before mapping (for stream).
[2025-05-12T01:08:18.676Z] [GeminiService] Mapped history (SDK Content[]) with 15 items (for stream).
[2025-05-12T01:08:18.676Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:08:18.676Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:08:18.677Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:08:18.677Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:08:18.677Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:08:18.677Z] [GeminiService Stream] Preparing stream request with 15 Content items.
[2025-05-12T01:08:18.677Z]   - No valid next turn added, sending only history.
[2025-05-12T01:08:20.482Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:08:20.483Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:20.483Z] [hXDL-1747012098550 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Starting...
[2025-05-12T01:08:20.484Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:20.484Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:08:20.586Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:08:20.609Z] [hXDL-1747012098550 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Finished. Length: 83
[2025-05-12T01:08:20.609Z] [hXDL-1747012098550 hXDLVOuD5pCD49S5AAAJ] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T01:08:20.610Z] [hXDL-1747012098550 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:08:20.610Z] --- [hXDL-1747012098550 hXDLVOuD5pCD49S5AAAJ Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:08:20.611Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Intent handler returned updated history. Attempting save. New size: 16
[2025-05-12T01:08:20.690Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Successfully updated history in DB.
[2025-05-12T01:08:20.690Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:08:20.690Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:08:20.939Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:08:20.940Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012098550][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: message saved, Count: 18
[2025-05-12T01:08:29.955Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"above conference","isStreaming":true,"language":"en","conversationId":"68214760ebeeb6ccfc2334a8"}]
[2025-05-12T01:08:29.956Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956] Request received. UserInput: "above conference", Streaming: true, Language: en, PayloadConvId: 68214760ebeeb6ccfc2334a8, SocketDataConvId: 68214760ebeeb6ccfc2334a8
[2025-05-12T01:08:29.956Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Using conversationId from payload.
[2025-05-12T01:08:30.076Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Fetched current history. Count: 16
[2025-05-12T01:08:30.076Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Calling streaming intent handler.
[2025-05-12T01:08:30.076Z] --- [hXDL-1747012109956 Socket hXDLVOuD5pCD49S5AAAJ] Handling STREAMING input: "above conference", Lang: en ---
[2025-05-12T01:08:30.076Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:08:30.077Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:30.077Z] --- [hXDL-1747012109956 HostAgent Streaming Turn 1 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:08:30.077Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:30.078Z] [hXDL-1747012109956 History T1 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 17
[2025-05-12T01:08:30.078Z] [GeminiService] Received history with 17 items before mapping (for stream).
[2025-05-12T01:08:30.078Z] [GeminiService] Mapped history (SDK Content[]) with 17 items (for stream).
[2025-05-12T01:08:30.078Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:08:30.078Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:08:30.079Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:08:30.079Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:08:30.079Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:08:30.079Z] [GeminiService Stream] Preparing stream request with 17 Content items.
[2025-05-12T01:08:30.080Z]   - No valid next turn added, sending only history.
[2025-05-12T01:08:32.062Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:08:32.063Z] [hXDL-1747012109956 HostAgent Streaming T1 - hXDLVOuD5pCD49S5AAAJ] Requests function: routeToAgent
[2025-05-12T01:08:32.063Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:32.064Z] --- [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: ConferenceAgent, Task: b5d32d13-0bf6-4cd8-ac16-6ba5edc4b5ae ---
[2025-05-12T01:08:32.066Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T01:08:32.067Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T01:08:32.068Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T01:08:32.074Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:08:32.080Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:08:32.083Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:08:32.085Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:08:32.089Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:08:32.090Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T01:08:32.090Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:08:32.091Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:08:32.091Z]   - No valid next turn added, sending only history.
[2025-05-12T01:08:33.957Z] Model Finish Reason: STOP
[2025-05-12T01:08:33.957Z] Model requested function call: getConferences
[2025-05-12T01:08:33.958Z] Arguments: {"searchQuery":"acronym=GLOBECOM&perPage=5&page=1"}
[2025-05-12T01:08:33.958Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T01:08:33.958Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064] ConferenceAgent requests function call: getConferences
[2025-05-12T01:08:33.958Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T01:08:33.959Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T01:08:33.959Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T01:08:33.959Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T01:08:33.959Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"acronym=GLOBECOM&perPage=5&page=1"}
[2025-05-12T01:08:33.960Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:08:33.960Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:08:33.960Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T01:08:33.961Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:08:33.961Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:08:33.961Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T01:08:33.961Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?acronym=GLOBECOM&perPage=5&page=1}
[2025-05-12T01:08:34.595Z] [BackendService] [conference] API Success (200). Data length: 1150. Attempting parsing...
[2025-05-12T01:08:34.595Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"7ae59de8-a3db-424b-9595-345e22b14c0a","title":"IEEE Global Telecommunications Conference","acronym":"GLOBECOM","location":{"cityStateProvince":"Taipei","country":"Taiwan","address":"Taipei, Taiwan","continent":"Asia"},"rank":"B","s...
[2025-05-12T01:08:34.595Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T01:08:34.595Z] Transforming conference data with Markdown. Search query: acronym=GLOBECOM&perPage=5&page=1
[2025-05-12T01:08:34.597Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 1
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** IEEE Global Telecommunications Conference
  - **Acronym:** GL...
[2025-05-12T01:08:34.598Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="acronym=GLOBECOM&perPage=5&page=1"
[2025-05-12T01:08:34.598Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:08:34.598Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:08:34.599Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T01:08:34.599Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:08:34.599Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:08:34.599Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T01:08:34.600Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:08:34.600Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:08:34.600Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T01:08:34.601Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 hXDLVOuD5pCD49S5AAAJ Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T01:08:34.601Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T01:08:34.601Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T01:08:34.601Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T01:08:34.602Z] [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T01:08:34.602Z] --- [hXDL-1747012109956-Sub-ConferenceAgent-1747012112064] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T01:08:34.603Z] [hXDL-1747012109956 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T01:08:34.603Z] --- [hXDL-1747012109956 HostAgent Streaming Turn 2 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:08:34.604Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:34.604Z] [hXDL-1747012109956 History T2 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 19
[2025-05-12T01:08:34.605Z] [GeminiService] Received history with 19 items before mapping (for stream).
[2025-05-12T01:08:34.606Z] [GeminiService] Mapped history (SDK Content[]) with 19 items (for stream).
[2025-05-12T01:08:34.606Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:08:34.606Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:08:34.606Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:08:34.606Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:08:34.606Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:08:34.607Z] [GeminiService Stream] Preparing stream request with 19 Content items.
[2025-05-12T01:08:34.607Z]   - No valid next turn added, sending only history.
[2025-05-12T01:08:35.504Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:08:35.505Z] [hXDL-1747012109956 HostAgent Streaming T2 - hXDLVOuD5pCD49S5AAAJ] Requests function: routeToAgent
[2025-05-12T01:08:35.506Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:35.506Z] --- [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: NavigationAgent, Task: 705ea621-a67e-4169-8e4d-ed86c2f640d0 ---
[2025-05-12T01:08:35.506Z] [Language Config] Using configuration for Agent: NavigationAgent, Language: en
[2025-05-12T01:08:35.507Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: NavigationAgent
[2025-05-12T01:08:35.507Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for NavigationAgent
[2025-05-12T01:08:35.507Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:08:35.507Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:08:35.507Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:08:35.507Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:08:35.508Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:08:35.508Z] Tools provided: ["navigation","openGoogleMap"]
[2025-05-12T01:08:35.508Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:08:35.508Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:08:35.509Z]   - No valid next turn added, sending only history.
[2025-05-12T01:08:36.167Z] Model Finish Reason: STOP
[2025-05-12T01:08:36.167Z] Model requested function call: openGoogleMap
[2025-05-12T01:08:36.167Z] Arguments: {"location":"Taipei, Taiwan"}
[2025-05-12T01:08:36.168Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506] LLM result from NavigationAgent: Status requires_function_call
[2025-05-12T01:08:36.168Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506] NavigationAgent requests function call: openGoogleMap
[2025-05-12T01:08:36.168Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 hXDLVOuD5pCD49S5AAAJ Agent:NavigationAgent FuncRegistry Func:openGoogleMap] Received request.
[2025-05-12T01:08:36.169Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: NavigationAgent
[2025-05-12T01:08:36.170Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for NavigationAgent
[2025-05-12T01:08:36.170Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 hXDLVOuD5pCD49S5AAAJ Agent:NavigationAgent FuncRegistry Func:openGoogleMap] Executing handler...
[2025-05-12T01:08:36.171Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 hXDLVOuD5pCD49S5AAAJ] Handler: OpenGoogleMap, Args: {"location":"Taipei, Taiwan"}
[2025-05-12T01:08:36.171Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_map_location, Agent: NavigationAgent
[2025-05-12T01:08:36.172Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_map_location for NavigationAgent
[2025-05-12T01:08:36.172Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 hXDLVOuD5pCD49S5AAAJ] OpenGoogleMap: Valid location string: Taipei, Taiwan
[2025-05-12T01:08:36.172Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: map_action_prepared, Agent: NavigationAgent
[2025-05-12T01:08:36.173Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: map_action_prepared for NavigationAgent
[2025-05-12T01:08:36.173Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 hXDLVOuD5pCD49S5AAAJ Agent:NavigationAgent FuncRegistry Func:openGoogleMap] Handler execution finished. Result indicates error: false
[2025-05-12T01:08:36.173Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: NavigationAgent
[2025-05-12T01:08:36.173Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for NavigationAgent
[2025-05-12T01:08:36.174Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: NavigationAgent
[2025-05-12T01:08:36.174Z] [hXDL-1747012109956-Sub-NavigationAgent-1747012115506 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for NavigationAgent
[2025-05-12T01:08:36.174Z] --- [hXDL-1747012109956-Sub-NavigationAgent-1747012115506] Sub Agent NavigationAgent finished. Status: success, Thoughts collected: 6 ---
[2025-05-12T01:08:36.174Z] [hXDL-1747012109956 Streaming] Appended 6 thoughts from NavigationAgent. Total: 20
[2025-05-12T01:08:36.174Z] --- [hXDL-1747012109956 HostAgent Streaming Turn 3 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:08:36.175Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:36.175Z] [hXDL-1747012109956 History T3 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 21
[2025-05-12T01:08:36.175Z] [GeminiService] Received history with 21 items before mapping (for stream).
[2025-05-12T01:08:36.175Z] [GeminiService] Mapped history (SDK Content[]) with 21 items (for stream).
[2025-05-12T01:08:36.176Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:08:36.176Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:08:36.176Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:08:36.176Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:08:36.176Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:08:36.177Z] [GeminiService Stream] Preparing stream request with 21 Content items.
[2025-05-12T01:08:36.177Z]   - No valid next turn added, sending only history.
[2025-05-12T01:08:36.891Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:08:36.891Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:36.891Z] [hXDL-1747012109956 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Starting...
[2025-05-12T01:08:36.892Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:08:36.892Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:08:36.991Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:08:37.004Z] [hXDL-1747012109956 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Finished. Length: 48
[2025-05-12T01:08:37.005Z] [hXDL-1747012109956 hXDLVOuD5pCD49S5AAAJ] Emitting final streaming chat_result with 23 thoughts.
[2025-05-12T01:08:37.006Z] [hXDL-1747012109956 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:08:37.006Z] --- [hXDL-1747012109956 hXDLVOuD5pCD49S5AAAJ Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:08:37.006Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Intent handler returned updated history. Attempting save. New size: 22
[2025-05-12T01:08:37.085Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Successfully updated history in DB.
[2025-05-12T01:08:37.086Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:08:37.087Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:08:37.335Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:08:37.336Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012109956][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: message saved, Count: 18
[2025-05-12T01:09:10.933Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: send_message, Args: [{"userInput":"send email to admin report wrong location of this conference, it should be Vietnam","isStreaming":true,"language":"en","conversationId":"68214760ebeeb6ccfc2334a8"}]
[2025-05-12T01:09:10.933Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933] Request received. UserInput: "send email to admin report wro...", Streaming: true, Language: en, PayloadConvId: 68214760ebeeb6ccfc2334a8, SocketDataConvId: 68214760ebeeb6ccfc2334a8
[2025-05-12T01:09:10.934Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Using conversationId from payload.
[2025-05-12T01:09:11.053Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Fetched current history. Count: 22
[2025-05-12T01:09:11.053Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Calling streaming intent handler.
[2025-05-12T01:09:11.053Z] --- [hXDL-1747012150933 Socket hXDLVOuD5pCD49S5AAAJ] Handling STREAMING input: "send email to admin report wrong location of this conference, it should be Vietnam", Lang: en ---
[2025-05-12T01:09:11.054Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:09:11.054Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:09:11.055Z] --- [hXDL-1747012150933 HostAgent Streaming Turn 1 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:09:11.055Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:09:11.055Z] [hXDL-1747012150933 History T1 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 23
[2025-05-12T01:09:11.055Z] [GeminiService] Received history with 23 items before mapping (for stream).
[2025-05-12T01:09:11.056Z] [GeminiService] Mapped history (SDK Content[]) with 23 items (for stream).
[2025-05-12T01:09:11.056Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:09:11.056Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:09:11.056Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:09:11.057Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:09:11.057Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:09:11.057Z] [GeminiService Stream] Preparing stream request with 23 Content items.
[2025-05-12T01:09:11.057Z]   - No valid next turn added, sending only history.
[2025-05-12T01:09:13.286Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:09:13.286Z] [hXDL-1747012150933 HostAgent Streaming T1 - hXDLVOuD5pCD49S5AAAJ] Requests function: routeToAgent
[2025-05-12T01:09:13.287Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:09:13.287Z] --- [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 Socket hXDLVOuD5pCD49S5AAAJ] Calling Sub Agent: AdminContactAgent, Task: d5f28f11-988b-4400-8949-6a593672f494 ---
[2025-05-12T01:09:13.288Z] [Language Config] Using configuration for Agent: AdminContactAgent, Language: en
[2025-05-12T01:09:13.288Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_thinking, Agent: AdminContactAgent
[2025-05-12T01:09:13.288Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_thinking for AdminContactAgent
[2025-05-12T01:09:13.288Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:09:13.289Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:09:13.289Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:09:13.289Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:09:13.289Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:09:13.289Z] Tools provided: ["sendEmailToAdmin"]
[2025-05-12T01:09:13.289Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:09:13.289Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:09:13.290Z]   - No valid next turn added, sending only history.
[2025-05-12T01:09:15.140Z] Model Finish Reason: STOP
[2025-05-12T01:09:15.141Z] Model requested function call: sendEmailToAdmin
[2025-05-12T01:09:15.141Z] Arguments: {"message":"The GLOBECOM conference location is incorrect. It should be Vietnam instead of Taipei, Taiwan.","subject":"Incorrect GLOBECOM conference location","requestType":"report"}
[2025-05-12T01:09:15.142Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287] LLM result from AdminContactAgent: Status requires_function_call
[2025-05-12T01:09:15.142Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287] AdminContactAgent requests function call: sendEmailToAdmin
[2025-05-12T01:09:15.143Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 hXDLVOuD5pCD49S5AAAJ Agent:AdminContactAgent FuncRegistry Func:sendEmailToAdmin] Received request.
[2025-05-12T01:09:15.144Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_call_received, Agent: AdminContactAgent
[2025-05-12T01:09:15.145Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_call_received for AdminContactAgent
[2025-05-12T01:09:15.146Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 hXDLVOuD5pCD49S5AAAJ Agent:AdminContactAgent FuncRegistry Func:sendEmailToAdmin] Executing handler...
[2025-05-12T01:09:15.147Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 hXDLVOuD5pCD49S5AAAJ] Handler: SendEmailToAdmin (Confirmation Step), Args: {"message":"The GLOBECOM conference location is incorrect. It should be Vietnam instead of Taipei, Taiwan.","subject":"Incorrect GLOBECOM conference location","requestType":"report"}, Auth: true
[2025-05-12T01:09:15.147Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: validating_email_args, Agent: AdminContactAgent
[2025-05-12T01:09:15.147Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: validating_email_args for AdminContactAgent
[2025-05-12T01:09:15.148Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 hXDLVOuD5pCD49S5AAAJ] SendEmailToAdmin: Preparing confirmation request ID: 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce
[2025-05-12T01:09:15.148Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: preparing_email_confirmation, Agent: AdminContactAgent
[2025-05-12T01:09:15.149Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: preparing_email_confirmation for AdminContactAgent
[2025-05-12T01:09:15.149Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 hXDLVOuD5pCD49S5AAAJ] SendEmailToAdmin: Staging confirmation 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce. Awaiting frontend response. (Requires external state management)
[2025-05-12T01:09:15.150Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 hXDLVOuD5pCD49S5AAAJ Agent:AdminContactAgent FuncRegistry Func:sendEmailToAdmin] Handler execution finished. Result indicates error: false
[2025-05-12T01:09:15.150Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: function_result_processed, Agent: AdminContactAgent
[2025-05-12T01:09:15.150Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: function_result_processed for AdminContactAgent
[2025-05-12T01:09:15.151Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Thought Added - hXDLVOuD5pCD49S5AAAJ] Step: sub_agent_processing_complete, Agent: AdminContactAgent
[2025-05-12T01:09:15.151Z] [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287 SubAgent Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Step: sub_agent_processing_complete for AdminContactAgent
[2025-05-12T01:09:15.151Z] --- [hXDL-1747012150933-Sub-AdminContactAgent-1747012153287] Sub Agent AdminContactAgent finished. Status: success, Thoughts collected: 6 ---
[2025-05-12T01:09:15.152Z] [hXDL-1747012150933 Streaming] Appended 6 thoughts from AdminContactAgent. Total: 9
[2025-05-12T01:09:15.152Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Staging email confirmation action. Confirmation ID: 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce
[2025-05-12T01:09:15.152Z] [hXDL-1747012150933 hXDLVOuD5pCD49S5AAAJ] Staging email confirmation ID: 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce with timeout 60000ms
[2025-05-12T01:09:15.153Z] [hXDL-1747012150933 hXDLVOuD5pCD49S5AAAJ] Confirmation 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce stored. Status: pending.
[2025-05-12T01:09:15.153Z] --- [hXDL-1747012150933 HostAgent Streaming Turn 2 Start - hXDLVOuD5pCD49S5AAAJ] ---
[2025-05-12T01:09:15.153Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:09:15.153Z] [hXDL-1747012150933 History T2 Send - hXDLVOuD5pCD49S5AAAJ] Host History Size: 25
[2025-05-12T01:09:15.154Z] [GeminiService] Received history with 25 items before mapping (for stream).
[2025-05-12T01:09:15.154Z] [GeminiService] Mapped history (SDK Content[]) with 25 items (for stream).
[2025-05-12T01:09:15.154Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:09:15.154Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:09:15.154Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:09:15.154Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:09:15.155Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:09:15.155Z] [GeminiService Stream] Preparing stream request with 25 Content items.
[2025-05-12T01:09:15.155Z]   - No valid next turn added, sending only history.
[2025-05-12T01:09:15.879Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:09:15.879Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:09:15.880Z] [hXDL-1747012150933 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Starting...
[2025-05-12T01:09:15.880Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:09:15.880Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:09:15.966Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:09:15.996Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:09:16.005Z] [hXDL-1747012150933 Stream Processing - hXDLVOuD5pCD49S5AAAJ] Finished. Length: 123
[2025-05-12T01:09:16.005Z] [hXDL-1747012150933 hXDLVOuD5pCD49S5AAAJ] Emitting final streaming chat_result with 12 thoughts.
[2025-05-12T01:09:16.006Z] [hXDL-1747012150933 Streaming Emit Sent - hXDLVOuD5pCD49S5AAAJ] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:09:16.006Z] --- [hXDL-1747012150933 hXDLVOuD5pCD49S5AAAJ Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:09:16.007Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Intent handler returned updated history. Attempting save. New size: 26
[2025-05-12T01:09:16.088Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Successfully updated history in DB.
[2025-05-12T01:09:16.089Z] [DEBUG] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:09:16.089Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:09:16.343Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:09:16.345Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:hXDL-1747012150933][Conv:68214760ebeeb6ccfc2334a8] Emitted updated conversation list. Reason: message saved, Count: 18
[2025-05-12T01:09:29.963Z] [SERVER SOCKET hXDLVOuD5pCD49S5AAAJ - ON ANY] Event: user_confirm_email, Args: [{"confirmationId":"2eaf7673-e524-43d1-8ec7-7d5a0600c7ce"}]
[2025-05-12T01:09:29.964Z] [INFO] [coreHandlers][hXDLVOuD5pCD49S5AAAJ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Confirm:2eaf7673-e524-43d1-8ec7-7d5a0600c7ce] Request received.
[2025-05-12T01:09:29.965Z] [hXDL-1747012150933 hXDLVOuD5pCD49S5AAAJ] User confirmed email ID: 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce. Proceeding to send.
[2025-05-12T01:09:29.965Z] Attempting to send email to admin. Type: report, Subject: "Incorrect GLOBECOM conference location", Token Present: true
[2025-05-12T01:09:29.965Z] SIMULATING Email Send:
To: Admin
Subject: [REPORT] Incorrect GLOBECOM conference location
Body:

            Request Type: report
            From: User: Authenticated (token present)
            Subject: Incorrect GLOBECOM conference location
            --------------------
            Message:
            The GLOBECOM conference location is incorrect. It should be Vietnam instead of Taipei, Taiwan.
            --------------------
            Sent via Chatbot Function Call
        

[2025-05-12T01:09:30.168Z] [hXDL-1747012150933 hXDLVOuD5pCD49S5AAAJ] Email 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce sent successfully.
[2025-05-12T01:09:30.169Z] [User Confirm hXDLVOuD5pCD49S5AAAJ] Cleaned up entry 2eaf7673-e524-43d1-8ec7-7d5a0600c7ce after processing (Status: confirmed).
[2025-05-12T01:25:11.354Z] [SERVER GLOBAL][disconnect][hXDLVOuD5pCD49S5AAAJ] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: 68214760ebeeb6ccfc2334a8
[2025-05-12T01:25:11.456Z] [socketAuth][V7MfqRu05vFdbdCvAAAP] Authentication attempt. Has token: true
[2025-05-12T01:25:11.459Z] [socketAuth][V7MfqRu05vFdbdCvAAAP] Token signature validated successfully.
[2025-05-12T01:25:11.460Z] [HistoryService] Initialized.
[2025-05-12T01:25:11.460Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP] New connection. Socket ID: V7MfqRu05vFdbdCvAAAP. Initial socket.data.userId: null
[2025-05-12T01:25:11.460Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP] Client connected, processing authentication. Has token: true
[2025-05-12T01:25:11.460Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP] Attempting to fetch user info using token...
[2025-05-12T01:25:11.461Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:25:11.579Z] [SERVER GLOBAL][disconnect][RZDG3f4vgBzfeSIDAAAN] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:25:11.680Z] [socketAuth][KYE4jMjPOBaPNV2VAAAR] Authentication attempt. Has token: true
[2025-05-12T01:25:11.683Z] [socketAuth][KYE4jMjPOBaPNV2VAAAR] Token signature validated successfully.
[2025-05-12T01:25:11.684Z] [HistoryService] Initialized.
[2025-05-12T01:25:11.685Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR] New connection. Socket ID: KYE4jMjPOBaPNV2VAAAR. Initial socket.data.userId: null
[2025-05-12T01:25:11.686Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR] Client connected, processing authentication. Has token: true
[2025-05-12T01:25:11.687Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR] Attempting to fetch user info using token...
[2025-05-12T01:25:11.687Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:25:12.119Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:25:12.119Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:25:12.119Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:25:12.120Z] [HistoryService] Initialized.
[2025-05-12T01:25:12.120Z] [coreHandlers][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:25:12.120Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:25:12.120Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:12.120Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:25:12.121Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:25:12.121Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:25:12.296Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:25:12.297Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:25:12.297Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:25:12.297Z] [HistoryService] Initialized.
[2025-05-12T01:25:12.298Z] [coreHandlers][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:25:12.298Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:25:12.298Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:12.298Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:25:12.299Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:25:12.299Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:25:12.315Z] [SERVER SOCKET KYE4jMjPOBaPNV2VAAAR - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:25:12.376Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:25:12.377Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 18
[2025-05-12T01:25:12.378Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:12.378Z] [SERVER GLOBAL][connection][V7MfqRu05vFdbdCvAAAP][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:25:12.997Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:25:12.998Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 18
[2025-05-12T01:25:12.998Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:12.999Z] [SERVER GLOBAL][connection][KYE4jMjPOBaPNV2VAAAR][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:25:14.974Z] [SERVER SOCKET V7MfqRu05vFdbdCvAAAP - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:25:57.226Z] [SERVER GLOBAL][disconnect][V7MfqRu05vFdbdCvAAAP] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:25:57.324Z] [socketAuth][dyQq1uFUWLh5bBL8AAAT] Authentication attempt. Has token: true
[2025-05-12T01:25:57.328Z] [socketAuth][dyQq1uFUWLh5bBL8AAAT] Token signature validated successfully.
[2025-05-12T01:25:57.329Z] [HistoryService] Initialized.
[2025-05-12T01:25:57.329Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT] New connection. Socket ID: dyQq1uFUWLh5bBL8AAAT. Initial socket.data.userId: null
[2025-05-12T01:25:57.329Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT] Client connected, processing authentication. Has token: true
[2025-05-12T01:25:57.329Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT] Attempting to fetch user info using token...
[2025-05-12T01:25:57.329Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:25:57.963Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:25:57.964Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:25:57.964Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:25:57.964Z] [HistoryService] Initialized.
[2025-05-12T01:25:57.964Z] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:25:57.965Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:25:57.965Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:57.965Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:25:57.966Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:25:57.966Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:25:57.990Z] [SERVER SOCKET dyQq1uFUWLh5bBL8AAAT - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:25:58.127Z] [SERVER GLOBAL][disconnect][KYE4jMjPOBaPNV2VAAAR] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:25:58.206Z] [socketAuth][a7POK59nz72E3nf2AAAV] Authentication attempt. Has token: true
[2025-05-12T01:25:58.208Z] [socketAuth][a7POK59nz72E3nf2AAAV] Token signature validated successfully.
[2025-05-12T01:25:58.209Z] [HistoryService] Initialized.
[2025-05-12T01:25:58.209Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV] New connection. Socket ID: a7POK59nz72E3nf2AAAV. Initial socket.data.userId: null
[2025-05-12T01:25:58.210Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV] Client connected, processing authentication. Has token: true
[2025-05-12T01:25:58.210Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV] Attempting to fetch user info using token...
[2025-05-12T01:25:58.210Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:25:58.240Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:25:58.241Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 18
[2025-05-12T01:25:58.241Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:58.242Z] [SERVER GLOBAL][connection][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:25:58.410Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:25:58.411Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:25:58.411Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:25:58.411Z] [HistoryService] Initialized.
[2025-05-12T01:25:58.412Z] [coreHandlers][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:25:58.412Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:25:58.412Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:58.412Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:25:58.413Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:25:58.413Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:25:58.556Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 18 conversations.
[2025-05-12T01:25:58.557Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 18
[2025-05-12T01:25:58.558Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:25:58.558Z] [SERVER GLOBAL][connection][a7POK59nz72E3nf2AAAV][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:25:59.069Z] [SERVER SOCKET a7POK59nz72E3nf2AAAV - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:26:21.160Z] [SERVER SOCKET dyQq1uFUWLh5bBL8AAAT - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":true,"language":"en","conversationId":null}]
[2025-05-12T01:26:21.160Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160] Request received. UserInput: "List some AI conferences in As...", Streaming: true, Language: en, PayloadConvId: N/A, SocketDataConvId: N/A
[2025-05-12T01:26:21.161Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T01:26:21.332Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T01:26:21.332Z] [DEBUG] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T01:26:21.333Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:26:21.607Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 19 conversations.
[2025-05-12T01:26:21.608Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Emitted updated conversation list. Reason: new conversation from send_message, Count: 19
[2025-05-12T01:26:21.725Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Fetched current history. Count: 0
[2025-05-12T01:26:21.725Z] [DEBUG] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Calling streaming intent handler.
[2025-05-12T01:26:21.725Z] --- [dyQq-1747013181160 Socket dyQq1uFUWLh5bBL8AAAT] Handling STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-12T01:26:21.725Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:26:21.726Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:26:21.726Z] --- [dyQq-1747013181160 HostAgent Streaming Turn 1 Start - dyQq1uFUWLh5bBL8AAAT] ---
[2025-05-12T01:26:21.727Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:26:21.727Z] [dyQq-1747013181160 History T1 Send - dyQq1uFUWLh5bBL8AAAT] Host History Size: 1
[2025-05-12T01:26:21.728Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-12T01:26:21.728Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-12T01:26:21.728Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:26:21.728Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:26:21.728Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:26:21.728Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:26:21.729Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:26:21.729Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-12T01:26:21.729Z]   - No valid next turn added, sending only history.
[2025-05-12T01:26:23.590Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:26:23.591Z] [dyQq-1747013181160 HostAgent Streaming T1 - dyQq1uFUWLh5bBL8AAAT] Requests function: routeToAgent
[2025-05-12T01:26:23.591Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:26:23.592Z] --- [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 Socket dyQq1uFUWLh5bBL8AAAT] Calling Sub Agent: ConferenceAgent, Task: ec57e812-6d2a-4c2f-aeea-5b31885c6bb9 ---
[2025-05-12T01:26:23.592Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T01:26:23.592Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T01:26:23.593Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T01:26:23.593Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:26:23.593Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:26:23.593Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:26:23.593Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:26:23.594Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:26:23.594Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T01:26:23.594Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:26:23.594Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:26:23.594Z]   - No valid next turn added, sending only history.
[2025-05-12T01:26:25.395Z] Model Finish Reason: STOP
[2025-05-12T01:26:25.395Z] Model requested function call: getConferences
[2025-05-12T01:26:25.395Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T01:26:25.395Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T01:26:25.396Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592] ConferenceAgent requests function call: getConferences
[2025-05-12T01:26:25.396Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T01:26:25.396Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T01:26:25.397Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T01:26:25.397Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T01:26:25.397Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T01:26:25.398Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:26:25.398Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:26:25.398Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T01:26:25.398Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:26:25.398Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:26:25.399Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T01:26:25.399Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-12T01:26:26.156Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-12T01:26:26.156Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-12T01:26:26.156Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T01:26:26.157Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-12T01:26:26.163Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-12T01:26:26.164Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-12T01:26:26.164Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:26:26.164Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:26:26.165Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T01:26:26.165Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:26:26.166Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:26:26.166Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T01:26:26.166Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:26:26.166Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:26:26.166Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T01:26:26.167Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 dyQq1uFUWLh5bBL8AAAT Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T01:26:26.167Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T01:26:26.167Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T01:26:26.168Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Thought Added - dyQq1uFUWLh5bBL8AAAT] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T01:26:26.168Z] [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592 SubAgent Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T01:26:26.168Z] --- [dyQq-1747013181160-Sub-ConferenceAgent-1747013183592] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T01:26:26.170Z] [dyQq-1747013181160 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T01:26:26.171Z] --- [dyQq-1747013181160 HostAgent Streaming Turn 2 Start - dyQq1uFUWLh5bBL8AAAT] ---
[2025-05-12T01:26:26.171Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:26:26.172Z] [dyQq-1747013181160 History T2 Send - dyQq1uFUWLh5bBL8AAAT] Host History Size: 3
[2025-05-12T01:26:26.172Z] [GeminiService] Received history with 3 items before mapping (for stream).
[2025-05-12T01:26:26.173Z] [GeminiService] Mapped history (SDK Content[]) with 3 items (for stream).
[2025-05-12T01:26:26.173Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:26:26.173Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:26:26.173Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:26:26.173Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:26:26.174Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:26:26.174Z] [GeminiService Stream] Preparing stream request with 3 Content items.
[2025-05-12T01:26:26.174Z]   - No valid next turn added, sending only history.
[2025-05-12T01:26:26.815Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:26:26.816Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:26:26.817Z] [dyQq-1747013181160 Stream Processing - dyQq1uFUWLh5bBL8AAAT] Starting...
[2025-05-12T01:26:26.817Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:26:26.817Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:26:26.929Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:26:27.017Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:26:27.145Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:26:27.277Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:26:27.365Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:26:27.371Z] [dyQq-1747013181160 Stream Processing - dyQq1uFUWLh5bBL8AAAT] Finished. Length: 550
[2025-05-12T01:26:27.372Z] [dyQq-1747013181160 dyQq1uFUWLh5bBL8AAAT] Emitting final streaming chat_result with 15 thoughts.
[2025-05-12T01:26:27.372Z] [dyQq-1747013181160 Streaming Emit Sent - dyQq1uFUWLh5bBL8AAAT] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:26:27.373Z] --- [dyQq-1747013181160 dyQq1uFUWLh5bBL8AAAT Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:26:27.373Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Intent handler returned updated history. Attempting save. New size: 4
[2025-05-12T01:26:27.452Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Successfully updated history in DB.
[2025-05-12T01:26:27.453Z] [DEBUG] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:26:27.453Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:26:27.729Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 19 conversations.
[2025-05-12T01:26:27.730Z] [INFO] [coreHandlers][dyQq1uFUWLh5bBL8AAAT][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:dyQq-1747013181160][Conv:68214e3debeeb6ccfc2334c8] Emitted updated conversation list. Reason: message saved, Count: 19
[2025-05-12T01:36:58.968Z] [SERVER GLOBAL][disconnect][dyQq1uFUWLh5bBL8AAAT] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: 68214e3debeeb6ccfc2334c8
[2025-05-12T01:37:05.190Z] [socketAuth][zK4W5C65T_ROKaMcAAAX] Authentication attempt. Has token: true
[2025-05-12T01:37:05.193Z] [socketAuth][zK4W5C65T_ROKaMcAAAX] Token signature validated successfully.
[2025-05-12T01:37:05.193Z] [HistoryService] Initialized.
[2025-05-12T01:37:05.194Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX] New connection. Socket ID: zK4W5C65T_ROKaMcAAAX. Initial socket.data.userId: null
[2025-05-12T01:37:05.194Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX] Client connected, processing authentication. Has token: true
[2025-05-12T01:37:05.194Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX] Attempting to fetch user info using token...
[2025-05-12T01:37:05.194Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:37:05.848Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:37:05.848Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:37:05.848Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:37:05.848Z] [HistoryService] Initialized.
[2025-05-12T01:37:05.849Z] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:37:05.849Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:37:05.849Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:37:05.849Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:37:05.849Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:37:05.849Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:37:05.854Z] [SERVER SOCKET zK4W5C65T_ROKaMcAAAX - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:37:06.124Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 19 conversations.
[2025-05-12T01:37:06.125Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 19
[2025-05-12T01:37:06.126Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:37:06.126Z] [SERVER GLOBAL][connection][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:37:17.400Z] [SERVER SOCKET zK4W5C65T_ROKaMcAAAX - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":true,"language":"en","conversationId":null}]
[2025-05-12T01:37:17.401Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401] Request received. UserInput: "List some AI conferences in As...", Streaming: true, Language: en, PayloadConvId: N/A, SocketDataConvId: N/A
[2025-05-12T01:37:17.401Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T01:37:17.544Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T01:37:17.544Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T01:37:17.544Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:37:17.824Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:37:17.825Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Emitted updated conversation list. Reason: new conversation from send_message, Count: 20
[2025-05-12T01:37:17.893Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Fetched current history. Count: 0
[2025-05-12T01:37:17.893Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Calling streaming intent handler.
[2025-05-12T01:37:17.893Z] --- [zK4W-1747013837401 Socket zK4W5C65T_ROKaMcAAAX] Handling STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-12T01:37:17.894Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:37:17.894Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:37:17.895Z] --- [zK4W-1747013837401 HostAgent Streaming Turn 1 Start - zK4W5C65T_ROKaMcAAAX] ---
[2025-05-12T01:37:17.895Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:37:17.895Z] [zK4W-1747013837401 History T1 Send - zK4W5C65T_ROKaMcAAAX] Host History Size: 1
[2025-05-12T01:37:17.895Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-12T01:37:17.896Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-12T01:37:17.897Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:37:17.897Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:37:17.897Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:37:17.898Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:37:17.898Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:37:17.898Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-12T01:37:17.898Z]   - No valid next turn added, sending only history.
[2025-05-12T01:37:19.779Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:37:19.779Z] [zK4W-1747013837401 HostAgent Streaming T1 - zK4W5C65T_ROKaMcAAAX] Requests function: routeToAgent
[2025-05-12T01:37:19.780Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:37:19.780Z] --- [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 Socket zK4W5C65T_ROKaMcAAAX] Calling Sub Agent: ConferenceAgent, Task: 0c665613-a0c4-4153-8cc7-eacf9f9e2d56 ---
[2025-05-12T01:37:19.780Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T01:37:19.781Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T01:37:19.781Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T01:37:19.782Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:37:19.782Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:37:19.782Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:37:19.782Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:37:19.782Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:37:19.783Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T01:37:19.783Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:37:19.783Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:37:19.783Z]   - No valid next turn added, sending only history.
[2025-05-12T01:37:21.490Z] Model Finish Reason: STOP
[2025-05-12T01:37:21.491Z] Model requested function call: getConferences
[2025-05-12T01:37:21.491Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T01:37:21.491Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T01:37:21.491Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780] ConferenceAgent requests function call: getConferences
[2025-05-12T01:37:21.491Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T01:37:21.492Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T01:37:21.492Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T01:37:21.492Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T01:37:21.492Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T01:37:21.493Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:37:21.493Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:37:21.493Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T01:37:21.493Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:37:21.493Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:37:21.494Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T01:37:21.494Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-12T01:37:22.216Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-12T01:37:22.217Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-12T01:37:22.217Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T01:37:22.217Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-12T01:37:22.225Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-12T01:37:22.225Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-12T01:37:22.226Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:37:22.226Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:37:22.227Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T01:37:22.227Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:37:22.227Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:37:22.228Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T01:37:22.228Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:37:22.228Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:37:22.229Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T01:37:22.229Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 zK4W5C65T_ROKaMcAAAX Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T01:37:22.230Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T01:37:22.230Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T01:37:22.231Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T01:37:22.231Z] [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T01:37:22.232Z] --- [zK4W-1747013837401-Sub-ConferenceAgent-1747013839780] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T01:37:22.232Z] [zK4W-1747013837401 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T01:37:22.233Z] --- [zK4W-1747013837401 HostAgent Streaming Turn 2 Start - zK4W5C65T_ROKaMcAAAX] ---
[2025-05-12T01:37:22.233Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:37:22.233Z] [zK4W-1747013837401 History T2 Send - zK4W5C65T_ROKaMcAAAX] Host History Size: 3
[2025-05-12T01:37:22.234Z] [GeminiService] Received history with 3 items before mapping (for stream).
[2025-05-12T01:37:22.234Z] [GeminiService] Mapped history (SDK Content[]) with 3 items (for stream).
[2025-05-12T01:37:22.234Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:37:22.235Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:37:22.236Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:37:22.236Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:37:22.236Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:37:22.237Z] [GeminiService Stream] Preparing stream request with 3 Content items.
[2025-05-12T01:37:22.237Z]   - No valid next turn added, sending only history.
[2025-05-12T01:37:22.921Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:37:22.922Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:37:22.923Z] [zK4W-1747013837401 Stream Processing - zK4W5C65T_ROKaMcAAAX] Starting...
[2025-05-12T01:37:22.923Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:37:22.924Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:22.977Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:23.080Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:23.245Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:23.369Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:23.536Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:23.729Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:37:23.734Z] [zK4W-1747013837401 Stream Processing - zK4W5C65T_ROKaMcAAAX] Finished. Length: 677
[2025-05-12T01:37:23.735Z] [zK4W-1747013837401 zK4W5C65T_ROKaMcAAAX] Emitting final streaming chat_result with 15 thoughts.
[2025-05-12T01:37:23.735Z] [zK4W-1747013837401 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:37:23.735Z] --- [zK4W-1747013837401 zK4W5C65T_ROKaMcAAAX Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:37:23.736Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Intent handler returned updated history. Attempting save. New size: 4
[2025-05-12T01:37:23.811Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Successfully updated history in DB.
[2025-05-12T01:37:23.812Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:37:23.812Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:37:24.092Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:37:24.093Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013837401][Conv:682150cdebeeb6ccfc2334d0] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T01:38:52.041Z] [SERVER SOCKET zK4W5C65T_ROKaMcAAAX - ON ANY] Event: send_message, Args: [{"userInput":"HEllo","isStreaming":true,"language":"en","conversationId":null}]
[2025-05-12T01:38:52.042Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042] Request received. UserInput: "HEllo", Streaming: true, Language: en, PayloadConvId: N/A, SocketDataConvId: 682150cdebeeb6ccfc2334d0
[2025-05-12T01:38:52.042Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T01:38:52.178Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T01:38:52.179Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T01:38:52.179Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:38:52.458Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:38:52.460Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Emitted updated conversation list. Reason: new conversation from send_message, Count: 20
[2025-05-12T01:38:52.527Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Fetched current history. Count: 0
[2025-05-12T01:38:52.527Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Calling streaming intent handler.
[2025-05-12T01:38:52.527Z] --- [zK4W-1747013932042 Socket zK4W5C65T_ROKaMcAAAX] Handling STREAMING input: "HEllo", Lang: en ---
[2025-05-12T01:38:52.528Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:38:52.528Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:38:52.528Z] --- [zK4W-1747013932042 HostAgent Streaming Turn 1 Start - zK4W5C65T_ROKaMcAAAX] ---
[2025-05-12T01:38:52.529Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:38:52.529Z] [zK4W-1747013932042 History T1 Send - zK4W5C65T_ROKaMcAAAX] Host History Size: 1
[2025-05-12T01:38:52.529Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-12T01:38:52.529Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-12T01:38:52.530Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:38:52.530Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:38:52.530Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:38:52.530Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:38:52.531Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:38:52.531Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-12T01:38:52.531Z]   - No valid next turn added, sending only history.
[2025-05-12T01:38:54.146Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:38:54.147Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:38:54.147Z] [zK4W-1747013932042 Stream Processing - zK4W5C65T_ROKaMcAAAX] Starting...
[2025-05-12T01:38:54.148Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:38:54.148Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:38:54.235Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:38:54.250Z] [zK4W-1747013932042 Stream Processing - zK4W5C65T_ROKaMcAAAX] Finished. Length: 77
[2025-05-12T01:38:54.250Z] [zK4W-1747013932042 zK4W5C65T_ROKaMcAAAX] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T01:38:54.251Z] [zK4W-1747013932042 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:38:54.251Z] --- [zK4W-1747013932042 zK4W5C65T_ROKaMcAAAX Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:38:54.251Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Intent handler returned updated history. Attempting save. New size: 2
[2025-05-12T01:38:54.329Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Successfully updated history in DB.
[2025-05-12T01:38:54.330Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:38:54.330Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:38:54.665Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:38:54.666Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747013932042][Conv:6821512cebeeb6ccfc2334d7] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T01:41:00.111Z] [SERVER SOCKET zK4W5C65T_ROKaMcAAAX - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":true,"language":"en","conversationId":null}]
[2025-05-12T01:41:00.112Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112] Request received. UserInput: "List some AI conferences in As...", Streaming: true, Language: en, PayloadConvId: N/A, SocketDataConvId: 6821512cebeeb6ccfc2334d7
[2025-05-12T01:41:00.112Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T01:41:00.253Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T01:41:00.253Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T01:41:00.254Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:41:00.525Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:41:00.526Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Emitted updated conversation list. Reason: new conversation from send_message, Count: 20
[2025-05-12T01:41:00.592Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Fetched current history. Count: 0
[2025-05-12T01:41:00.593Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Calling streaming intent handler.
[2025-05-12T01:41:00.593Z] --- [zK4W-1747014060112 Socket zK4W5C65T_ROKaMcAAAX] Handling STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-12T01:41:00.593Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:41:00.594Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:41:00.594Z] --- [zK4W-1747014060112 HostAgent Streaming Turn 1 Start - zK4W5C65T_ROKaMcAAAX] ---
[2025-05-12T01:41:00.595Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:41:00.595Z] [zK4W-1747014060112 History T1 Send - zK4W5C65T_ROKaMcAAAX] Host History Size: 1
[2025-05-12T01:41:00.596Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-12T01:41:00.596Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-12T01:41:00.596Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:41:00.596Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:41:00.597Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:41:00.597Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:41:00.597Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:41:00.597Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-12T01:41:00.597Z]   - No valid next turn added, sending only history.
[2025-05-12T01:41:02.422Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T01:41:02.422Z] [zK4W-1747014060112 HostAgent Streaming T1 - zK4W5C65T_ROKaMcAAAX] Requests function: routeToAgent
[2025-05-12T01:41:02.423Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:41:02.423Z] --- [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 Socket zK4W5C65T_ROKaMcAAAX] Calling Sub Agent: ConferenceAgent, Task: 6ed81e7a-d903-4430-8533-50e79afd88cc ---
[2025-05-12T01:41:02.423Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T01:41:02.424Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T01:41:02.424Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T01:41:02.424Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T01:41:02.424Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T01:41:02.425Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:41:02.425Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:41:02.425Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:41:02.425Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T01:41:02.426Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:41:02.426Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T01:41:02.426Z]   - No valid next turn added, sending only history.
[2025-05-12T01:41:03.210Z] Model Finish Reason: STOP
[2025-05-12T01:41:03.211Z] Model requested function call: getConferences
[2025-05-12T01:41:03.211Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T01:41:03.212Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T01:41:03.212Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423] ConferenceAgent requests function call: getConferences
[2025-05-12T01:41:03.236Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T01:41:03.242Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T01:41:03.244Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T01:41:03.246Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T01:41:03.247Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T01:41:03.248Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:41:03.248Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T01:41:03.249Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T01:41:03.250Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:41:03.250Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T01:41:03.250Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T01:41:03.251Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-12T01:41:03.974Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-12T01:41:03.974Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-12T01:41:03.975Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T01:41:03.975Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-12T01:41:03.984Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-12T01:41:03.984Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-12T01:41:03.985Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:41:03.985Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T01:41:03.985Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T01:41:03.985Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:41:03.985Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: data_found, Agent: ConferenceAgent
[2025-05-12T01:41:03.986Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T01:41:03.986Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:41:03.986Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T01:41:03.986Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T01:41:03.986Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 zK4W5C65T_ROKaMcAAAX Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T01:41:03.987Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T01:41:03.987Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T01:41:03.987Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Thought Added - zK4W5C65T_ROKaMcAAAX] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T01:41:03.988Z] [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423 SubAgent Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T01:41:03.988Z] --- [zK4W-1747014060112-Sub-ConferenceAgent-1747014062423] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T01:41:03.988Z] [zK4W-1747014060112 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T01:41:03.988Z] --- [zK4W-1747014060112 HostAgent Streaming Turn 2 Start - zK4W5C65T_ROKaMcAAAX] ---
[2025-05-12T01:41:03.988Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:41:03.988Z] [zK4W-1747014060112 History T2 Send - zK4W5C65T_ROKaMcAAAX] Host History Size: 3
[2025-05-12T01:41:03.989Z] [GeminiService] Received history with 3 items before mapping (for stream).
[2025-05-12T01:41:03.989Z] [GeminiService] Mapped history (SDK Content[]) with 3 items (for stream).
[2025-05-12T01:41:03.989Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T01:41:03.989Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:41:03.989Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:41:03.989Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:41:03.989Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:41:03.990Z] [GeminiService Stream] Preparing stream request with 3 Content items.
[2025-05-12T01:41:03.990Z]   - No valid next turn added, sending only history.
[2025-05-12T01:41:04.607Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:41:04.608Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:41:04.609Z] [zK4W-1747014060112 Stream Processing - zK4W5C65T_ROKaMcAAAX] Starting...
[2025-05-12T01:41:04.609Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:41:04.610Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:41:04.660Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:41:04.733Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:41:04.896Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:41:04.992Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:41:05.087Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:41:05.094Z] [zK4W-1747014060112 Stream Processing - zK4W5C65T_ROKaMcAAAX] Finished. Length: 550
[2025-05-12T01:41:05.094Z] [zK4W-1747014060112 zK4W5C65T_ROKaMcAAAX] Emitting final streaming chat_result with 15 thoughts.
[2025-05-12T01:41:05.095Z] [zK4W-1747014060112 Streaming Emit Sent - zK4W5C65T_ROKaMcAAAX] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:41:05.095Z] --- [zK4W-1747014060112 zK4W5C65T_ROKaMcAAAX Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:41:05.096Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Intent handler returned updated history. Attempting save. New size: 4
[2025-05-12T01:41:05.170Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Successfully updated history in DB.
[2025-05-12T01:41:05.170Z] [DEBUG] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:41:05.170Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:41:05.441Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:41:05.442Z] [INFO] [coreHandlers][zK4W5C65T_ROKaMcAAAX][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:zK4W-1747014060112][Conv:682151acebeeb6ccfc2334de] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T01:42:57.618Z] [SERVER GLOBAL][disconnect][zK4W5C65T_ROKaMcAAAX] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: 682151acebeeb6ccfc2334de
[2025-05-12T01:42:57.756Z] [socketAuth][6wa-r5t9lfF7U8AmAAAZ] Authentication attempt. Has token: true
[2025-05-12T01:42:57.758Z] [socketAuth][6wa-r5t9lfF7U8AmAAAZ] Token signature validated successfully.
[2025-05-12T01:42:57.759Z] [HistoryService] Initialized.
[2025-05-12T01:42:57.760Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ] New connection. Socket ID: 6wa-r5t9lfF7U8AmAAAZ. Initial socket.data.userId: null
[2025-05-12T01:42:57.760Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ] Client connected, processing authentication. Has token: true
[2025-05-12T01:42:57.760Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ] Attempting to fetch user info using token...
[2025-05-12T01:42:57.760Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:42:57.812Z] [SERVER GLOBAL][disconnect][a7POK59nz72E3nf2AAAV] Client disconnected. Reason: client namespace disconnect, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:42:58.293Z] [socketAuth][hARITVFXo9FqzOTMAAAb] Authentication attempt. Has token: true
[2025-05-12T01:42:58.296Z] [socketAuth][hARITVFXo9FqzOTMAAAb] Token signature validated successfully.
[2025-05-12T01:42:58.296Z] [HistoryService] Initialized.
[2025-05-12T01:42:58.296Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb] New connection. Socket ID: hARITVFXo9FqzOTMAAAb. Initial socket.data.userId: null
[2025-05-12T01:42:58.297Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb] Client connected, processing authentication. Has token: true
[2025-05-12T01:42:58.297Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb] Attempting to fetch user info using token...
[2025-05-12T01:42:58.297Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:42:58.418Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:42:58.418Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:42:58.419Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:42:58.419Z] [HistoryService] Initialized.
[2025-05-12T01:42:58.419Z] [coreHandlers][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:42:58.419Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:42:58.420Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:42:58.420Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:42:58.420Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:42:58.420Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:42:58.705Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:42:58.706Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 20
[2025-05-12T01:42:58.706Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:42:58.707Z] [SERVER GLOBAL][connection][6wa-r5t9lfF7U8AmAAAZ][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:42:58.917Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:42:58.917Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:42:58.918Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:42:58.918Z] [HistoryService] Initialized.
[2025-05-12T01:42:58.918Z] [coreHandlers][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:42:58.918Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:42:58.918Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:42:58.918Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:42:58.919Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:42:58.919Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:42:58.958Z] [SERVER SOCKET hARITVFXo9FqzOTMAAAb - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:42:59.064Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:42:59.065Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 20
[2025-05-12T01:42:59.065Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:42:59.066Z] [SERVER GLOBAL][connection][hARITVFXo9FqzOTMAAAb][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:42:59.405Z] [SERVER SOCKET 6wa-r5t9lfF7U8AmAAAZ - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:44:44.100Z] [SERVER GLOBAL][disconnect][6wa-r5t9lfF7U8AmAAAZ] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:44:47.407Z] [socketAuth][S--Z-exhq7E1sxhnAAAd] Authentication attempt. Has token: true
[2025-05-12T01:44:47.410Z] [socketAuth][S--Z-exhq7E1sxhnAAAd] Token signature validated successfully.
[2025-05-12T01:44:47.410Z] [HistoryService] Initialized.
[2025-05-12T01:44:47.411Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd] New connection. Socket ID: S--Z-exhq7E1sxhnAAAd. Initial socket.data.userId: null
[2025-05-12T01:44:47.411Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd] Client connected, processing authentication. Has token: true
[2025-05-12T01:44:47.411Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd] Attempting to fetch user info using token...
[2025-05-12T01:44:47.411Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:44:48.069Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:44:48.069Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:44:48.070Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:44:48.070Z] [HistoryService] Initialized.
[2025-05-12T01:44:48.070Z] [coreHandlers][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:44:48.070Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:44:48.070Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:44:48.071Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:44:48.071Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:44:48.071Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:44:48.074Z] [SERVER SOCKET S--Z-exhq7E1sxhnAAAd - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:44:48.355Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:44:48.356Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 20
[2025-05-12T01:44:48.356Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:44:48.356Z] [SERVER GLOBAL][connection][S--Z-exhq7E1sxhnAAAd][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:48:18.106Z] [SERVER GLOBAL][disconnect][S--Z-exhq7E1sxhnAAAd] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:48:25.635Z] [socketAuth][sZqAbvedoexetOBjAAAf] Authentication attempt. Has token: true
[2025-05-12T01:48:25.638Z] [socketAuth][sZqAbvedoexetOBjAAAf] Token signature validated successfully.
[2025-05-12T01:48:25.639Z] [HistoryService] Initialized.
[2025-05-12T01:48:25.639Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf] New connection. Socket ID: sZqAbvedoexetOBjAAAf. Initial socket.data.userId: null
[2025-05-12T01:48:25.639Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf] Client connected, processing authentication. Has token: true
[2025-05-12T01:48:25.640Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf] Attempting to fetch user info using token...
[2025-05-12T01:48:25.640Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:48:26.366Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:48:26.366Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:48:26.366Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:48:26.367Z] [HistoryService] Initialized.
[2025-05-12T01:48:26.367Z] [coreHandlers][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:48:26.367Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:48:26.367Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:48:26.367Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:48:26.368Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:48:26.368Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:48:26.377Z] [SERVER SOCKET sZqAbvedoexetOBjAAAf - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:48:26.640Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:48:26.641Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 20
[2025-05-12T01:48:26.641Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:48:26.641Z] [SERVER GLOBAL][connection][sZqAbvedoexetOBjAAAf][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:50:44.900Z] [SERVER GLOBAL][disconnect][sZqAbvedoexetOBjAAAf] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:50:48.127Z] [socketAuth][UNIgT5aMy7IMhTsiAAAh] Authentication attempt. Has token: true
[2025-05-12T01:50:48.129Z] [socketAuth][UNIgT5aMy7IMhTsiAAAh] Token signature validated successfully.
[2025-05-12T01:50:48.130Z] [HistoryService] Initialized.
[2025-05-12T01:50:48.130Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh] New connection. Socket ID: UNIgT5aMy7IMhTsiAAAh. Initial socket.data.userId: null
[2025-05-12T01:50:48.130Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh] Client connected, processing authentication. Has token: true
[2025-05-12T01:50:48.130Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh] Attempting to fetch user info using token...
[2025-05-12T01:50:48.130Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:50:48.856Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:50:48.856Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:50:48.857Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:50:48.857Z] [HistoryService] Initialized.
[2025-05-12T01:50:48.857Z] [coreHandlers][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:50:48.857Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:50:48.858Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:50:48.858Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:50:48.858Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:50:48.858Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:50:48.862Z] [SERVER SOCKET UNIgT5aMy7IMhTsiAAAh - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:50:49.130Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:50:49.131Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 20
[2025-05-12T01:50:49.131Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:50:49.132Z] [SERVER GLOBAL][connection][UNIgT5aMy7IMhTsiAAAh][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:55:00.389Z] [SERVER GLOBAL][disconnect][UNIgT5aMy7IMhTsiAAAh] Client disconnected. Reason: transport close, UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, ActiveConvId: N/A
[2025-05-12T01:55:04.934Z] [socketAuth][pj25FDL6p59Uz_YqAAAj] Authentication attempt. Has token: true
[2025-05-12T01:55:04.936Z] [socketAuth][pj25FDL6p59Uz_YqAAAj] Token signature validated successfully.
[2025-05-12T01:55:04.937Z] [HistoryService] Initialized.
[2025-05-12T01:55:04.937Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj] New connection. Socket ID: pj25FDL6p59Uz_YqAAAj. Initial socket.data.userId: null
[2025-05-12T01:55:04.937Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj] Client connected, processing authentication. Has token: true
[2025-05-12T01:55:04.938Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj] Attempting to fetch user info using token...
[2025-05-12T01:55:04.938Z] [API Client] Fetching user info from: https://confhub.westus3.cloudapp.azure.com/api/v1/user/me
[2025-05-12T01:55:05.585Z] [API Client] Successfully fetched user info for ID: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851
[2025-05-12T01:55:05.585Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj] User info fetched successfully. UserId: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Email: loicute5fps@gmail.com, Role: undefined
[2025-05-12T01:55:05.586Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers NOW.
[2025-05-12T01:55:05.586Z] [HistoryService] Initialized.
[2025-05-12T01:55:05.586Z] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Registering core event handlers for connection.
[2025-05-12T01:55:05.586Z] [INFO] Core event handlers successfully registered.
[2025-05-12T01:55:05.586Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:55:05.587Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Authenticated user session ready. Emitting connection_ready.
[2025-05-12T01:55:05.587Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Fetching initial conversation list...
[2025-05-12T01:55:05.587Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:55:05.706Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: get_initial_conversations, Args: []
[2025-05-12T01:55:05.876Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:55:05.877Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Sent initial conversation list. Count: 20
[2025-05-12T01:55:05.877Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Core event handlers registered successfully after user auth.
[2025-05-12T01:55:05.877Z] [SERVER GLOBAL][connection][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851] Emitted "server_ready" to client.
[2025-05-12T01:56:55.286Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"Hello","isStreaming":true,"language":"en","conversationId":null}]
[2025-05-12T01:56:55.286Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286] Request received. UserInput: "Hello", Streaming: true, Language: en, PayloadConvId: N/A, SocketDataConvId: N/A
[2025-05-12T01:56:55.287Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T01:56:55.428Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T01:56:55.428Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T01:56:55.429Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:56:55.703Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:56:55.704Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: new conversation from send_message, Count: 20
[2025-05-12T01:56:55.772Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Fetched current history. Count: 0
[2025-05-12T01:56:55.772Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Calling streaming intent handler.
[2025-05-12T01:56:55.773Z] --- [pj25-1747015015286 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "Hello", Lang: en ---
[2025-05-12T01:56:55.773Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T01:56:55.773Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:56:55.774Z] --- [pj25-1747015015286 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T01:56:55.774Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:56:55.774Z] [pj25-1747015015286 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 1
[2025-05-12T01:56:55.774Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-12T01:56:55.774Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-12T01:56:55.774Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T01:56:55.775Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T01:56:55.775Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T01:56:55.775Z] Tools provided: ["routeToAgent"]
[2025-05-12T01:56:55.775Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T01:56:55.775Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-12T01:56:55.776Z]   - No valid next turn added, sending only history.
[2025-05-12T01:56:57.466Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T01:56:57.467Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:56:57.467Z] [pj25-1747015015286 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T01:56:57.467Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T01:56:57.468Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:56:57.546Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T01:56:57.560Z] [pj25-1747015015286 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 33
[2025-05-12T01:56:57.561Z] [pj25-1747015015286 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T01:56:57.561Z] [pj25-1747015015286 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T01:56:57.561Z] --- [pj25-1747015015286 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T01:56:57.562Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Intent handler returned updated history. Attempting save. New size: 2
[2025-05-12T01:56:57.632Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Successfully updated history in DB.
[2025-05-12T01:56:57.632Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T01:56:57.633Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T01:56:57.903Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T01:56:57.904Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015015286][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:01:01.505Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"find conference in Asia","isStreaming":true,"language":"en","conversationId":"68215567ebeeb6ccfc2334eb"}]
[2025-05-12T02:01:01.506Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506] Request received. UserInput: "find conference in Asia", Streaming: true, Language: en, PayloadConvId: 68215567ebeeb6ccfc2334eb, SocketDataConvId: 68215567ebeeb6ccfc2334eb
[2025-05-12T02:01:01.507Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Using conversationId from payload.
[2025-05-12T02:01:01.575Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Fetched current history. Count: 2
[2025-05-12T02:01:01.576Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Calling streaming intent handler.
[2025-05-12T02:01:01.576Z] --- [pj25-1747015261506 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "find conference in Asia", Lang: en ---
[2025-05-12T02:01:01.576Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:01:01.577Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:01:01.577Z] --- [pj25-1747015261506 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:01:01.578Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:01:01.578Z] [pj25-1747015261506 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 3
[2025-05-12T02:01:01.578Z] [GeminiService] Received history with 3 items before mapping (for stream).
[2025-05-12T02:01:01.578Z] [GeminiService] Mapped history (SDK Content[]) with 3 items (for stream).
[2025-05-12T02:01:01.579Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:01:01.579Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:01:01.579Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:01:01.579Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:01:01.580Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:01:01.580Z] [GeminiService Stream] Preparing stream request with 3 Content items.
[2025-05-12T02:01:01.580Z]   - No valid next turn added, sending only history.
[2025-05-12T02:01:02.410Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T02:01:02.410Z] [pj25-1747015261506 HostAgent Streaming T1 - pj25FDL6p59Uz_YqAAAj] Requests function: routeToAgent
[2025-05-12T02:01:02.411Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:01:02.411Z] --- [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 Socket pj25FDL6p59Uz_YqAAAj] Calling Sub Agent: ConferenceAgent, Task: dc17a03f-03af-4484-9f5d-8c55d780ec3b ---
[2025-05-12T02:01:02.411Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T02:01:02.411Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T02:01:02.412Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T02:01:02.412Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T02:01:02.412Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T02:01:02.412Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:01:02.412Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:01:02.413Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:01:02.413Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T02:01:02.413Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:01:02.413Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T02:01:02.414Z]   - No valid next turn added, sending only history.
[2025-05-12T02:01:03.201Z] Model Finish Reason: STOP
[2025-05-12T02:01:03.201Z] Model requested function call: getConferences
[2025-05-12T02:01:03.201Z] Arguments: {"searchQuery":"continent=Asia&perPage=5&page=1"}
[2025-05-12T02:01:03.202Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T02:01:03.202Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411] ConferenceAgent requests function call: getConferences
[2025-05-12T02:01:03.202Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T02:01:03.202Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T02:01:03.203Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T02:01:03.203Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T02:01:03.203Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"continent=Asia&perPage=5&page=1"}
[2025-05-12T02:01:03.204Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T02:01:03.204Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T02:01:03.204Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T02:01:03.205Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T02:01:03.205Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T02:01:03.206Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T02:01:03.206Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?continent=Asia&perPage=5&page=1}
[2025-05-12T02:01:03.929Z] [BackendService] [conference] API Success (200). Data length: 4524. Attempting parsing...
[2025-05-12T02:01:03.929Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"5b1908b0-81fe-4e54-90a1-1bafaf2b6817","title":"Hội nghị diên hồng","acronym":"HNDH","location":{"cityStateProvince":"Gia Lai","country":"Vietnam","address":"12","continent":"Asia"},"researchFields":[],"topics":[],"dates":{"fromDate...
[2025-05-12T02:01:03.930Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T02:01:03.930Z] Transforming conference data with Markdown. Search query: continent=Asia&perPage=5&page=1
[2025-05-12T02:01:03.937Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 169
- **Total page:** 34
- **Prev page:** null
- **Next page:** 2

**Payload:**
---

**- Conference 1.**
  - **Title:** Hội nghị diên hồng
  - **Acronym:** HNDH
  - **Location:** 12...
[2025-05-12T02:01:03.937Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="continent=Asia&perPage=5&page=1"
[2025-05-12T02:01:03.937Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T02:01:03.938Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T02:01:03.938Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T02:01:03.939Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T02:01:03.940Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: data_found, Agent: ConferenceAgent
[2025-05-12T02:01:03.940Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T02:01:03.941Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T02:01:03.942Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T02:01:03.942Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T02:01:03.942Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 pj25FDL6p59Uz_YqAAAj Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T02:01:03.943Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T02:01:03.943Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T02:01:03.943Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T02:01:03.943Z] [pj25-1747015261506-Sub-ConferenceAgent-1747015262411 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T02:01:03.944Z] --- [pj25-1747015261506-Sub-ConferenceAgent-1747015262411] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T02:01:03.944Z] [pj25-1747015261506 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T02:01:03.944Z] --- [pj25-1747015261506 HostAgent Streaming Turn 2 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:01:03.944Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:01:03.944Z] [pj25-1747015261506 History T2 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 5
[2025-05-12T02:01:03.944Z] [GeminiService] Received history with 5 items before mapping (for stream).
[2025-05-12T02:01:03.945Z] [GeminiService] Mapped history (SDK Content[]) with 5 items (for stream).
[2025-05-12T02:01:03.945Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T02:01:03.945Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:01:03.945Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:01:03.946Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:01:03.946Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:01:03.946Z] [GeminiService Stream] Preparing stream request with 5 Content items.
[2025-05-12T02:01:03.946Z]   - No valid next turn added, sending only history.
[2025-05-12T02:01:04.511Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:01:04.512Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:01:04.512Z] [pj25-1747015261506 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:01:04.512Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:01:04.513Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:04.580Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:04.683Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:04.811Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:04.940Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:05.142Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:05.422Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:05.686Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:05.937Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:06.258Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:06.517Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:06.786Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:07.044Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:07.319Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:07.575Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:07.843Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:08.313Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:01:08.314Z] [pj25-1747015261506 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 2747
[2025-05-12T02:01:08.314Z] [pj25-1747015261506 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 15 thoughts.
[2025-05-12T02:01:08.315Z] [pj25-1747015261506 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:01:08.315Z] --- [pj25-1747015261506 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:01:08.315Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Intent handler returned updated history. Attempting save. New size: 6
[2025-05-12T02:01:08.394Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Successfully updated history in DB.
[2025-05-12T02:01:08.394Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:01:08.394Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:01:08.672Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:01:08.673Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015261506][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:02:17.064Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"OKe","isStreaming":true,"language":"en","conversationId":"68215567ebeeb6ccfc2334eb"}]
[2025-05-12T02:02:17.065Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065] Request received. UserInput: "OKe", Streaming: true, Language: en, PayloadConvId: 68215567ebeeb6ccfc2334eb, SocketDataConvId: 68215567ebeeb6ccfc2334eb
[2025-05-12T02:02:17.065Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Using conversationId from payload.
[2025-05-12T02:02:17.135Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Fetched current history. Count: 6
[2025-05-12T02:02:17.135Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Calling streaming intent handler.
[2025-05-12T02:02:17.135Z] --- [pj25-1747015337065 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "OKe", Lang: en ---
[2025-05-12T02:02:17.135Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:02:17.136Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:02:17.136Z] --- [pj25-1747015337065 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:02:17.137Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:02:17.137Z] [pj25-1747015337065 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 7
[2025-05-12T02:02:17.137Z] [GeminiService] Received history with 7 items before mapping (for stream).
[2025-05-12T02:02:17.137Z] [GeminiService] Mapped history (SDK Content[]) with 7 items (for stream).
[2025-05-12T02:02:17.138Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:02:17.138Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:02:17.138Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:02:17.139Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:02:17.140Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:02:17.140Z] [GeminiService Stream] Preparing stream request with 7 Content items.
[2025-05-12T02:02:17.140Z]   - No valid next turn added, sending only history.
[2025-05-12T02:02:17.902Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:02:17.902Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:02:17.903Z] [pj25-1747015337065 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:02:17.903Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:02:17.903Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:02:18.025Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:02:18.032Z] [pj25-1747015337065 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 50
[2025-05-12T02:02:18.032Z] [pj25-1747015337065 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:02:18.033Z] [pj25-1747015337065 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:02:18.033Z] --- [pj25-1747015337065 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:02:18.033Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Intent handler returned updated history. Attempting save. New size: 8
[2025-05-12T02:02:18.108Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Successfully updated history in DB.
[2025-05-12T02:02:18.109Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:02:18.109Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:02:18.382Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:02:18.383Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015337065][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:03:19.353Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"Hello","isStreaming":true,"language":"en","conversationId":"68215567ebeeb6ccfc2334eb"}]
[2025-05-12T02:03:19.353Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353] Request received. UserInput: "Hello", Streaming: true, Language: en, PayloadConvId: 68215567ebeeb6ccfc2334eb, SocketDataConvId: 68215567ebeeb6ccfc2334eb
[2025-05-12T02:03:19.364Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Using conversationId from payload.
[2025-05-12T02:03:19.437Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Fetched current history. Count: 8
[2025-05-12T02:03:19.437Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Calling streaming intent handler.
[2025-05-12T02:03:19.437Z] --- [pj25-1747015399353 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "Hello", Lang: en ---
[2025-05-12T02:03:19.437Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:03:19.438Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:19.444Z] --- [pj25-1747015399353 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:03:19.445Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:19.447Z] [pj25-1747015399353 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 9
[2025-05-12T02:03:19.448Z] [GeminiService] Received history with 9 items before mapping (for stream).
[2025-05-12T02:03:19.450Z] [GeminiService] Mapped history (SDK Content[]) with 9 items (for stream).
[2025-05-12T02:03:19.450Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:03:19.451Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:03:19.451Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:03:19.451Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:03:19.452Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:03:19.452Z] [GeminiService Stream] Preparing stream request with 9 Content items.
[2025-05-12T02:03:19.452Z]   - No valid next turn added, sending only history.
[2025-05-12T02:03:21.106Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:03:21.106Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:21.107Z] [pj25-1747015399353 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:03:21.107Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:21.107Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:03:21.211Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:03:21.217Z] [pj25-1747015399353 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 33
[2025-05-12T02:03:21.218Z] [pj25-1747015399353 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:03:21.218Z] [pj25-1747015399353 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:03:21.218Z] --- [pj25-1747015399353 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:03:21.219Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Intent handler returned updated history. Attempting save. New size: 10
[2025-05-12T02:03:21.306Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Successfully updated history in DB.
[2025-05-12T02:03:21.306Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:03:21.306Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:03:21.574Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:03:21.575Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015399353][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:03:46.229Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"Who are you ?","isStreaming":true,"language":"en","conversationId":"68215567ebeeb6ccfc2334eb"}]
[2025-05-12T02:03:46.230Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230] Request received. UserInput: "Who are you ?", Streaming: true, Language: en, PayloadConvId: 68215567ebeeb6ccfc2334eb, SocketDataConvId: 68215567ebeeb6ccfc2334eb
[2025-05-12T02:03:46.230Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Using conversationId from payload.
[2025-05-12T02:03:46.300Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Fetched current history. Count: 10
[2025-05-12T02:03:46.300Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Calling streaming intent handler.
[2025-05-12T02:03:46.300Z] --- [pj25-1747015426230 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "Who are you ?", Lang: en ---
[2025-05-12T02:03:46.300Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:03:46.301Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:46.301Z] --- [pj25-1747015426230 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:03:46.301Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:46.302Z] [pj25-1747015426230 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 11
[2025-05-12T02:03:46.302Z] [GeminiService] Received history with 11 items before mapping (for stream).
[2025-05-12T02:03:46.302Z] [GeminiService] Mapped history (SDK Content[]) with 11 items (for stream).
[2025-05-12T02:03:46.302Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:03:46.302Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:03:46.303Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:03:46.303Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:03:46.303Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:03:46.303Z] [GeminiService Stream] Preparing stream request with 11 Content items.
[2025-05-12T02:03:46.303Z]   - No valid next turn added, sending only history.
[2025-05-12T02:03:48.013Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:03:48.014Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:48.014Z] [pj25-1747015426230 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:03:48.015Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:03:48.016Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:03:48.122Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:03:48.220Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:03:48.259Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:03:48.266Z] [pj25-1747015426230 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 213
[2025-05-12T02:03:48.266Z] [pj25-1747015426230 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:03:48.267Z] [pj25-1747015426230 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:03:48.267Z] --- [pj25-1747015426230 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:03:48.268Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Intent handler returned updated history. Attempting save. New size: 12
[2025-05-12T02:03:48.346Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Successfully updated history in DB.
[2025-05-12T02:03:48.346Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:03:48.346Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:03:48.621Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:03:48.623Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015426230][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:05:17.056Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"heiufhh","isStreaming":true,"language":"en","conversationId":"68215567ebeeb6ccfc2334eb"}]
[2025-05-12T02:05:17.058Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058] Request received. UserInput: "heiufhh", Streaming: true, Language: en, PayloadConvId: 68215567ebeeb6ccfc2334eb, SocketDataConvId: 68215567ebeeb6ccfc2334eb
[2025-05-12T02:05:17.058Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Using conversationId from payload.
[2025-05-12T02:05:17.124Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Fetched current history. Count: 12
[2025-05-12T02:05:17.125Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Calling streaming intent handler.
[2025-05-12T02:05:17.125Z] --- [pj25-1747015517058 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "heiufhh", Lang: en ---
[2025-05-12T02:05:17.125Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:05:17.126Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:05:17.126Z] --- [pj25-1747015517058 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:05:17.126Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:05:17.127Z] [pj25-1747015517058 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 13
[2025-05-12T02:05:17.127Z] [GeminiService] Received history with 13 items before mapping (for stream).
[2025-05-12T02:05:17.127Z] [GeminiService] Mapped history (SDK Content[]) with 13 items (for stream).
[2025-05-12T02:05:17.127Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:05:17.127Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:05:17.128Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:05:17.128Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:05:17.128Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:05:17.128Z] [GeminiService Stream] Preparing stream request with 13 Content items.
[2025-05-12T02:05:17.128Z]   - No valid next turn added, sending only history.
[2025-05-12T02:05:18.816Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:05:18.817Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:05:18.817Z] [pj25-1747015517058 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:05:18.817Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:05:18.818Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:05:18.939Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:05:18.946Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:05:18.952Z] [pj25-1747015517058 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 93
[2025-05-12T02:05:18.952Z] [pj25-1747015517058 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:05:18.956Z] [pj25-1747015517058 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:05:18.957Z] --- [pj25-1747015517058 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:05:18.958Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Intent handler returned updated history. Attempting save. New size: 14
[2025-05-12T02:05:19.038Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Successfully updated history in DB.
[2025-05-12T02:05:19.039Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:05:19.039Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:05:19.314Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:05:19.315Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747015517058][Conv:68215567ebeeb6ccfc2334eb] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:22:02.158Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"List some AI conferences in Asia.","isStreaming":true,"language":"en","conversationId":null}]
[2025-05-12T02:22:02.159Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159] Request received. UserInput: "List some AI conferences in As...", Streaming: true, Language: en, PayloadConvId: N/A, SocketDataConvId: 68215567ebeeb6ccfc2334eb
[2025-05-12T02:22:02.160Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159] payloadConversationId is null/undefined. Client requests new conversation.
[2025-05-12T02:22:02.303Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Explicitly created new conversation based on payload and set as active. Title: "Chat mới"
[2025-05-12T02:22:02.304Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Attempting to fetch and emit updated conversation list. Reason: new conversation from send_message
[2025-05-12T02:22:02.304Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:22:02.580Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:22:02.581Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Emitted updated conversation list. Reason: new conversation from send_message, Count: 20
[2025-05-12T02:22:02.648Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Fetched current history. Count: 0
[2025-05-12T02:22:02.648Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Calling streaming intent handler.
[2025-05-12T02:22:02.649Z] --- [pj25-1747016522159 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "List some AI conferences in Asia.", Lang: en ---
[2025-05-12T02:22:02.649Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:22:02.649Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:22:02.649Z] --- [pj25-1747016522159 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:22:02.650Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:22:02.650Z] [pj25-1747016522159 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 1
[2025-05-12T02:22:02.650Z] [GeminiService] Received history with 1 items before mapping (for stream).
[2025-05-12T02:22:02.650Z] [GeminiService] Mapped history (SDK Content[]) with 1 items (for stream).
[2025-05-12T02:22:02.651Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:22:02.651Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:22:02.651Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:22:02.651Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:22:02.651Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:22:02.651Z] [GeminiService Stream] Preparing stream request with 1 Content items.
[2025-05-12T02:22:02.651Z]   - No valid next turn added, sending only history.
[2025-05-12T02:22:04.461Z] [GeminiService Stream] Received function call in first chunk: routeToAgent
[2025-05-12T02:22:04.462Z] [pj25-1747016522159 HostAgent Streaming T1 - pj25FDL6p59Uz_YqAAAj] Requests function: routeToAgent
[2025-05-12T02:22:04.462Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:22:04.463Z] --- [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 Socket pj25FDL6p59Uz_YqAAAj] Calling Sub Agent: ConferenceAgent, Task: 03167c36-3eeb-4243-aa53-fe117d7d3115 ---
[2025-05-12T02:22:04.463Z] [Language Config] Using configuration for Agent: ConferenceAgent, Language: en
[2025-05-12T02:22:04.463Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: sub_agent_thinking, Agent: ConferenceAgent
[2025-05-12T02:22:04.463Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: sub_agent_thinking for ConferenceAgent
[2025-05-12T02:22:04.464Z] [GeminiService] Received history with 1 items before mapping.
[2025-05-12T02:22:04.464Z] [GeminiService] Mapped to effectiveHistory (SDK Content[]) with 1 items.
[2025-05-12T02:22:04.464Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:22:04.464Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:22:04.464Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:22:04.465Z] Tools provided: ["getConferences","followUnfollowItem"]
[2025-05-12T02:22:04.465Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:22:04.465Z] [GeminiService] Sending total 1 Content items to API.
[2025-05-12T02:22:04.465Z]   - No valid next turn added, sending only history.
[2025-05-12T02:22:05.273Z] Model Finish Reason: STOP
[2025-05-12T02:22:05.274Z] Model requested function call: getConferences
[2025-05-12T02:22:05.274Z] Arguments: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T02:22:05.274Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463] LLM result from ConferenceAgent: Status requires_function_call
[2025-05-12T02:22:05.275Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463] ConferenceAgent requests function call: getConferences
[2025-05-12T02:22:05.275Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Agent:ConferenceAgent FuncRegistry Func:getConferences] Received request.
[2025-05-12T02:22:05.276Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: function_call_received, Agent: ConferenceAgent
[2025-05-12T02:22:05.277Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: function_call_received for ConferenceAgent
[2025-05-12T02:22:05.277Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Agent:ConferenceAgent FuncRegistry Func:getConferences] Executing handler...
[2025-05-12T02:22:05.278Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Executing with args: {"searchQuery":"topics=AI&continent=Asia&perPage=5&page=1"}
[2025-05-12T02:22:05.278Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T02:22:05.278Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: validating_function_args, Agent: ConferenceAgent
[2025-05-12T02:22:05.279Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: validating_function_args for ConferenceAgent
[2025-05-12T02:22:05.279Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T02:22:05.279Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: retrieving_info, Agent: ConferenceAgent
[2025-05-12T02:22:05.279Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: retrieving_info for ConferenceAgent
[2025-05-12T02:22:05.279Z] [BackendService] [conference] Executing API call: GET https://confhub.westus3.cloudapp.azure.com/api/v1/conference?topics=AI&continent=Asia&perPage=5&page=1}
[2025-05-12T02:22:05.995Z] [BackendService] [conference] API Success (200). Data length: 10310. Attempting parsing...
[2025-05-12T02:22:05.996Z] [BackendService] [conference] Parsed successful. Raw data: 
{"payload":[{"id":"287aa165-fdd4-41aa-9860-10d161bf15cc","title":"International Symposium on Search Based Software Engineering","acronym":"SSBSE","location":{"cityStateProvince":"Seoul","country":"South Korea","address":"Seoul, South Korea","continen...
[2025-05-12T02:22:05.996Z] [BackendService] [conference] Applying transformation function: transformConferenceData
[2025-05-12T02:22:05.996Z] Transforming conference data with Markdown. Search query: topics=AI&continent=Asia&perPage=5&page=1
[2025-05-12T02:22:06.003Z] [BackendService] [conference] Transformation successful. Transformed data: 
**Meta:**
- **Current page:** 1
- **Per page:** 5
- **Total items:** 5
- **Total page:** 1
- **Prev page:** null
- **Next page:** null

**Payload:**
---

**- Conference 1.**
  - **Title:** International Symposium on Search Based Software Engineering
...
[2025-05-12T02:22:06.003Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] API Result: Success=true, Query="topics=AI&continent=Asia&perPage=5&page=1"
[2025-05-12T02:22:06.003Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T02:22:06.004Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: api_call_success, Agent: ConferenceAgent
[2025-05-12T02:22:06.004Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: api_call_success for ConferenceAgent
[2025-05-12T02:22:06.004Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: data_found, Agent: ConferenceAgent
[2025-05-12T02:22:06.005Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: data_found, Agent: ConferenceAgent
[2025-05-12T02:22:06.005Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: data_found for ConferenceAgent
[2025-05-12T02:22:06.005Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Handler:GetConferences Agent:ConferenceAgent] Thought added: Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T02:22:06.005Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: function_result_prepared, Agent: ConferenceAgent
[2025-05-12T02:22:06.006Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: function_result_prepared for ConferenceAgent
[2025-05-12T02:22:06.006Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 pj25FDL6p59Uz_YqAAAj Agent:ConferenceAgent FuncRegistry Func:getConferences] Handler execution finished. Result indicates error: false
[2025-05-12T02:22:06.006Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: function_result_processed, Agent: ConferenceAgent
[2025-05-12T02:22:06.006Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: function_result_processed for ConferenceAgent
[2025-05-12T02:22:06.007Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Thought Added - pj25FDL6p59Uz_YqAAAj] Step: sub_agent_processing_complete, Agent: ConferenceAgent
[2025-05-12T02:22:06.007Z] [pj25-1747016522159-Sub-ConferenceAgent-1747016524463 SubAgent Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Step: sub_agent_processing_complete for ConferenceAgent
[2025-05-12T02:22:06.008Z] --- [pj25-1747016522159-Sub-ConferenceAgent-1747016524463] Sub Agent ConferenceAgent finished. Status: success, Thoughts collected: 9 ---
[2025-05-12T02:22:06.008Z] [pj25-1747016522159 Streaming] Appended 9 thoughts from ConferenceAgent. Total: 12
[2025-05-12T02:22:06.009Z] --- [pj25-1747016522159 HostAgent Streaming Turn 2 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:22:06.010Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:22:06.010Z] [pj25-1747016522159 History T2 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 3
[2025-05-12T02:22:06.011Z] [GeminiService] Received history with 3 items before mapping (for stream).
[2025-05-12T02:22:06.011Z] [GeminiService] Mapped history (SDK Content[]) with 3 items (for stream).
[2025-05-12T02:22:06.011Z] [GeminiService] Last item role in effectiveHistory: function
[2025-05-12T02:22:06.011Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:22:06.011Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:22:06.011Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:22:06.012Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:22:06.012Z] [GeminiService Stream] Preparing stream request with 3 Content items.
[2025-05-12T02:22:06.012Z]   - No valid next turn added, sending only history.
[2025-05-12T02:22:06.660Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:22:06.661Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:22:06.661Z] [pj25-1747016522159 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:22:06.661Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:22:06.661Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:22:06.711Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:22:06.777Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:22:06.906Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:22:06.920Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:22:06.925Z] [pj25-1747016522159 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 247
[2025-05-12T02:22:06.926Z] [pj25-1747016522159 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 15 thoughts.
[2025-05-12T02:22:06.927Z] [pj25-1747016522159 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:22:06.927Z] --- [pj25-1747016522159 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:22:06.928Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Intent handler returned updated history. Attempting save. New size: 4
[2025-05-12T02:22:07.007Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Successfully updated history in DB.
[2025-05-12T02:22:07.008Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:22:07.009Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:22:07.286Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:22:07.287Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016522159][Conv:68215b4aebeeb6ccfc233501] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:25:36.983Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"HEllo","isStreaming":true,"language":"en","conversationId":"68215b4aebeeb6ccfc233501"}]
[2025-05-12T02:25:36.984Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984] Request received. UserInput: "HEllo", Streaming: true, Language: en, PayloadConvId: 68215b4aebeeb6ccfc233501, SocketDataConvId: 68215b4aebeeb6ccfc233501
[2025-05-12T02:25:36.984Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Using conversationId from payload.
[2025-05-12T02:25:37.051Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Fetched current history. Count: 4
[2025-05-12T02:25:37.052Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Calling streaming intent handler.
[2025-05-12T02:25:37.052Z] --- [pj25-1747016736984 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "HEllo", Lang: en ---
[2025-05-12T02:25:37.052Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:25:37.053Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:37.054Z] --- [pj25-1747016736984 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:25:37.054Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:37.055Z] [pj25-1747016736984 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 5
[2025-05-12T02:25:37.055Z] [GeminiService] Received history with 5 items before mapping (for stream).
[2025-05-12T02:25:37.056Z] [GeminiService] Mapped history (SDK Content[]) with 5 items (for stream).
[2025-05-12T02:25:37.056Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:25:37.056Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:25:37.057Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:25:37.057Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:25:37.058Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:25:37.058Z] [GeminiService Stream] Preparing stream request with 5 Content items.
[2025-05-12T02:25:37.059Z]   - No valid next turn added, sending only history.
[2025-05-12T02:25:37.819Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:25:37.821Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:37.821Z] [pj25-1747016736984 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:25:37.822Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:37.823Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:25:37.897Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:25:37.910Z] [pj25-1747016736984 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 33
[2025-05-12T02:25:37.910Z] [pj25-1747016736984 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:25:37.911Z] [pj25-1747016736984 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:25:37.911Z] --- [pj25-1747016736984 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:25:37.911Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Intent handler returned updated history. Attempting save. New size: 6
[2025-05-12T02:25:37.990Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Successfully updated history in DB.
[2025-05-12T02:25:37.991Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:25:37.991Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:25:38.265Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:25:38.266Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016736984][Conv:68215b4aebeeb6ccfc233501] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:25:43.784Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"Oke","isStreaming":true,"language":"en","conversationId":"68215b4aebeeb6ccfc233501"}]
[2025-05-12T02:25:43.784Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784] Request received. UserInput: "Oke", Streaming: true, Language: en, PayloadConvId: 68215b4aebeeb6ccfc233501, SocketDataConvId: 68215b4aebeeb6ccfc233501
[2025-05-12T02:25:43.785Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Using conversationId from payload.
[2025-05-12T02:25:43.854Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Fetched current history. Count: 6
[2025-05-12T02:25:43.854Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Calling streaming intent handler.
[2025-05-12T02:25:43.854Z] --- [pj25-1747016743784 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "Oke", Lang: en ---
[2025-05-12T02:25:43.854Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:25:43.855Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:43.856Z] --- [pj25-1747016743784 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:25:43.856Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:43.857Z] [pj25-1747016743784 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 7
[2025-05-12T02:25:43.857Z] [GeminiService] Received history with 7 items before mapping (for stream).
[2025-05-12T02:25:43.857Z] [GeminiService] Mapped history (SDK Content[]) with 7 items (for stream).
[2025-05-12T02:25:43.857Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:25:43.858Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:25:43.858Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:25:43.858Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:25:43.858Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:25:43.858Z] [GeminiService Stream] Preparing stream request with 7 Content items.
[2025-05-12T02:25:43.859Z]   - No valid next turn added, sending only history.
[2025-05-12T02:25:45.553Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:25:45.554Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:45.555Z] [pj25-1747016743784 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:25:45.556Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:25:45.556Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:25:45.650Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:25:45.655Z] [pj25-1747016743784 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 55
[2025-05-12T02:25:45.656Z] [pj25-1747016743784 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:25:45.656Z] [pj25-1747016743784 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:25:45.657Z] --- [pj25-1747016743784 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:25:45.657Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Intent handler returned updated history. Attempting save. New size: 8
[2025-05-12T02:25:45.732Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Successfully updated history in DB.
[2025-05-12T02:25:45.732Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:25:45.732Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:25:46.006Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:25:46.007Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016743784][Conv:68215b4aebeeb6ccfc233501] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:26:02.741Z] [SERVER SOCKET pj25FDL6p59Uz_YqAAAj - ON ANY] Event: send_message, Args: [{"userInput":"Ok, let me know if you have any questions or requests!","isStreaming":true,"language":"en","conversationId":"68215b4aebeeb6ccfc233501"}]
[2025-05-12T02:26:02.742Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742] Request received. UserInput: "Ok, let me know if you have an...", Streaming: true, Language: en, PayloadConvId: 68215b4aebeeb6ccfc233501, SocketDataConvId: 68215b4aebeeb6ccfc233501
[2025-05-12T02:26:02.742Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Using conversationId from payload.
[2025-05-12T02:26:02.812Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Fetched current history. Count: 8
[2025-05-12T02:26:02.812Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Calling streaming intent handler.
[2025-05-12T02:26:02.812Z] --- [pj25-1747016762742 Socket pj25FDL6p59Uz_YqAAAj] Handling STREAMING input: "Ok, let me know if you have any questions or requests!", Lang: en ---
[2025-05-12T02:26:02.813Z] [Language Config] Using configuration for Agent: HostAgent, Language: en
[2025-05-12T02:26:02.813Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:26:02.814Z] --- [pj25-1747016762742 HostAgent Streaming Turn 1 Start - pj25FDL6p59Uz_YqAAAj] ---
[2025-05-12T02:26:02.814Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:26:02.814Z] [pj25-1747016762742 History T1 Send - pj25FDL6p59Uz_YqAAAj] Host History Size: 9
[2025-05-12T02:26:02.815Z] [GeminiService] Received history with 9 items before mapping (for stream).
[2025-05-12T02:26:02.815Z] [GeminiService] Mapped history (SDK Content[]) with 9 items (for stream).
[2025-05-12T02:26:02.816Z] [GeminiService] Last item role in effectiveHistory: user
[2025-05-12T02:26:02.816Z] Calling generateContent for model: gemini-2.0-flash
[2025-05-12T02:26:02.816Z] Generation Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:26:02.816Z] Tools provided: ["routeToAgent"]
[2025-05-12T02:26:02.817Z] [GeminiService] Received empty array or unexpected type as nextTurnInput, skipping adding this turn.
[2025-05-12T02:26:02.817Z] [GeminiService Stream] Preparing stream request with 9 Content items.
[2025-05-12T02:26:02.817Z]   - No valid next turn added, sending only history.
[2025-05-12T02:26:03.556Z] [GeminiService Stream] No function call in first chunk. Returning stream generator.
[2025-05-12T02:26:03.557Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:26:03.557Z] [pj25-1747016762742 Stream Processing - pj25FDL6p59Uz_YqAAAj] Starting...
[2025-05-12T02:26:03.557Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: status_update, Type: status, Agent: HostAgent
[2025-05-12T02:26:03.558Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:26:03.635Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_update, Type: partial_result, Agent: N/A
[2025-05-12T02:26:03.640Z] [pj25-1747016762742 Stream Processing - pj25FDL6p59Uz_YqAAAj] Finished. Length: 14
[2025-05-12T02:26:03.640Z] [pj25-1747016762742 pj25FDL6p59Uz_YqAAAj] Emitting final streaming chat_result with 4 thoughts.
[2025-05-12T02:26:03.641Z] [pj25-1747016762742 Streaming Emit Sent - pj25FDL6p59Uz_YqAAAj] Event: chat_result, Type: result, Agent: N/A
[2025-05-12T02:26:03.641Z] --- [pj25-1747016762742 pj25FDL6p59Uz_YqAAAj Lang: en] STREAMING Handler execution finished. (Socket connected: true) ---
[2025-05-12T02:26:03.641Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Intent handler returned updated history. Attempting save. New size: 10
[2025-05-12T02:26:03.724Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Successfully updated history in DB.
[2025-05-12T02:26:03.724Z] [DEBUG] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Attempting to fetch and emit updated conversation list. Reason: message saved
[2025-05-12T02:26:03.725Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Fetching conversation list.
[2025-05-12T02:26:04.000Z] [HistoryService] [List User: 772f98c9-8a52-46c1-ba2d-a51c8fc3c851, Limit: 20] Found 20 conversations.
[2025-05-12T02:26:04.001Z] [INFO] [coreHandlers][pj25FDL6p59Uz_YqAAAj][772f98c9-8a52-46c1-ba2d-a51c8fc3c851][Req:pj25-1747016762742][Conv:68215b4aebeeb6ccfc233501] Emitted updated conversation list. Reason: message saved, Count: 20
[2025-05-12T02:48:49.725Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-12T02:48:49.726Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:49:13.662Z] GeminiService initialized for model: gemini-2.0-flash
[2025-05-12T02:49:13.663Z] Chatbot Initialized. Model: gemini-2.0-flash, Config: {"temperature":1,"topP":0.95,"topK":40,"maxOutputTokens":8192,"responseMimeType":"text/plain"}
[2025-05-12T02:49:14.054Z] [MainLoader] Starting application loading process...
[2025-05-12T02:49:14.054Z] [DatabaseLoader] Attempting database connection...
[2025-05-12T02:49:14.055Z] [Database] Attempting MongoDB connection...
[2025-05-12T02:49:14.924Z] [Database] MongoDB Connected Successfully.
[2025-05-12T02:49:14.925Z] [DatabaseLoader] Database connection successful.
[2025-05-12T02:49:14.925Z] [MainLoader] Database loaded.
[2025-05-12T02:49:14.925Z] [MainLoader] Services will be managed by DI container.
[2025-05-12T02:49:14.926Z] [ExpressLoader] Configuring Express app...
[2025-05-12T02:49:14.931Z] [ExpressLoader] Core middleware applied (CORS, JSON, URLencoded, Text, RequestLogger).
[2025-05-12T02:49:14.935Z] [ExpressLoader] Mounted API routes at /api.
[2025-05-12T02:49:14.936Z] [ExpressLoader] Registered Not Found handler.
[2025-05-12T02:49:14.936Z] [ExpressLoader] Registered Global Error handler.
[2025-05-12T02:49:14.936Z] [ExpressLoader] Express app configured successfully.
[2025-05-12T02:49:14.937Z] [MainLoader] Express loaded.
[2025-05-12T02:49:14.938Z] [SocketIOLoader] Initializing Socket.IO server...
[2025-05-12T02:49:14.942Z] [SocketIOLoader] Socket.IO authentication middleware applied.
[2025-05-12T02:49:14.942Z] [SocketIOLoader] Socket.IO connection handler registered.
[2025-05-12T02:49:14.943Z] [SocketIOLoader] Socket.IO server initialized successfully.
[2025-05-12T02:49:14.943Z] [MainLoader] Socket.IO loaded.
[2025-05-12T02:49:14.944Z] [JobsLoader] Scheduling background jobs...
[2025-05-12T02:49:14.987Z] [JobsLoader] Background jobs scheduling initiated.
[2025-05-12T02:49:14.988Z] [MainLoader] Jobs scheduled.
[2025-05-12T02:49:14.988Z] [MainLoader][Task:InitialLogAnalysis] Performing initial log analysis...
[2025-05-12T02:49:15.027Z] [MainLoader][Task:InitialLogAnalysis] Initial log analysis completed.
[2025-05-12T02:49:15.027Z] [MainLoader] All basic loaders completed successfully.
